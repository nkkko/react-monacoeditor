"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[745],{79670:function(e,t,n){n.d(t,{N:function(){return u},q:function(){return a}});var r=n(22951),i=n(91976),o=n(51416),u=function(){function e(t){(0,r.Z)(this,e);var n=(0,o.K)(t);this._defaultValue=n,this._asciiMap=e._createAsciiMap(n),this._map=new Map}return(0,i.Z)(e,[{key:"set",value:function(e,t){var n=(0,o.K)(t);e>=0&&e<256?this._asciiMap[e]=n:this._map.set(e,n)}},{key:"get",value:function(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}},{key:"clear",value:function(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}],[{key:"_createAsciiMap",value:function(e){var t=new Uint8Array(256);return t.fill(e),t}}]),e}(),a=function(){function e(){(0,r.Z)(this,e),this._actual=new u(0)}return(0,i.Z)(e,[{key:"add",value:function(e){this._actual.set(e,1)}},{key:"has",value:function(e){return 1===this._actual.get(e)}},{key:"clear",value:function(){return this._actual.clear()}}]),e}()},20596:function(e,t,n){n.d(t,{i:function(){return u}});var r=n(22951),i=n(91976),o=n(17224),u=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"_nextVisibleColumn",value:function(t,n,r){return 9===t?e.nextRenderTabStop(n,r):o.K7(t)||o.C8(t)?n+2:n+1}},{key:"visibleColumnFromColumn",value:function(e,t,n){for(var r=Math.min(t-1,e.length),i=e.substring(0,r),u=new o.W1(i),a=0;!u.eol();){var l=o.ZH(i,r,u.offset);u.nextGraphemeLength(),a=this._nextVisibleColumn(l,a,n)}return a}},{key:"columnFromVisibleColumn",value:function(e,t,n){if(t<=0)return 1;for(var r=e.length,i=new o.W1(e),u=0,a=1;!i.eol();){var l=o.ZH(e,r,i.offset);i.nextGraphemeLength();var s=this._nextVisibleColumn(l,u,n),c=i.offset+1;if(s>=t)return s-t<t-u?c:a;u=s,a=c}return r+1}},{key:"nextRenderTabStop",value:function(e,t){return e+t-e%t}},{key:"nextIndentTabStop",value:function(e,t){return e+t-e%t}},{key:"prevRenderTabStop",value:function(e,t){return Math.max(0,e-1-(e-1)%t)}},{key:"prevIndentTabStop",value:function(e,t){return Math.max(0,e-1-(e-1)%t)}}]),e}()},95354:function(e,t,n){n.d(t,{h:function(){return u}});var r=n(22951),i=n(91976),o=n(55597),u=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"insert",value:function(e,t){return{range:new o.e(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}},{key:"delete",value:function(e){return{range:e,text:null}}},{key:"replace",value:function(e,t){return{range:e,text:t}}},{key:"replaceMove",value:function(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}]),e}()},78873:function(e,t,n){n.d(t,{Bj:function(){return g},CE:function(){return P},DS:function(){return R},HV:function(){return z},Jn:function(){return I},Kh:function(){return a},L7:function(){return F},Mm:function(){return l},Qb:function(){return W},Re:function(){return w},To:function(){return Z},UP:function(){return x},Vs:function(){return _},YF:function(){return O},Ym:function(){return f},dI:function(){return d},eS:function(){return y},e_:function(){return p},f9:function(){return G},fY:function(){return c},hw:function(){return m},lK:function(){return S},lS:function(){return A},m$:function(){return M},m1:function(){return E},m3:function(){return D},m9:function(){return L},n0:function(){return s},oV:function(){return V},r0:function(){return T},tR:function(){return h},ts:function(){return B},zJ:function(){return N},zu:function(){return b},zw:function(){return C}});var r=n(26511),i=n(57612),o=n(24999),u=n(58023),a=(0,o.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},r.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),l=(0,o.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:o.lRK},r.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),s=((0,o.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},r.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),(0,o.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:o.xL1,hcLight:o.xL1},r.NC("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),(0,o.P6G)("editor.symbolHighlightBackground",{dark:o.MUv,light:o.MUv,hcDark:null,hcLight:null},r.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),(0,o.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:o.xL1,hcLight:o.xL1},r.NC("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),(0,o.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:i.Il.black,hcDark:i.Il.white,hcLight:"#0F4A85"},r.NC("caret","Color of the editor cursor."))),c=(0,o.P6G)("editorCursor.background",null,r.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),d=(0,o.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},r.NC("editorWhitespaces","Color of whitespace characters in the editor.")),h=(0,o.P6G)("editorIndentGuide.background",{dark:d,light:d,hcDark:d,hcLight:d},r.NC("editorIndentGuides","Color of the editor indentation guides.")),f=(0,o.P6G)("editorIndentGuide.activeBackground",{dark:d,light:d,hcDark:d,hcLight:d},r.NC("editorActiveIndentGuide","Color of the active editor indentation guides.")),m=(0,o.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:i.Il.white,hcLight:"#292929"},r.NC("editorLineNumbers","Color of editor line numbers.")),v=(0,o.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:o.xL1,hcLight:o.xL1},r.NC("editorActiveLineNumber","Color of editor active line number"),!1,r.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),g=((0,o.P6G)("editorLineNumber.activeForeground",{dark:v,light:v,hcDark:v,hcLight:v},r.NC("editorActiveLineNumber","Color of editor active line number")),(0,o.P6G)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},r.NC("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed."))),C=((0,o.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:i.Il.lightgrey,hcDark:i.Il.white,hcLight:"#292929"},r.NC("editorRuler","Color of the editor rulers.")),(0,o.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},r.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),(0,o.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},r.NC("editorBracketMatchBackground","Background color behind matching brackets")),(0,o.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:o.lRK,hcLight:o.lRK},r.NC("editorBracketMatchBorder","Color for matching brackets boxes")),(0,o.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},r.NC("editorOverviewRulerBorder","Color of the overview ruler border."))),p=(0,o.P6G)("editorOverviewRuler.background",null,r.NC("editorOverviewRulerBackground","Background color of the editor overview ruler.")),b=((0,o.P6G)("editorGutter.background",{dark:o.cvW,light:o.cvW,hcDark:o.cvW,hcLight:o.cvW},r.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),(0,o.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:i.Il.fromHex("#fff").transparent(.8),hcLight:o.lRK},r.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),(0,o.P6G)("editorUnnecessaryCode.opacity",{dark:i.Il.fromHex("#000a"),light:i.Il.fromHex("#0007"),hcDark:null,hcLight:null},r.NC("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out."))),k=((0,o.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:i.Il.fromHex("#fff").transparent(.8),hcLight:i.Il.fromHex("#292929").transparent(.8)},r.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),(0,o.P6G)("editorGhostText.foreground",{dark:i.Il.fromHex("#ffffff56"),light:i.Il.fromHex("#0007"),hcDark:null,hcLight:null},r.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),(0,o.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},r.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),new i.Il(new i.VS(0,122,204,.6))),L=(0,o.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:k,light:k,hcDark:k,hcLight:k},r.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),S=(0,o.P6G)("editorOverviewRuler.errorForeground",{dark:new i.Il(new i.VS(255,18,18,.7)),light:new i.Il(new i.VS(255,18,18,.7)),hcDark:new i.Il(new i.VS(255,50,50,1)),hcLight:"#B5200D"},r.NC("overviewRuleError","Overview ruler marker color for errors.")),w=(0,o.P6G)("editorOverviewRuler.warningForeground",{dark:o.uoC,light:o.uoC,hcDark:o.pW3,hcLight:o.pW3},r.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),y=(0,o.P6G)("editorOverviewRuler.infoForeground",{dark:o.c63,light:o.c63,hcDark:o.T83,hcLight:o.T83},r.NC("overviewRuleInfo","Overview ruler marker color for infos.")),N=(0,o.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},r.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),_=(0,o.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},r.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),P=(0,o.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},r.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),x=(0,o.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},r.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),T=(0,o.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},r.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),E=(0,o.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},r.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),B=(0,o.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new i.Il(new i.VS(255,18,18,.8)),light:new i.Il(new i.VS(255,18,18,.8)),hcDark:new i.Il(new i.VS(255,50,50,1)),hcLight:""},r.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),V=(0,o.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},r.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),M=(0,o.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},r.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),R=(0,o.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},r.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),A=(0,o.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},r.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),I=(0,o.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},r.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),O=(0,o.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},r.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),W=(0,o.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},r.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),D=(0,o.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},r.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Z=(0,o.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},r.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),F=(0,o.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},r.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),z=(0,o.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},r.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),G=(0,o.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},r.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,o.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},r.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),(0,o.P6G)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},r.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));(0,u.Ic)((function(e,t){var n=e.getColor(o.cvW),r=e.getColor(a),i=r&&!r.isTransparent()?r:n;i&&t.addRule(".monaco-editor .inputarea.ime-input { background-color: ".concat(i,"; }"))}))},92626:function(e,t,n){function r(e){for(var t=0,n=0,r=0,i=0,o=0,u=e.length;o<u;o++){var a=e.charCodeAt(o);13===a?(0===t&&(n=o),t++,o+1<u&&10===e.charCodeAt(o+1)?(i|=2,o++):i|=3,r=o+1):10===a&&(i|=1,0===t&&(n=o),t++,r=o+1)}return 0===t&&(n=e.length),[t,n,e.length-r,i]}n.d(t,{Q:function(){return r}})},18491:function(e,t,n){n.d(t,{x:function(){return o}});var r=n(17224),i=n(20596);function o(e,t,n){var o=r.LC(e);return-1===o&&(o=e.length),function(e,t,n){for(var r=0,o=0;o<e.length;o++)"\t"===e.charAt(o)?r=i.i.nextIndentTabStop(r,t):r++;var u="";if(!n){var a=Math.floor(r/t);r%=t;for(var l=0;l<a;l++)u+="\t"}for(var s=0;s<r;s++)u+=" ";return u}(e.substring(0,o),t,n)+e.substring(o)}},87621:function(e,t,n){n.d(t,{z:function(){return a}});var r=n(22951),i=n(91976),o=n(33309),u=n(55597),a=function(){function e(t,n){if((0,r.Z)(this,e),t>n)throw new o.he("startLineNumber ".concat(t," cannot be after endLineNumberExclusive ").concat(n));this.startLineNumber=t,this.endLineNumberExclusive=n}return(0,i.Z)(e,[{key:"contains",value:function(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}},{key:"isEmpty",get:function(){return this.startLineNumber===this.endLineNumberExclusive}},{key:"delta",value:function(t){return new e(this.startLineNumber+t,this.endLineNumberExclusive+t)}},{key:"length",get:function(){return this.endLineNumberExclusive-this.startLineNumber}},{key:"join",value:function(t){return new e(Math.min(this.startLineNumber,t.startLineNumber),Math.max(this.endLineNumberExclusive,t.endLineNumberExclusive))}},{key:"toString",value:function(){return"[".concat(this.startLineNumber,",").concat(this.endLineNumberExclusive,")")}},{key:"intersect",value:function(t){var n=Math.max(this.startLineNumber,t.startLineNumber),r=Math.min(this.endLineNumberExclusive,t.endLineNumberExclusive);if(n<=r)return new e(n,r)}},{key:"intersectsStrict",value:function(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}},{key:"overlapOrTouch",value:function(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}},{key:"equals",value:function(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}},{key:"toInclusiveRange",value:function(){return this.isEmpty?null:new u.e(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}},{key:"toExclusiveRange",value:function(){return new u.e(this.startLineNumber,1,this.endLineNumberExclusive,1)}}],[{key:"fromRange",value:function(t){return new e(t.startLineNumber,t.endLineNumber)}},{key:"joinMany",value:function(e){if(0===e.length)return[];for(var t=e[0],n=1;n<e.length;n++)t=this.join(t,e[n]);return t}},{key:"join",value:function(t,n){if(0===t.length)return n;if(0===n.length)return t;for(var r=[],i=0,o=0,u=null;i<t.length||o<n.length;){var a=null;if(i<t.length&&o<n.length){var l=t[i],s=n[o];l.startLineNumber<s.startLineNumber?(a=l,i++):(a=s,o++)}else i<t.length?(a=t[i],i++):(a=n[o],o++);null===u?u=a:u.endLineNumberExclusive>=a.startLineNumber?u=new e(u.startLineNumber,Math.max(u.endLineNumberExclusive,a.endLineNumberExclusive)):(r.push(u),u=a)}return null!==u&&r.push(u),r}},{key:"ofLength",value:function(t,n){return new e(t,t+n)}}]),e}()},98819:function(e,t,n){n.d(t,{q:function(){return u}});var r=n(22951),i=n(91976),o=n(33309),u=function(){function e(t,n){if((0,r.Z)(this,e),this.start=t,this.endExclusive=n,t>n)throw new o.he("Invalid range: ".concat(this.toString()))}return(0,i.Z)(e,[{key:"isEmpty",get:function(){return this.start===this.endExclusive}},{key:"delta",value:function(t){return new e(this.start+t,this.endExclusive+t)}},{key:"length",get:function(){return this.endExclusive-this.start}},{key:"toString",value:function(){return"[".concat(this.start,", ").concat(this.endExclusive,")")}},{key:"equals",value:function(e){return this.start===e.start&&this.endExclusive===e.endExclusive}},{key:"containsRange",value:function(e){return this.start<=e.start&&e.endExclusive<=this.endExclusive}},{key:"join",value:function(t){return new e(Math.min(this.start,t.start),Math.max(this.endExclusive,t.endExclusive))}},{key:"intersect",value:function(t){var n=Math.max(this.start,t.start),r=Math.min(this.endExclusive,t.endExclusive);if(n<=r)return new e(n,r)}}],[{key:"addRange",value:function(t,n){for(var r=0;r<n.length&&n[r].endExclusive<t.start;)r++;for(var i=r;i<n.length&&n[i].start<=t.endExclusive;)i++;if(r===i)n.splice(r,0,t);else{var o=Math.min(t.start,n[r].start),u=Math.max(t.endExclusive,n[i-1].endExclusive);n.splice(r,i-r,new e(o,u))}}},{key:"tryCreate",value:function(t,n){if(!(t>n))return new e(t,n)}}]),e}()},99924:function(e,t,n){n.d(t,{L:function(){return o}});var r=n(22951),i=n(91976),o=function(){function e(t,n){(0,r.Z)(this,e),this.lineNumber=t,this.column=n}return(0,i.Z)(e,[{key:"with",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lineNumber,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.column;return t===this.lineNumber&&n===this.column?this:new e(t,n)}},{key:"delta",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.with(this.lineNumber+e,this.column+t)}},{key:"equals",value:function(t){return e.equals(this,t)}},{key:"isBefore",value:function(t){return e.isBefore(this,t)}},{key:"isBeforeOrEqual",value:function(t){return e.isBeforeOrEqual(this,t)}},{key:"clone",value:function(){return new e(this.lineNumber,this.column)}},{key:"toString",value:function(){return"("+this.lineNumber+","+this.column+")"}}],[{key:"equals",value:function(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}},{key:"isBefore",value:function(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column}},{key:"isBeforeOrEqual",value:function(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column}},{key:"compare",value:function(e,t){var n=0|e.lineNumber,r=0|t.lineNumber;return n===r?(0|e.column)-(0|t.column):n-r}},{key:"lift",value:function(t){return new e(t.lineNumber,t.column)}},{key:"isIPosition",value:function(e){return e&&"number"===typeof e.lineNumber&&"number"===typeof e.column}}]),e}()},55597:function(e,t,n){n.d(t,{e:function(){return u}});var r=n(22951),i=n(91976),o=n(99924),u=function(){function e(t,n,i,o){(0,r.Z)(this,e),t>i||t===i&&n>o?(this.startLineNumber=i,this.startColumn=o,this.endLineNumber=t,this.endColumn=n):(this.startLineNumber=t,this.startColumn=n,this.endLineNumber=i,this.endColumn=o)}return(0,i.Z)(e,[{key:"isEmpty",value:function(){return e.isEmpty(this)}},{key:"containsPosition",value:function(t){return e.containsPosition(this,t)}},{key:"containsRange",value:function(t){return e.containsRange(this,t)}},{key:"strictContainsRange",value:function(t){return e.strictContainsRange(this,t)}},{key:"plusRange",value:function(t){return e.plusRange(this,t)}},{key:"intersectRanges",value:function(t){return e.intersectRanges(this,t)}},{key:"equalsRange",value:function(t){return e.equalsRange(this,t)}},{key:"getEndPosition",value:function(){return e.getEndPosition(this)}},{key:"getStartPosition",value:function(){return e.getStartPosition(this)}},{key:"toString",value:function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}},{key:"setEndPosition",value:function(t,n){return new e(this.startLineNumber,this.startColumn,t,n)}},{key:"setStartPosition",value:function(t,n){return new e(t,n,this.endLineNumber,this.endColumn)}},{key:"collapseToStart",value:function(){return e.collapseToStart(this)}},{key:"collapseToEnd",value:function(){return e.collapseToEnd(this)}},{key:"delta",value:function(t){return new e(this.startLineNumber+t,this.startColumn,this.endLineNumber+t,this.endColumn)}},{key:"toJSON",value:function(){return this}}],[{key:"isEmpty",value:function(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}},{key:"containsPosition",value:function(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))}},{key:"strictContainsPosition",value:function(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<=e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>=e.endColumn))}},{key:"containsRange",value:function(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))}},{key:"strictContainsRange",value:function(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)))}},{key:"plusRange",value:function(t,n){var r,i,o,u;return n.startLineNumber<t.startLineNumber?(r=n.startLineNumber,i=n.startColumn):n.startLineNumber===t.startLineNumber?(r=n.startLineNumber,i=Math.min(n.startColumn,t.startColumn)):(r=t.startLineNumber,i=t.startColumn),n.endLineNumber>t.endLineNumber?(o=n.endLineNumber,u=n.endColumn):n.endLineNumber===t.endLineNumber?(o=n.endLineNumber,u=Math.max(n.endColumn,t.endColumn)):(o=t.endLineNumber,u=t.endColumn),new e(r,i,o,u)}},{key:"intersectRanges",value:function(t,n){var r=t.startLineNumber,i=t.startColumn,o=t.endLineNumber,u=t.endColumn,a=n.startLineNumber,l=n.startColumn,s=n.endLineNumber,c=n.endColumn;return r<a?(r=a,i=l):r===a&&(i=Math.max(i,l)),o>s?(o=s,u=c):o===s&&(u=Math.min(u,c)),r>o||r===o&&i>u?null:new e(r,i,o,u)}},{key:"equalsRange",value:function(e,t){return!e&&!t||!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}},{key:"getEndPosition",value:function(e){return new o.L(e.endLineNumber,e.endColumn)}},{key:"getStartPosition",value:function(e){return new o.L(e.startLineNumber,e.startColumn)}},{key:"collapseToStart",value:function(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)}},{key:"collapseToEnd",value:function(t){return new e(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn)}},{key:"fromPositions",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return new e(t.lineNumber,t.column,n.lineNumber,n.column)}},{key:"lift",value:function(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null}},{key:"isIRange",value:function(e){return e&&"number"===typeof e.startLineNumber&&"number"===typeof e.startColumn&&"number"===typeof e.endLineNumber&&"number"===typeof e.endColumn}},{key:"areIntersectingOrTouching",value:function(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}},{key:"areIntersecting",value:function(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}},{key:"compareRangesUsingStarts",value:function(e,t){if(e&&t){var n=0|e.startLineNumber,r=0|t.startLineNumber;if(n===r){var i=0|e.startColumn,o=0|t.startColumn;if(i===o){var u=0|e.endLineNumber,a=0|t.endLineNumber;return u===a?(0|e.endColumn)-(0|t.endColumn):u-a}return i-o}return n-r}return(e?1:0)-(t?1:0)}},{key:"compareRangesUsingEnds",value:function(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}},{key:"spansMultipleLines",value:function(e){return e.endLineNumber>e.startLineNumber}}]),e}()},29e3:function(e,t,n){n.d(t,{h:function(){return o}});var r=n(22951),i=n(91976),o=function(){function e(t,n,i,o){(0,r.Z)(this,e),this._rgba8Brand=void 0,this.r=e._clamp(t),this.g=e._clamp(n),this.b=e._clamp(i),this.a=e._clamp(o)}return(0,i.Z)(e,[{key:"equals",value:function(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}}],[{key:"_clamp",value:function(e){return e<0?0:e>255?255:0|e}}]),e}();o.Empty=new o(0,0,0,0)},80253:function(e,t,n){n.d(t,{Y:function(){return l}});var r=n(22951),i=n(91976),o=n(67591),u=n(99616),a=n(99924),l=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e,i,o,u){var a;return(0,r.Z)(this,n),(a=t.call(this,e,i,o,u)).selectionStartLineNumber=e,a.selectionStartColumn=i,a.positionLineNumber=o,a.positionColumn=u,a}return(0,i.Z)(n,[{key:"toString",value:function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}},{key:"equalsSelection",value:function(e){return n.selectionsEqual(this,e)}},{key:"getDirection",value:function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}},{key:"setEndPosition",value:function(e,t){return 0===this.getDirection()?new n(this.startLineNumber,this.startColumn,e,t):new n(e,t,this.startLineNumber,this.startColumn)}},{key:"getPosition",value:function(){return new a.L(this.positionLineNumber,this.positionColumn)}},{key:"getSelectionStart",value:function(){return new a.L(this.selectionStartLineNumber,this.selectionStartColumn)}},{key:"setStartPosition",value:function(e,t){return 0===this.getDirection()?new n(e,t,this.endLineNumber,this.endColumn):new n(this.endLineNumber,this.endColumn,e,t)}}],[{key:"selectionsEqual",value:function(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}},{key:"fromPositions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return new n(e.lineNumber,e.column,t.lineNumber,t.column)}},{key:"fromRange",value:function(e,t){return 0===t?new n(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new n(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}},{key:"liftSelection",value:function(e){return new n(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}},{key:"selectionsArrEqual",value:function(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(!this.selectionsEqual(e[n],t[n]))return!1;return!0}},{key:"isISelection",value:function(e){return e&&"number"===typeof e.selectionStartLineNumber&&"number"===typeof e.selectionStartColumn&&"number"===typeof e.positionLineNumber&&"number"===typeof e.positionColumn}},{key:"createWithDirection",value:function(e,t,r,i,o){return 0===o?new n(e,t,r,i):new n(r,i,e,t)}}]),n}(n(55597).e)},21531:function(e,t,n){n.d(t,{HT:function(){return m},kH:function(){return f},oe:function(){return h}});var r,i,o,u=n(22951),a=n(91976),l=n(17224),s=n(44352),c=n(61161);function d(){return r||(r=new TextDecoder("UTF-16LE")),r}function h(){return o||(o=s.r()?d():(i||(i=new TextDecoder("UTF-16BE")),i)),o}function f(e,t,n){var r=new Uint16Array(e.buffer,t,n);return n>0&&(65279===r[0]||65534===r[0])?function(e,t,n){for(var r=[],i=0,o=0;o<n;o++){var u=c.mP(e,t);t+=2,r[i++]=String.fromCharCode(u)}return r.join("")}(e,t,n):d().decode(r)}var m=function(){function e(t){(0,u.Z)(this,e),this._capacity=0|t,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}return(0,a.Z)(e,[{key:"reset",value:function(){this._completedStrings=null,this._bufferLength=0}},{key:"build",value:function(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}},{key:"_buildBuffer",value:function(){if(0===this._bufferLength)return"";var e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return h().decode(e)}},{key:"_flushBuffer",value:function(){var e=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}},{key:"appendCharCode",value:function(e){var t=this._capacity-this._bufferLength;t<=1&&(0===t||l.ZG(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}},{key:"appendASCIICharCode",value:function(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}},{key:"appendString",value:function(e){var t=e.length;if(this._bufferLength+t>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=e);for(var n=0;n<t;n++)this._buffer[this._bufferLength++]=e.charCodeAt(n)}}]),e}()},98338:function(e,t,n){n.d(t,{b:function(){return c},q:function(){return s}});var r=n(11026),i=n(22951),o=n(91976),u=n(61161),a=n(21531);function l(e){return e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}var s=function(){function e(t,n,r,o){(0,i.Z)(this,e),this.oldPosition=t,this.oldText=n,this.newPosition=r,this.newText=o}return(0,o.Z)(e,[{key:"oldLength",get:function(){return this.oldText.length}},{key:"oldEnd",get:function(){return this.oldPosition+this.oldText.length}},{key:"newLength",get:function(){return this.newText.length}},{key:"newEnd",get:function(){return this.newPosition+this.newText.length}},{key:"toString",value:function(){return 0===this.oldText.length?"(insert@".concat(this.oldPosition,' "').concat(l(this.newText),'")'):0===this.newText.length?"(delete@".concat(this.oldPosition,' "').concat(l(this.oldText),'")'):"(replace@".concat(this.oldPosition,' "').concat(l(this.oldText),'" with "').concat(l(this.newText),'")')}},{key:"writeSize",value:function(){return 8+e._writeStringSize(this.oldText)+e._writeStringSize(this.newText)}},{key:"write",value:function(t,n){return u.T4(t,this.oldPosition,n),n+=4,u.T4(t,this.newPosition,n),n+=4,n=e._writeString(t,this.oldText,n),n=e._writeString(t,this.newText,n)}}],[{key:"_writeStringSize",value:function(e){return 4+2*e.length}},{key:"_writeString",value:function(e,t,n){var r=t.length;u.T4(e,r,n),n+=4;for(var i=0;i<r;i++)u.oq(e,t.charCodeAt(i),n),n+=2;return n}},{key:"_readString",value:function(e,t){var n=u.Ag(e,t);return t+=4,(0,a.kH)(e,t,n)}},{key:"read",value:function(t,n,r){var i=u.Ag(t,n);n+=4;var o=u.Ag(t,n);n+=4;var a=e._readString(t,n);n+=e._writeStringSize(a);var l=e._readString(t,n);return n+=e._writeStringSize(l),r.push(new e(i,a,o,l)),n}}]),e}();function c(e,t){return null===e||0===e.length?t:new d(e,t).compress()}var d=function(){function e(t,n){(0,i.Z)(this,e),this._prevEdits=t,this._currEdits=n,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}return(0,o.Z)(e,[{key:"compress",value:function(){for(var t=0,n=0,i=this._getPrev(t),o=this._getCurr(n);t<this._prevLen||n<this._currLen;)if(null!==i)if(null!==o)if(o.oldEnd<=i.newPosition)this._acceptCurr(o),o=this._getCurr(++n);else if(i.newEnd<=o.oldPosition)this._acceptPrev(i),i=this._getPrev(++t);else if(o.oldPosition<i.newPosition){var u=e._splitCurr(o,i.newPosition-o.oldPosition),a=(0,r.Z)(u,2),l=a[0],c=a[1];this._acceptCurr(l),o=c}else if(i.newPosition<o.oldPosition){var d=e._splitPrev(i,o.oldPosition-i.newPosition),h=(0,r.Z)(d,2),f=h[0],m=h[1];this._acceptPrev(f),i=m}else{var v=void 0,g=void 0;if(o.oldEnd===i.newEnd)v=i,g=o,i=this._getPrev(++t),o=this._getCurr(++n);else if(o.oldEnd<i.newEnd){var C=e._splitPrev(i,o.oldLength),p=(0,r.Z)(C,2);v=p[0],g=o,i=p[1],o=this._getCurr(++n)}else{var b=e._splitCurr(o,i.newLength),k=(0,r.Z)(b,2),L=k[0],S=k[1];v=i,g=L,i=this._getPrev(++t),o=S}this._result[this._resultLen++]=new s(v.oldPosition,v.oldText,g.newPosition,g.newText),this._prevDeltaOffset+=v.newLength-v.oldLength,this._currDeltaOffset+=g.newLength-g.oldLength}else this._acceptPrev(i),i=this._getPrev(++t);else this._acceptCurr(o),o=this._getCurr(++n);var w=e._merge(this._result);return e._removeNoOps(w)}},{key:"_acceptCurr",value:function(t){this._result[this._resultLen++]=e._rebaseCurr(this._prevDeltaOffset,t),this._currDeltaOffset+=t.newLength-t.oldLength}},{key:"_getCurr",value:function(e){return e<this._currLen?this._currEdits[e]:null}},{key:"_acceptPrev",value:function(t){this._result[this._resultLen++]=e._rebasePrev(this._currDeltaOffset,t),this._prevDeltaOffset+=t.newLength-t.oldLength}},{key:"_getPrev",value:function(e){return e<this._prevLen?this._prevEdits[e]:null}}],[{key:"_rebaseCurr",value:function(e,t){return new s(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}},{key:"_rebasePrev",value:function(e,t){return new s(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}},{key:"_splitPrev",value:function(e,t){var n=e.newText.substr(0,t),r=e.newText.substr(t);return[new s(e.oldPosition,e.oldText,e.newPosition,n),new s(e.oldEnd,"",e.newPosition+t,r)]}},{key:"_splitCurr",value:function(e,t){var n=e.oldText.substr(0,t),r=e.oldText.substr(t);return[new s(e.oldPosition,n,e.newPosition,e.newText),new s(e.oldPosition+t,r,e.newEnd,"")]}},{key:"_merge",value:function(e){if(0===e.length)return e;for(var t=[],n=0,r=e[0],i=1;i<e.length;i++){var o=e[i];r.oldEnd===o.oldPosition?r=new s(r.oldPosition,r.oldText+o.oldText,r.newPosition,r.newText+o.newText):(t[n++]=r,r=o)}return t[n++]=r,t}},{key:"_removeNoOps",value:function(e){if(0===e.length)return e;for(var t=[],n=0,r=0;r<e.length;r++){var i=e[r];i.oldText!==i.newText&&(t[n++]=i)}return t}}]),e}()},28816:function(e,t,n){n.d(t,{D:function(){return r}});var r={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},34361:function(e,t,n){n.d(t,{u:function(){return l}});var r=n(91976),i=n(22951),o=n(67591),u=n(99616),a=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;(0,i.Z)(this,n),r=t.call(this,0);for(var o=0,u=e.length;o<u;o++)r.set(e.charCodeAt(o),2);return r.set(32,1),r.set(9,1),r}return(0,r.Z)(n)}(n(79670).N);var l=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e(n)),t[n]}}((function(e){return new a(e)}))},60071:function(e,t,n){n.d(t,{Af:function(){return a},eq:function(){return l},t2:function(){return c},vu:function(){return u}});var r=n(60726),i=n(27502),o=n(91358),u="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";var a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n="(-?\\d*\\.\\d\\w*)|([^",i=(0,r.Z)(u);try{for(i.s();!(e=i.n()).done;){var o=e.value;t.indexOf(o)>=0||(n+="\\"+o)}}catch(a){i.e(a)}finally{i.f()}return n+="\\s]+)",new RegExp(n,"g")}();function l(e){var t=a;if(e&&e instanceof RegExp)if(e.global)t=e;else{var n="g";e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.unicode&&(n+="u"),t=new RegExp(e.source,n)}return t.lastIndex=0,t}var s=new o.S;function c(e,t,n,r,o){if(o||(o=i.$.first(s)),n.length>o.maxLen){var u=e-o.maxLen/2;return u<0?u=0:r+=u,c(e,t,n=n.substring(u,e+o.maxLen/2),r,o)}for(var a=Date.now(),l=e-1-r,h=-1,f=null,m=1;!(Date.now()-a>=o.timeBudget);m++){var v=l-o.windowSize*m;t.lastIndex=Math.max(0,v);var g=d(t,n,l,h);if(!g&&f)break;if(f=g,v<=0)break;h=v}if(f){var C={word:f[0],startColumn:r+1+f.index,endColumn:r+1+f.index+f[0].length};return t.lastIndex=0,C}return null}function d(e,t,n,r){for(var i;i=e.exec(t);){var o=i.index||0;if(o<=n&&e.lastIndex>=n)return i;if(r>0&&o>r)return null}return null}s.unshift({maxLen:1e3,windowSize:15,timeBudget:150})},8259:function(e,t,n){n.d(t,{U:function(){return P}});var r=n(60726),i=n(11026),o=n(22951),u=n(91976),a=n(43243),l=n(27597),s=n(67591),c=n(99616),d=n(33309),h=n(17224),f=n(88648),m=n(29168),v=n(99924),g=n(55597),C=n(80253),p=function(){function e(t){(0,o.Z)(this,e),this._selTrackedRange=null,this._trackSelection=!0,this._setState(t,new m.rS(new g.e(1,1,1,1),0,0,new v.L(1,1),0),new m.rS(new g.e(1,1,1,1),0,0,new v.L(1,1),0))}return(0,u.Z)(e,[{key:"dispose",value:function(e){this._removeTrackedRange(e)}},{key:"startTrackingSelection",value:function(e){this._trackSelection=!0,this._updateTrackedRange(e)}},{key:"stopTrackingSelection",value:function(e){this._trackSelection=!1,this._removeTrackedRange(e)}},{key:"_updateTrackedRange",value:function(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}},{key:"_removeTrackedRange",value:function(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}},{key:"asCursorState",value:function(){return new m.Vi(this.modelState,this.viewState)}},{key:"readSelectionFromMarkers",value:function(e){var t=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!t.isEmpty()?C.Y.fromRange(t.collapseToEnd(),this.modelState.selection.getDirection()):C.Y.fromRange(t,this.modelState.selection.getDirection())}},{key:"ensureValidState",value:function(e){this._setState(e,this.modelState,this.viewState)}},{key:"setState",value:function(e,t,n){this._setState(e,t,n)}},{key:"_setState",value:function(t,n,r){if(r&&(r=e._validateViewState(t.viewModel,r)),n){var i=t.model.validateRange(n.selectionStart),o=n.selectionStart.equalsRange(i)?n.selectionStartLeftoverVisibleColumns:0,u=t.model.validatePosition(n.position),a=n.position.equals(u)?n.leftoverVisibleColumns:0;n=new m.rS(i,n.selectionStartKind,o,u,a)}else{if(!r)return;var l=t.model.validateRange(t.coordinatesConverter.convertViewRangeToModelRange(r.selectionStart)),s=t.model.validatePosition(t.coordinatesConverter.convertViewPositionToModelPosition(r.position));n=new m.rS(l,r.selectionStartKind,r.selectionStartLeftoverVisibleColumns,s,r.leftoverVisibleColumns)}if(r){var c=t.coordinatesConverter.validateViewRange(r.selectionStart,n.selectionStart),d=t.coordinatesConverter.validateViewPosition(r.position,n.position);r=new m.rS(c,n.selectionStartKind,n.selectionStartLeftoverVisibleColumns,d,n.leftoverVisibleColumns)}else{var h=t.coordinatesConverter.convertModelPositionToViewPosition(new v.L(n.selectionStart.startLineNumber,n.selectionStart.startColumn)),f=t.coordinatesConverter.convertModelPositionToViewPosition(new v.L(n.selectionStart.endLineNumber,n.selectionStart.endColumn)),C=new g.e(h.lineNumber,h.column,f.lineNumber,f.column),p=t.coordinatesConverter.convertModelPositionToViewPosition(n.position);r=new m.rS(C,n.selectionStartKind,n.selectionStartLeftoverVisibleColumns,p,n.leftoverVisibleColumns)}this.modelState=n,this.viewState=r,this._updateTrackedRange(t)}}],[{key:"_validatePositionWithCache",value:function(e,t,n,r){return t.equals(n)?r:e.normalizePosition(t,2)}},{key:"_validateViewState",value:function(e,t){var n=t.position,r=t.selectionStart.getStartPosition(),i=t.selectionStart.getEndPosition(),o=e.normalizePosition(n,2),u=this._validatePositionWithCache(e,r,n,o),a=this._validatePositionWithCache(e,i,r,u);return n.equals(o)&&r.equals(u)&&i.equals(a)?t:new m.rS(g.e.fromPositions(u,a),t.selectionStartKind,t.selectionStartLeftoverVisibleColumns+r.column-u.column,o,t.leftoverVisibleColumns+n.column-o.column)}}]),e}(),b=function(){function e(t){(0,o.Z)(this,e),this.context=t,this.cursors=[new p(t)],this.lastAddedCursorIndex=0}return(0,u.Z)(e,[{key:"dispose",value:function(){var e,t=(0,r.Z)(this.cursors);try{for(t.s();!(e=t.n()).done;){e.value.dispose(this.context)}}catch(n){t.e(n)}finally{t.f()}}},{key:"startTrackingSelections",value:function(){var e,t=(0,r.Z)(this.cursors);try{for(t.s();!(e=t.n()).done;){e.value.startTrackingSelection(this.context)}}catch(n){t.e(n)}finally{t.f()}}},{key:"stopTrackingSelections",value:function(){var e,t=(0,r.Z)(this.cursors);try{for(t.s();!(e=t.n()).done;){e.value.stopTrackingSelection(this.context)}}catch(n){t.e(n)}finally{t.f()}}},{key:"updateContext",value:function(e){this.context=e}},{key:"ensureValidState",value:function(){var e,t=(0,r.Z)(this.cursors);try{for(t.s();!(e=t.n()).done;){e.value.ensureValidState(this.context)}}catch(n){t.e(n)}finally{t.f()}}},{key:"readSelectionFromMarkers",value:function(){var e=this;return this.cursors.map((function(t){return t.readSelectionFromMarkers(e.context)}))}},{key:"getAll",value:function(){return this.cursors.map((function(e){return e.asCursorState()}))}},{key:"getViewPositions",value:function(){return this.cursors.map((function(e){return e.viewState.position}))}},{key:"getTopMostViewPosition",value:function(){return(0,f.VJ)(this.cursors,(0,f.tT)((function(e){return e.viewState.position}),v.L.compare)).viewState.position}},{key:"getBottomMostViewPosition",value:function(){return(0,f.jV)(this.cursors,(0,f.tT)((function(e){return e.viewState.position}),v.L.compare)).viewState.position}},{key:"getSelections",value:function(){return this.cursors.map((function(e){return e.modelState.selection}))}},{key:"getViewSelections",value:function(){return this.cursors.map((function(e){return e.viewState.selection}))}},{key:"setSelections",value:function(e){this.setStates(m.Vi.fromModelSelections(e))}},{key:"getPrimaryCursor",value:function(){return this.cursors[0].asCursorState()}},{key:"setStates",value:function(e){null!==e&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}},{key:"_setSecondaryStates",value:function(e){var t=this.cursors.length-1,n=e.length;if(t<n)for(var r=n-t,i=0;i<r;i++)this._addSecondaryCursor();else if(t>n)for(var o=t-n,u=0;u<o;u++)this._removeSecondaryCursor(this.cursors.length-2);for(var a=0;a<n;a++)this.cursors[a+1].setState(this.context,e[a].modelState,e[a].viewState)}},{key:"killSecondaryCursors",value:function(){this._setSecondaryStates([])}},{key:"_addSecondaryCursor",value:function(){this.cursors.push(new p(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}},{key:"getLastAddedCursorIndex",value:function(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}},{key:"_removeSecondaryCursor",value:function(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}},{key:"normalize",value:function(){if(1!==this.cursors.length){for(var e=this.cursors.slice(0),t=[],n=0,i=e.length;n<i;n++)t.push({index:n,selection:e[n].modelState.selection});t.sort((0,f.tT)((function(e){return e.selection}),g.e.compareRangesUsingStarts));for(var o=0;o<t.length-1;o++){var u=t[o],a=t[o+1],l=u.selection,s=a.selection;if(this.context.cursorConfig.multiCursorMergeOverlapping){if(s.isEmpty()||l.isEmpty()?s.getStartPosition().isBeforeOrEqual(l.getEndPosition()):s.getStartPosition().isBefore(l.getEndPosition())){var c=u.index<a.index?o:o+1,d=u.index<a.index?o+1:o,h=t[d].index,v=t[c].index,p=t[d].selection,b=t[c].selection;if(!p.equalsSelection(b)){var k=p.plusRange(b),L=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn,S=b.selectionStartLineNumber===b.startLineNumber&&b.selectionStartColumn===b.startColumn,w=void 0;h===this.lastAddedCursorIndex?(w=L,this.lastAddedCursorIndex=v):w=S;var y=void 0;y=w?new C.Y(k.startLineNumber,k.startColumn,k.endLineNumber,k.endColumn):new C.Y(k.endLineNumber,k.endColumn,k.startLineNumber,k.startColumn),t[c].selection=y;var N=m.Vi.fromModelSelection(y);e[v].setState(this.context,N.modelState,N.viewState)}var _,P=(0,r.Z)(t);try{for(P.s();!(_=P.n()).done;){var x=_.value;x.index>h&&x.index--}}catch(T){P.e(T)}finally{P.f()}e.splice(h,1),t.splice(d,1),this._removeSecondaryCursor(h-1),o--}}}}}}]),e}(),k=(0,u.Z)((function e(t,n,r,i){(0,o.Z)(this,e),this._cursorContextBrand=void 0,this.model=t,this.viewModel=n,this.coordinatesConverter=r,this.cursorConfig=i})),L=n(85426),S=n(49358),w=n(98800),y=n(66895),N=n(59652),_=n(53741),P=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e,r,i,u){var a;return(0,o.Z)(this,n),(a=t.call(this))._model=e,a._knownModelVersionId=a._model.getVersionId(),a._viewModel=r,a._coordinatesConverter=i,a.context=new k(a._model,a._viewModel,a._coordinatesConverter,u),a._cursors=new b(a.context),a._hasFocus=!1,a._isHandling=!1,a._compositionState=null,a._columnSelectData=null,a._autoClosedActions=[],a._prevEditOperationType=0,a}return(0,u.Z)(n,[{key:"dispose",value:function(){this._cursors.dispose(),this._autoClosedActions=(0,N.B9)(this._autoClosedActions),(0,a.Z)((0,l.Z)(n.prototype),"dispose",this).call(this)}},{key:"updateConfiguration",value:function(e){this.context=new k(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}},{key:"onLineMappingChanged",value:function(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}},{key:"setHasFocus",value:function(e){this._hasFocus=e}},{key:"_validateAutoClosedActions",value:function(){if(this._autoClosedActions.length>0)for(var e=this._cursors.getSelections(),t=0;t<this._autoClosedActions.length;t++){var n=this._autoClosedActions[t];n.isValid(e)||(n.dispose(),this._autoClosedActions.splice(t,1),t--)}}},{key:"getPrimaryCursorState",value:function(){return this._cursors.getPrimaryCursor()}},{key:"getLastAddedCursorIndex",value:function(){return this._cursors.getLastAddedCursorIndex()}},{key:"getCursorStates",value:function(){return this._cursors.getAll()}},{key:"setStates",value:function(e,t,n,r){var i=!1,o=this.context.cursorConfig.multiCursorLimit;null!==r&&r.length>o&&(r=r.slice(0,o),i=!0);var u=x.from(this._model,this);return this._cursors.setStates(r),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,n,u,i)}},{key:"setCursorColumnSelectData",value:function(e){this._columnSelectData=e}},{key:"revealPrimary",value:function(e,t,n,r,i,o){var u=this._cursors.getViewPositions(),a=null,l=null;u.length>1?l=this._cursors.getViewSelections():a=g.e.fromPositions(u[0],u[0]),e.emitViewEvent(new y.Qb(t,n,a,l,r,i,o))}},{key:"saveState",value:function(){for(var e=[],t=this._cursors.getSelections(),n=0,r=t.length;n<r;n++){var i=t[n];e.push({inSelectionMode:!i.isEmpty(),selectionStart:{lineNumber:i.selectionStartLineNumber,column:i.selectionStartColumn},position:{lineNumber:i.positionLineNumber,column:i.positionColumn}})}return e}},{key:"restoreState",value:function(e,t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r],u=1,a=1;o.position&&o.position.lineNumber&&(u=o.position.lineNumber),o.position&&o.position.column&&(a=o.position.column);var l=u,s=a;o.selectionStart&&o.selectionStart.lineNumber&&(l=o.selectionStart.lineNumber),o.selectionStart&&o.selectionStart.column&&(s=o.selectionStart.column),n.push({selectionStartLineNumber:l,selectionStartColumn:s,positionLineNumber:u,positionColumn:a})}this.setStates(e,"restoreState",0,m.Vi.fromModelSelections(n)),this.revealPrimary(e,"restoreState",!1,0,!0,1)}},{key:"onModelContentChanged",value:function(e,t){if(t instanceof w.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{var n=t.rawContentChangedEvent;if(this._knownModelVersionId=n.versionId,this._isHandling)return;var r=n.containsEvent(1);if(this._prevEditOperationType=0,r)this._cursors.dispose(),this._cursors=new b(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&n.resultingSelection&&n.resultingSelection.length>0){var i=m.Vi.fromModelSelections(n.resultingSelection);this.setStates(e,"modelChange",n.isUndoing?5:n.isRedoing?6:2,i)&&this.revealPrimary(e,"modelChange",!1,0,!0,0)}else{var o=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,m.Vi.fromModelSelections(o))}}}},{key:"getSelection",value:function(){return this._cursors.getPrimaryCursor().modelState.selection}},{key:"getTopMostViewPosition",value:function(){return this._cursors.getTopMostViewPosition()}},{key:"getBottomMostViewPosition",value:function(){return this._cursors.getBottomMostViewPosition()}},{key:"getCursorColumnSelectData",value:function(){if(this._columnSelectData)return this._columnSelectData;var e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),n=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,t),toViewLineNumber:n.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,n)}}},{key:"getSelections",value:function(){return this._cursors.getSelections()}},{key:"setSelections",value:function(e,t,n,r){this.setStates(e,t,r,m.Vi.fromModelSelections(n))}},{key:"getPrevEditOperationType",value:function(){return this._prevEditOperationType}},{key:"setPrevEditOperationType",value:function(e){this._prevEditOperationType=e}},{key:"_pushAutoClosedAction",value:function(e,t){for(var n=[],r=[],i=0,o=e.length;i<o;i++)n.push({range:e[i],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),r.push({range:t[i],options:{description:"auto-closed-enclosing",stickiness:1}});var u=this._model.deltaDecorations([],n),a=this._model.deltaDecorations([],r);this._autoClosedActions.push(new T(this._model,u,a))}},{key:"_executeEditOperation",value:function(e){if(e){e.shouldPushStackElementBefore&&this._model.pushStackElement();var t=E.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);for(var n=[],r=[],i=0;i<e.commands.length;i++){var o=e.commands[i];o instanceof S.g_&&o.enclosingRange&&o.closeCharacterRange&&(n.push(o.closeCharacterRange),r.push(o.enclosingRange))}n.length>0&&this._pushAutoClosedAction(n,r),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}}},{key:"_interpretCommandResult",value:function(e){e&&0!==e.length||(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}},{key:"_emitStateChangedIfNecessary",value:function(e,t,n,r,i){var o=x.from(this._model,this);if(o.equals(r))return!1;var u=this._cursors.getSelections(),a=this._cursors.getViewSelections();if(e.emitViewEvent(new y.e$(a,u,n)),!r||r.cursorState.length!==o.cursorState.length||o.cursorState.some((function(e,t){return!e.modelState.equals(r.cursorState[t].modelState)}))){var l=r?r.cursorState.map((function(e){return e.modelState.selection})):null,s=r?r.modelVersionId:0;e.emitOutgoingEvent(new _.H6(l,u,s,o.modelVersionId,t||"keyboard",n,i))}return!0}},{key:"_findAutoClosingPairs",value:function(e){if(!e.length)return null;for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if(!i.text||i.text.indexOf("\n")>=0)return null;var o=i.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!o)return null;var u=o[1],a=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(u);if(!a||1!==a.length)return null;var l=a[0].open,s=i.text.length-o[2].length-1,c=i.text.lastIndexOf(l,s-1);if(-1===c)return null;t.push([c,s])}return t}},{key:"executeEdits",value:function(e,t,n,r){var o=this,u=null;"snippet"===t&&(u=this._findAutoClosingPairs(n)),u&&(n[0]._isTracked=!0);var a=[],l=[],s=this._model.pushEditOperations(this.getSelections(),n,(function(e){if(u)for(var t=0,n=u.length;t<n;t++){var s=(0,i.Z)(u[t],2),c=s[0],d=s[1],h=e[t],f=h.range.startLineNumber,m=h.range.startColumn-1+c,v=h.range.startColumn-1+d;a.push(new g.e(f,v+1,f,v+2)),l.push(new g.e(f,m+1,f,v+2))}var C=r(e);return C&&(o._isHandling=!0),C}));s&&(this._isHandling=!1,this.setSelections(e,t,s,0)),a.length>0&&this._pushAutoClosedAction(a,l)}},{key:"_executeEdit",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!this.context.cursorConfig.readOnly){var i=x.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(o){(0,d.dL)(o)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,n,r,i,!1)&&this.revealPrimary(t,n,!1,0,!0,0)}}},{key:"getAutoClosedCharacters",value:function(){return T.getAllAutoClosedCharacters(this._autoClosedActions)}},{key:"startComposition",value:function(e){this._compositionState=new V(this._model,this.getSelections())}},{key:"endComposition",value:function(e,t){var n=this,r=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit((function(){"keyboard"===t&&n._executeEditOperation(S.u6.compositionEndWithInterceptors(n._prevEditOperationType,n.context.cursorConfig,n._model,r,n.getSelections(),n.getAutoClosedCharacters()))}),e,t)}},{key:"type",value:function(e,t,n){var r=this;this._executeEdit((function(){if("keyboard"===n)for(var e=t.length,i=0;i<e;){var o=h.vH(t,i),u=t.substr(i,o);r._executeEditOperation(S.u6.typeWithInterceptors(!!r._compositionState,r._prevEditOperationType,r.context.cursorConfig,r._model,r.getSelections(),r.getAutoClosedCharacters(),u)),i+=o}else r._executeEditOperation(S.u6.typeWithoutInterceptors(r._prevEditOperationType,r.context.cursorConfig,r._model,r.getSelections(),t))}),e,n)}},{key:"compositionType",value:function(e,t,n,r,i,o){var u=this;if(0!==t.length||0!==n||0!==r)this._executeEdit((function(){u._executeEditOperation(S.u6.compositionType(u._prevEditOperationType,u.context.cursorConfig,u._model,u.getSelections(),t,n,r,i))}),e,o);else if(0!==i){var a=this.getSelections().map((function(e){var t=e.getPosition();return new C.Y(t.lineNumber,t.column+i,t.lineNumber,t.column+i)}));this.setSelections(e,o,a,0)}}},{key:"paste",value:function(e,t,n,r,i){var o=this;this._executeEdit((function(){o._executeEditOperation(S.u6.paste(o.context.cursorConfig,o._model,o.getSelections(),t,n,r||[]))}),e,i,4)}},{key:"cut",value:function(e,t){var n=this;this._executeEdit((function(){n._executeEditOperation(L.A.cut(n.context.cursorConfig,n._model,n.getSelections()))}),e,t)}},{key:"executeCommand",value:function(e,t,n){var r=this;this._executeEdit((function(){r._cursors.killSecondaryCursors(),r._executeEditOperation(new m.Tp(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,n)}},{key:"executeCommands",value:function(e,t,n){var r=this;this._executeEdit((function(){r._executeEditOperation(new m.Tp(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,n)}}]),n}(N.JT),x=function(){function e(t,n){(0,o.Z)(this,e),this.modelVersionId=t,this.cursorState=n}return(0,u.Z)(e,[{key:"equals",value:function(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(var t=0,n=this.cursorState.length;t<n;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}],[{key:"from",value:function(t,n){return new e(t.getVersionId(),n.getCursorStates())}}]),e}(),T=function(){function e(t,n,r){(0,o.Z)(this,e),this._model=t,this._autoClosedCharactersDecorations=n,this._autoClosedEnclosingDecorations=r}return(0,u.Z)(e,[{key:"dispose",value:function(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}},{key:"getAutoClosedCharactersRanges",value:function(){for(var e=[],t=0;t<this._autoClosedCharactersDecorations.length;t++){var n=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);n&&e.push(n)}return e}},{key:"isValid",value:function(e){for(var t=[],n=0;n<this._autoClosedEnclosingDecorations.length;n++){var r=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[n]);if(r&&(t.push(r),r.startLineNumber!==r.endLineNumber))return!1}t.sort(g.e.compareRangesUsingStarts),e.sort(g.e.compareRangesUsingStarts);for(var i=0;i<e.length;i++){if(i>=t.length)return!1;if(!t[i].strictContainsRange(e[i]))return!1}return!0}}],[{key:"getAllAutoClosedCharacters",value:function(e){var t,n=[],i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;n=n.concat(o.getAutoClosedCharactersRanges())}}catch(u){i.e(u)}finally{i.f()}return n}}]),e}(),E=function(){function e(){(0,o.Z)(this,e)}return(0,u.Z)(e,null,[{key:"executeCommands",value:function(e,t,n){for(var r={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},i=this._innerExecuteCommands(r,n),o=0,u=r.trackedRanges.length;o<u;o++)r.model._setTrackedRange(r.trackedRanges[o],null,0);return i}},{key:"_innerExecuteCommands",value:function(e,t){if(this._arrayIsEmpty(t))return null;var n=this._getEditOperations(e,t);if(0===n.operations.length)return null;var i=n.operations,o=this._getLoserCursorMap(i);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;for(var u=[],a=0,l=i.length;a<l;a++)o.hasOwnProperty(i[a].identifier.major.toString())||u.push(i[a]);n.hadTrackedEditOperation&&u.length>0&&(u[0]._isTracked=!0);var s=e.model.pushEditOperations(e.selectionsBefore,u,(function(n){for(var i=[],o=0;o<e.selectionsBefore.length;o++)i[o]=[];var u,a=(0,r.Z)(n);try{for(a.s();!(u=a.n()).done;){var l=u.value;l.identifier&&i[l.identifier.major].push(l)}}catch(f){a.e(f)}finally{a.f()}for(var s=function(e,t){return e.identifier.minor-t.identifier.minor},c=[],d=function(n){i[n].length>0?(i[n].sort(s),c[n]=t[n].computeCursorState(e.model,{getInverseEditOperations:function(){return i[n]},getTrackedSelection:function(t){var n=parseInt(t,10),r=e.model._getTrackedRange(e.trackedRanges[n]);return 0===e.trackedRangesDirection[n]?new C.Y(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn):new C.Y(r.endLineNumber,r.endColumn,r.startLineNumber,r.startColumn)}})):c[n]=e.selectionsBefore[n]},h=0;h<e.selectionsBefore.length;h++)d(h);return c}));s||(s=e.selectionsBefore);var c=[];for(var d in o)o.hasOwnProperty(d)&&c.push(parseInt(d,10));c.sort((function(e,t){return t-e}));for(var h=0,f=c;h<f.length;h++){var m=f[h];s.splice(m,1)}return s}},{key:"_arrayIsEmpty",value:function(e){for(var t=0,n=e.length;t<n;t++)if(e[t])return!1;return!0}},{key:"_getEditOperations",value:function(e,t){for(var n=[],r=!1,i=0,o=t.length;i<o;i++){var u=t[i];if(u){var a=this._getEditOperationsFromCommand(e,i,u);n=n.concat(a.operations),r=r||a.hadTrackedEditOperation}}return{operations:n,hadTrackedEditOperation:r}}},{key:"_getEditOperationsFromCommand",value:function(e,t,n){var r=[],i=0,o=function(e,o){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];g.e.isEmpty(e)&&""===o||r.push({identifier:{major:t,minor:i++},range:e,text:o,forceMoveMarkers:u,isAutoWhitespaceEdit:n.insertsAutoWhitespace})},u=!1,a={addEditOperation:o,addTrackedEditOperation:function(e,t,n){u=!0,o(e,t,n)},trackSelection:function(t,n){var r,i=C.Y.liftSelection(t);if(i.isEmpty())if("boolean"===typeof n)r=n?2:3;else{var o=e.model.getLineMaxColumn(i.startLineNumber);r=i.startColumn===o?2:3}else r=1;var u=e.trackedRanges.length,a=e.model._setTrackedRange(null,i,r);return e.trackedRanges[u]=a,e.trackedRangesDirection[u]=i.getDirection(),u.toString()}};try{n.getEditOperations(e.model,a)}catch(l){return(0,d.dL)(l),{operations:[],hadTrackedEditOperation:!1}}return{operations:r,hadTrackedEditOperation:u}}},{key:"_getLoserCursorMap",value:function(e){(e=e.slice(0)).sort((function(e,t){return-g.e.compareRangesUsingEnds(e.range,t.range)}));for(var t={},n=1;n<e.length;n++){var r=e[n-1],i=e[n];if(g.e.getStartPosition(r.range).isBefore(g.e.getEndPosition(i.range))){var o=void 0;t[(o=r.identifier.major>i.identifier.major?r.identifier.major:i.identifier.major).toString()]=!0;for(var u=0;u<e.length;u++)e[u].identifier.major===o&&(e.splice(u,1),u<n&&n--,u--);n>0&&n--}}return t}}]),e}(),B=(0,u.Z)((function e(t,n,r){(0,o.Z)(this,e),this.text=t,this.startSelection=n,this.endSelection=r})),V=function(){function e(t,n){(0,o.Z)(this,e),this._original=e._capture(t,n)}return(0,u.Z)(e,[{key:"deduceOutcome",value:function(t,n){if(!this._original)return null;var r=e._capture(t,n);if(!r)return null;if(this._original.length!==r.length)return null;for(var i=[],o=0,u=this._original.length;o<u;o++)i.push(e._deduceOutcome(this._original[o],r[o]));return i}}],[{key:"_capture",value:function(e,t){var n,i=[],o=(0,r.Z)(t);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(u.startLineNumber!==u.endLineNumber)return null;i.push(new B(e.getLineContent(u.startLineNumber),u.startColumn-1,u.endColumn-1))}}catch(a){o.e(a)}finally{o.f()}return i}},{key:"_deduceOutcome",value:function(e,t){var n=Math.min(e.startSelection,t.startSelection,h.Mh(e.text,t.text)),r=Math.min(e.text.length-e.endSelection,t.text.length-t.endSelection,h.P1(e.text,t.text)),i=e.text.substring(n,e.text.length-r),o=t.text.substring(n,t.text.length-r);return new S.Nu(i,e.startSelection-n,e.endSelection-n,o,t.startSelection-n,t.endSelection-n)}}]),e}()},20648:function(e,t,n){n.d(t,{l:function(){return a}});var r=n(11026),i=n(22951),o=n(91976),u=n(20596),a=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"whitespaceVisibleColumn",value:function(e,t,n){for(var r=e.length,i=0,o=-1,a=-1,l=0;l<r;l++){if(l===t)return[o,a,i];switch(i%n===0&&(o=l,a=i),e.charCodeAt(l)){case 32:i+=1;break;case 9:i=u.i.nextRenderTabStop(i,n);break;default:return[-1,-1,-1]}}return t===r?[o,a,i]:[-1,-1,-1]}},{key:"atomicPosition",value:function(t,n,i,o){var a,l=t.length,s=e.whitespaceVisibleColumn(t,n,i),c=(0,r.Z)(s,3),d=c[0],h=c[1],f=c[2];if(-1===f)return-1;switch(o){case 0:a=!0;break;case 1:a=!1;break;case 2:if(f%i===0)return n;a=f%i<=i/2}if(a){if(-1===d)return-1;for(var m=h,v=d;v<l;++v){if(m===h+i)return d;switch(t.charCodeAt(v)){case 32:m+=1;break;case 9:m=u.i.nextRenderTabStop(m,i);break;default:return-1}}return m===h+i?d:-1}for(var g=u.i.nextRenderTabStop(f,i),C=f,p=n;p<l;p++){if(C===g)return p;switch(t.charCodeAt(p)){case 32:C+=1;break;case 9:C=u.i.nextRenderTabStop(C,i);break;default:return-1}}return C===g?l:-1}}]),e}()},70424:function(e,t,n){n.d(t,{U:function(){return l}});var r=n(22951),i=n(91976),o=n(29168),u=n(99924),a=n(55597),l=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"columnSelect",value:function(e,t,n,r,i,l){for(var s=Math.abs(i-n)+1,c=n>i,d=r>l,h=r<l,f=[],m=0;m<s;m++){var v=n+(c?-m:m),g=e.columnFromVisibleColumn(t,v,r),C=e.columnFromVisibleColumn(t,v,l),p=e.visibleColumnFromColumn(t,new u.L(v,g)),b=e.visibleColumnFromColumn(t,new u.L(v,C));if(h){if(p>l)continue;if(b<r)continue}if(d){if(b>r)continue;if(p<l)continue}f.push(new o.rS(new a.e(v,g,v,g),0,0,new u.L(v,C),0))}if(0===f.length)for(var k=0;k<s;k++){var L=n+(c?-k:k),S=t.getLineMaxColumn(L);f.push(new o.rS(new a.e(L,S,L,S),0,0,new u.L(L,S),0))}return{viewStates:f,reversed:c,fromLineNumber:n,fromVisualColumn:r,toLineNumber:i,toVisualColumn:l}}},{key:"columnSelectLeft",value:function(t,n,r){var i=r.toViewVisualColumn;return i>0&&i--,e.columnSelect(t,n,r.fromViewLineNumber,r.fromViewVisualColumn,r.toViewLineNumber,i)}},{key:"columnSelectRight",value:function(e,t,n){for(var r=0,i=Math.min(n.fromViewLineNumber,n.toViewLineNumber),o=Math.max(n.fromViewLineNumber,n.toViewLineNumber),a=i;a<=o;a++){var l=t.getLineMaxColumn(a),s=e.visibleColumnFromColumn(t,new u.L(a,l));r=Math.max(r,s)}var c=n.toViewVisualColumn;return c<r&&c++,this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,n.toViewLineNumber,c)}},{key:"columnSelectUp",value:function(e,t,n,r){var i=r?e.pageSize:1,o=Math.max(1,n.toViewLineNumber-i);return this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,o,n.toViewVisualColumn)}},{key:"columnSelectDown",value:function(e,t,n,r){var i=r?e.pageSize:1,o=Math.min(t.getLineCount(),n.toViewLineNumber+i);return this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,o,n.toViewVisualColumn)}}]),e}()},85426:function(e,t,n){n.d(t,{A:function(){return f}});var r=n(60726),i=n(22951),o=n(91976),u=n(17224),a=n(45596),l=n(29168),s=n(20596),c=n(23168),d=n(55597),h=n(99924),f=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"deleteRight",value:function(e,t,n,r){for(var i=[],o=3!==e,u=0,l=r.length;u<l;u++){var s=r[u],h=s;if(h.isEmpty()){var f=s.getPosition(),m=c.o.right(t,n,f);h=new d.e(m.lineNumber,m.column,f.lineNumber,f.column)}h.isEmpty()?i[u]=null:(h.startLineNumber!==h.endLineNumber&&(o=!0),i[u]=new a.T4(h,""))}return[o,i]}},{key:"isAutoClosingPairDelete",value:function(e,t,n,i,o,u,a){if("never"===t&&"never"===n)return!1;if("never"===e)return!1;for(var s=0,c=u.length;s<c;s++){var d=u[s],h=d.getPosition();if(!d.isEmpty())return!1;var f=o.getLineContent(h.lineNumber);if(h.column<2||h.column>=f.length+1)return!1;var m=f.charAt(h.column-2),v=i.get(m);if(!v)return!1;if((0,l.LN)(m)){if("never"===n)return!1}else if("never"===t)return!1;var g,C=f.charAt(h.column-1),p=!1,b=(0,r.Z)(v);try{for(b.s();!(g=b.n()).done;){var k=g.value;k.open===m&&k.close===C&&(p=!0)}}catch(N){b.e(N)}finally{b.f()}if(!p)return!1;if("auto"===e){for(var L=!1,S=0,w=a.length;S<w;S++){var y=a[S];if(h.lineNumber===y.startLineNumber&&h.column===y.startColumn){L=!0;break}}if(!L)return!1}}return!0}},{key:"_runAutoClosingPairDelete",value:function(e,t,n){for(var r=[],i=0,o=n.length;i<o;i++){var u=n[i].getPosition(),l=new d.e(u.lineNumber,u.column-1,u.lineNumber,u.column+1);r[i]=new a.T4(l,"")}return[!0,r]}},{key:"deleteLeft",value:function(t,n,r,i,o){if(this.isAutoClosingPairDelete(n.autoClosingDelete,n.autoClosingBrackets,n.autoClosingQuotes,n.autoClosingPairs.autoClosingPairsOpenByEnd,r,i,o))return this._runAutoClosingPairDelete(n,r,i);for(var u=[],l=2!==t,s=0,c=i.length;s<c;s++){var d=e.getDeleteRange(i[s],r,n);d.isEmpty()?u[s]=null:(d.startLineNumber!==d.endLineNumber&&(l=!0),u[s]=new a.T4(d,""))}return[l,u]}},{key:"getDeleteRange",value:function(t,n,r){if(!t.isEmpty())return t;var i=t.getPosition();if(r.useTabStops&&i.column>1){var o=n.getLineContent(i.lineNumber),a=u.LC(o),l=-1===a?o.length+1:a+1;if(i.column<=l){var c=r.visibleColumnFromColumn(n,i),h=s.i.prevIndentTabStop(c,r.indentSize),f=r.columnFromVisibleColumn(n,i.lineNumber,h);return new d.e(i.lineNumber,f,i.lineNumber,i.column)}}return d.e.fromPositions(e.getPositionAfterDeleteLeft(i,n),i)}},{key:"getPositionAfterDeleteLeft",value:function(e,t){if(e.column>1){var n=u.oH(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,n+1)}if(e.lineNumber>1){var r=e.lineNumber-1;return new h.L(r,t.getLineMaxColumn(r))}return e}},{key:"cut",value:function(e,t,n){var r=[],i=null;n.sort((function(e,t){return h.L.compare(e.getStartPosition(),t.getEndPosition())}));for(var o=0,u=n.length;o<u;o++){var s=n[o];if(s.isEmpty())if(e.emptySelectionClipboard){var c=s.getPosition(),f=void 0,m=void 0,v=void 0,g=void 0;c.lineNumber<t.getLineCount()?(f=c.lineNumber,m=1,v=c.lineNumber+1,g=1):c.lineNumber>1&&(null===i||void 0===i?void 0:i.endLineNumber)!==c.lineNumber?(f=c.lineNumber-1,m=t.getLineMaxColumn(c.lineNumber-1),v=c.lineNumber,g=t.getLineMaxColumn(c.lineNumber)):(f=c.lineNumber,m=1,v=c.lineNumber,g=t.getLineMaxColumn(c.lineNumber));var C=new d.e(f,m,v,g);i=C,C.isEmpty()?r[o]=null:r[o]=new a.T4(C,"")}else r[o]=null;else r[o]=new a.T4(s,"")}return new l.Tp(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}]),e}()},57994:function(e,t,n){n.d(t,{N:function(){return r},P:function(){return h}});var r,i=n(22951),o=n(91976),u=n(71923),a=n(29168),l=n(23168),s=n(51631),c=n(99924),d=n(55597),h=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"addCursorDown",value:function(e,t,n){for(var r=[],i=0,o=0,u=t.length;o<u;o++){var s=t[o];r[i++]=new a.Vi(s.modelState,s.viewState),r[i++]=n?a.Vi.fromModelState(l.o.translateDown(e.cursorConfig,e.model,s.modelState)):a.Vi.fromViewState(l.o.translateDown(e.cursorConfig,e,s.viewState))}return r}},{key:"addCursorUp",value:function(e,t,n){for(var r=[],i=0,o=0,u=t.length;o<u;o++){var s=t[o];r[i++]=new a.Vi(s.modelState,s.viewState),r[i++]=n?a.Vi.fromModelState(l.o.translateUp(e.cursorConfig,e.model,s.modelState)):a.Vi.fromViewState(l.o.translateUp(e.cursorConfig,e,s.viewState))}return r}},{key:"moveToBeginningOfLine",value:function(e,t,n){for(var r=[],i=0,o=t.length;i<o;i++){var u=t[i];r[i]=this._moveToLineStart(e,u,n)}return r}},{key:"_moveToLineStart",value:function(e,t,n){var r=t.viewState.position.column,i=r===t.modelState.position.column,o=t.viewState.position.lineNumber,u=e.getLineFirstNonWhitespaceColumn(o);return i||r===u?this._moveToLineStartByModel(e,t,n):this._moveToLineStartByView(e,t,n)}},{key:"_moveToLineStartByView",value:function(e,t,n){return a.Vi.fromViewState(l.o.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,n))}},{key:"_moveToLineStartByModel",value:function(e,t,n){return a.Vi.fromModelState(l.o.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,n))}},{key:"moveToEndOfLine",value:function(e,t,n,r){for(var i=[],o=0,u=t.length;o<u;o++){var a=t[o];i[o]=this._moveToLineEnd(e,a,n,r)}return i}},{key:"_moveToLineEnd",value:function(e,t,n,r){var i=t.viewState.position,o=e.getLineMaxColumn(i.lineNumber),u=i.column===o,a=t.modelState.position,l=e.model.getLineMaxColumn(a.lineNumber),s=o-i.column===l-a.column;return u||s?this._moveToLineEndByModel(e,t,n,r):this._moveToLineEndByView(e,t,n,r)}},{key:"_moveToLineEndByView",value:function(e,t,n,r){return a.Vi.fromViewState(l.o.moveToEndOfLine(e.cursorConfig,e,t.viewState,n,r))}},{key:"_moveToLineEndByModel",value:function(e,t,n,r){return a.Vi.fromModelState(l.o.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,n,r))}},{key:"expandLineSelection",value:function(e,t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r],u=o.modelState.selection.startLineNumber,l=e.model.getLineCount(),s=o.modelState.selection.endLineNumber,h=void 0;s===l?h=e.model.getLineMaxColumn(l):(s++,h=1),n[r]=a.Vi.fromModelState(new a.rS(new d.e(u,1,u,1),0,0,new c.L(s,h),0))}return n}},{key:"moveToBeginningOfBuffer",value:function(e,t,n){for(var r=[],i=0,o=t.length;i<o;i++){var u=t[i];r[i]=a.Vi.fromModelState(l.o.moveToBeginningOfBuffer(e.cursorConfig,e.model,u.modelState,n))}return r}},{key:"moveToEndOfBuffer",value:function(e,t,n){for(var r=[],i=0,o=t.length;i<o;i++){var u=t[i];r[i]=a.Vi.fromModelState(l.o.moveToEndOfBuffer(e.cursorConfig,e.model,u.modelState,n))}return r}},{key:"selectAll",value:function(e,t){var n=e.model.getLineCount(),r=e.model.getLineMaxColumn(n);return a.Vi.fromModelState(new a.rS(new d.e(1,1,1,1),0,0,new c.L(n,r),0))}},{key:"line",value:function(e,t,n,r,i){var o=e.model.validatePosition(r),u=i?e.coordinatesConverter.validateViewPosition(new c.L(i.lineNumber,i.column),o):e.coordinatesConverter.convertModelPositionToViewPosition(o);if(!n){var l=e.model.getLineCount(),s=o.lineNumber+1,h=1;return s>l&&(s=l,h=e.model.getLineMaxColumn(s)),a.Vi.fromModelState(new a.rS(new d.e(o.lineNumber,1,s,h),2,0,new c.L(s,h),0))}var f=t.modelState.selectionStart.getStartPosition().lineNumber;if(o.lineNumber<f)return a.Vi.fromViewState(t.viewState.move(!0,u.lineNumber,1,0));if(o.lineNumber>f){var m=e.getLineCount(),v=u.lineNumber+1,g=1;return v>m&&(v=m,g=e.getLineMaxColumn(v)),a.Vi.fromViewState(t.viewState.move(!0,v,g,0))}var C=t.modelState.selectionStart.getEndPosition();return a.Vi.fromModelState(t.modelState.move(!0,C.lineNumber,C.column,0))}},{key:"word",value:function(e,t,n,r){var i=e.model.validatePosition(r);return a.Vi.fromModelState(s.w.word(e.cursorConfig,e.model,t.modelState,n,i))}},{key:"cancelSelection",value:function(e,t){if(!t.modelState.hasSelection())return new a.Vi(t.modelState,t.viewState);var n=t.viewState.position.lineNumber,r=t.viewState.position.column;return a.Vi.fromViewState(new a.rS(new d.e(n,r,n,r),0,0,new c.L(n,r),0))}},{key:"moveTo",value:function(e,t,n,r,i){if(n){if(1===t.modelState.selectionStartKind)return this.word(e,t,n,r);if(2===t.modelState.selectionStartKind)return this.line(e,t,n,r,i)}var o=e.model.validatePosition(r),u=i?e.coordinatesConverter.validateViewPosition(new c.L(i.lineNumber,i.column),o):e.coordinatesConverter.convertModelPositionToViewPosition(o);return a.Vi.fromViewState(t.viewState.move(n,u.lineNumber,u.column,0))}},{key:"simpleMove",value:function(e,t,n,r,i,o){switch(n){case 0:return 4===o?this._moveHalfLineLeft(e,t,r):this._moveLeft(e,t,r,i);case 1:return 4===o?this._moveHalfLineRight(e,t,r):this._moveRight(e,t,r,i);case 2:return 2===o?this._moveUpByViewLines(e,t,r,i):this._moveUpByModelLines(e,t,r,i);case 3:return 2===o?this._moveDownByViewLines(e,t,r,i):this._moveDownByModelLines(e,t,r,i);case 4:return 2===o?t.map((function(t){return a.Vi.fromViewState(l.o.moveToPrevBlankLine(e.cursorConfig,e,t.viewState,r))})):t.map((function(t){return a.Vi.fromModelState(l.o.moveToPrevBlankLine(e.cursorConfig,e.model,t.modelState,r))}));case 5:return 2===o?t.map((function(t){return a.Vi.fromViewState(l.o.moveToNextBlankLine(e.cursorConfig,e,t.viewState,r))})):t.map((function(t){return a.Vi.fromModelState(l.o.moveToNextBlankLine(e.cursorConfig,e.model,t.modelState,r))}));case 6:return this._moveToViewMinColumn(e,t,r);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,r);case 8:return this._moveToViewCenterColumn(e,t,r);case 9:return this._moveToViewMaxColumn(e,t,r);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,r);default:return null}}},{key:"viewportMove",value:function(e,t,n,r,i){var o=e.getCompletelyVisibleViewRange(),u=e.coordinatesConverter.convertViewRangeToModelRange(o);switch(n){case 11:var a=this._firstLineNumberInRange(e.model,u,i),l=e.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(e,t[0],r,a,l)];case 13:var s=this._lastLineNumberInRange(e.model,u,i),c=e.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(e,t[0],r,s,c)];case 12:var d=Math.round((u.startLineNumber+u.endLineNumber)/2),h=e.model.getLineFirstNonWhitespaceColumn(d);return[this._moveToModelPosition(e,t[0],r,d,h)];case 14:for(var f=[],m=0,v=t.length;m<v;m++){var g=t[m];f[m]=this.findPositionInViewportIfOutside(e,g,o,r)}return f;default:return null}}},{key:"findPositionInViewportIfOutside",value:function(e,t,n,r){var i,o=t.viewState.position.lineNumber;if(n.startLineNumber<=o&&o<=n.endLineNumber-1)return new a.Vi(t.modelState,t.viewState);i=o>n.endLineNumber-1?n.endLineNumber-1:o<n.startLineNumber?n.startLineNumber:o;var u=l.o.vertical(e.cursorConfig,e,o,t.viewState.position.column,t.viewState.leftoverVisibleColumns,i,!1);return a.Vi.fromViewState(t.viewState.move(r,u.lineNumber,u.column,u.leftoverVisibleColumns))}},{key:"_firstLineNumberInRange",value:function(e,t,n){var r=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(r)&&r++,Math.min(t.endLineNumber,r+n-1)}},{key:"_lastLineNumberInRange",value:function(e,t,n){var r=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(r)&&r++,Math.max(r,t.endLineNumber-n+1)}},{key:"_moveLeft",value:function(e,t,n,r){return t.map((function(t){return a.Vi.fromViewState(l.o.moveLeft(e.cursorConfig,e,t.viewState,n,r))}))}},{key:"_moveHalfLineLeft",value:function(e,t,n){for(var r=[],i=0,o=t.length;i<o;i++){var u=t[i],s=u.viewState.position.lineNumber,c=Math.round(e.getLineContent(s).length/2);r[i]=a.Vi.fromViewState(l.o.moveLeft(e.cursorConfig,e,u.viewState,n,c))}return r}},{key:"_moveRight",value:function(e,t,n,r){return t.map((function(t){return a.Vi.fromViewState(l.o.moveRight(e.cursorConfig,e,t.viewState,n,r))}))}},{key:"_moveHalfLineRight",value:function(e,t,n){for(var r=[],i=0,o=t.length;i<o;i++){var u=t[i],s=u.viewState.position.lineNumber,c=Math.round(e.getLineContent(s).length/2);r[i]=a.Vi.fromViewState(l.o.moveRight(e.cursorConfig,e,u.viewState,n,c))}return r}},{key:"_moveDownByViewLines",value:function(e,t,n,r){for(var i=[],o=0,u=t.length;o<u;o++){var s=t[o];i[o]=a.Vi.fromViewState(l.o.moveDown(e.cursorConfig,e,s.viewState,n,r))}return i}},{key:"_moveDownByModelLines",value:function(e,t,n,r){for(var i=[],o=0,u=t.length;o<u;o++){var s=t[o];i[o]=a.Vi.fromModelState(l.o.moveDown(e.cursorConfig,e.model,s.modelState,n,r))}return i}},{key:"_moveUpByViewLines",value:function(e,t,n,r){for(var i=[],o=0,u=t.length;o<u;o++){var s=t[o];i[o]=a.Vi.fromViewState(l.o.moveUp(e.cursorConfig,e,s.viewState,n,r))}return i}},{key:"_moveUpByModelLines",value:function(e,t,n,r){for(var i=[],o=0,u=t.length;o<u;o++){var s=t[o];i[o]=a.Vi.fromModelState(l.o.moveUp(e.cursorConfig,e.model,s.modelState,n,r))}return i}},{key:"_moveToViewPosition",value:function(e,t,n,r,i){return a.Vi.fromViewState(t.viewState.move(n,r,i,0))}},{key:"_moveToModelPosition",value:function(e,t,n,r,i){return a.Vi.fromModelState(t.modelState.move(n,r,i,0))}},{key:"_moveToViewMinColumn",value:function(e,t,n){for(var r=[],i=0,o=t.length;i<o;i++){var u=t[i],a=u.viewState.position.lineNumber,l=e.getLineMinColumn(a);r[i]=this._moveToViewPosition(e,u,n,a,l)}return r}},{key:"_moveToViewFirstNonWhitespaceColumn",value:function(e,t,n){for(var r=[],i=0,o=t.length;i<o;i++){var u=t[i],a=u.viewState.position.lineNumber,l=e.getLineFirstNonWhitespaceColumn(a);r[i]=this._moveToViewPosition(e,u,n,a,l)}return r}},{key:"_moveToViewCenterColumn",value:function(e,t,n){for(var r=[],i=0,o=t.length;i<o;i++){var u=t[i],a=u.viewState.position.lineNumber,l=Math.round((e.getLineMaxColumn(a)+e.getLineMinColumn(a))/2);r[i]=this._moveToViewPosition(e,u,n,a,l)}return r}},{key:"_moveToViewMaxColumn",value:function(e,t,n){for(var r=[],i=0,o=t.length;i<o;i++){var u=t[i],a=u.viewState.position.lineNumber,l=e.getLineMaxColumn(a);r[i]=this._moveToViewPosition(e,u,n,a,l)}return r}},{key:"_moveToViewLastNonWhitespaceColumn",value:function(e,t,n){for(var r=[],i=0,o=t.length;i<o;i++){var u=t[i],a=u.viewState.position.lineNumber,l=e.getLineLastNonWhitespaceColumn(a);r[i]=this._moveToViewPosition(e,u,n,a,l)}return r}}]),e}();!function(e){e.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){if(!u.Kn(e))return!1;var t=e;return!!u.HD(t.to)&&(!(!u.o8(t.select)&&!u.jn(t.select))&&(!(!u.o8(t.by)&&!u.HD(t.by))&&!(!u.o8(t.value)&&!u.hj(t.value))))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},e.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},e.parse=function(t){if(!t.to)return null;var n;switch(t.to){case e.RawDirection.Left:n=0;break;case e.RawDirection.Right:n=1;break;case e.RawDirection.Up:n=2;break;case e.RawDirection.Down:n=3;break;case e.RawDirection.PrevBlankLine:n=4;break;case e.RawDirection.NextBlankLine:n=5;break;case e.RawDirection.WrappedLineStart:n=6;break;case e.RawDirection.WrappedLineFirstNonWhitespaceCharacter:n=7;break;case e.RawDirection.WrappedLineColumnCenter:n=8;break;case e.RawDirection.WrappedLineEnd:n=9;break;case e.RawDirection.WrappedLineLastNonWhitespaceCharacter:n=10;break;case e.RawDirection.ViewPortTop:n=11;break;case e.RawDirection.ViewPortBottom:n=13;break;case e.RawDirection.ViewPortCenter:n=12;break;case e.RawDirection.ViewPortIfOutside:n=14;break;default:return null}var r=0;switch(t.by){case e.RawUnit.Line:r=1;break;case e.RawUnit.WrappedLine:r=2;break;case e.RawUnit.Character:r=3;break;case e.RawUnit.HalfLine:r=4}return{direction:n,unit:r,select:!!t.select,value:t.value||1}}}(r||(r={}))},23168:function(e,t,n){n.d(t,{o:function(){return h}});var r=n(91976),i=n(22951),o=n(29168),u=n(20596),a=n(99924),l=n(55597),s=n(17224),c=n(20648),d=(0,r.Z)((function e(t,n,r){(0,i.Z)(this,e),this._cursorPositionBrand=void 0,this.lineNumber=t,this.column=n,this.leftoverVisibleColumns=r})),h=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,null,[{key:"leftPosition",value:function(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-s.HO(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){var n=t.lineNumber-1;return new a.L(n,e.getLineMaxColumn(n))}return t}},{key:"leftPositionAtomicSoftTabs",value:function(e,t,n){if(t.column<=e.getLineIndentColumn(t.lineNumber)){var r=e.getLineMinColumn(t.lineNumber),i=e.getLineContent(t.lineNumber),o=c.l.atomicPosition(i,t.column-1,n,0);if(-1!==o&&o+1>=r)return new a.L(t.lineNumber,o+1)}return this.leftPosition(e,t)}},{key:"left",value:function(t,n,r){var i=t.stickyTabStops?e.leftPositionAtomicSoftTabs(n,r,t.tabSize):e.leftPosition(n,r);return new d(i.lineNumber,i.column,0)}},{key:"moveLeft",value:function(t,n,r,i,o){var u,a;if(r.hasSelection()&&!i)u=r.selection.startLineNumber,a=r.selection.startColumn;else{var l=r.position.delta(void 0,-(o-1)),s=n.normalizePosition(e.clipPositionColumn(l,n),0),c=e.left(t,n,s);u=c.lineNumber,a=c.column}return r.move(i,u,a,0)}},{key:"clipPositionColumn",value:function(t,n){return new a.L(t.lineNumber,e.clipRange(t.column,n.getLineMinColumn(t.lineNumber),n.getLineMaxColumn(t.lineNumber)))}},{key:"clipRange",value:function(e,t,n){return e<t?t:e>n?n:e}},{key:"rightPosition",value:function(e,t,n){return n<e.getLineMaxColumn(t)?n+=s.vH(e.getLineContent(t),n-1):t<e.getLineCount()&&(t+=1,n=e.getLineMinColumn(t)),new a.L(t,n)}},{key:"rightPositionAtomicSoftTabs",value:function(e,t,n,r,i){if(n<e.getLineIndentColumn(t)){var o=e.getLineContent(t),u=c.l.atomicPosition(o,n-1,r,1);if(-1!==u)return new a.L(t,u+1)}return this.rightPosition(e,t,n)}},{key:"right",value:function(t,n,r){var i=t.stickyTabStops?e.rightPositionAtomicSoftTabs(n,r.lineNumber,r.column,t.tabSize,t.indentSize):e.rightPosition(n,r.lineNumber,r.column);return new d(i.lineNumber,i.column,0)}},{key:"moveRight",value:function(t,n,r,i,o){var u,a;if(r.hasSelection()&&!i)u=r.selection.endLineNumber,a=r.selection.endColumn;else{var l=r.position.delta(void 0,o-1),s=n.normalizePosition(e.clipPositionColumn(l,n),1),c=e.right(t,n,s);u=c.lineNumber,a=c.column}return r.move(i,u,a,0)}},{key:"vertical",value:function(e,t,n,r,i,o,l,s){var c=u.i.visibleColumnFromColumn(t.getLineContent(n),r,e.tabSize)+i,h=t.getLineCount(),f=1===n&&1===r,m=n===h&&r===t.getLineMaxColumn(n),v=o<n?f:m;if((n=o)<1?(n=1,r=l?t.getLineMinColumn(n):Math.min(t.getLineMaxColumn(n),r)):n>h?(n=h,r=l?t.getLineMaxColumn(n):Math.min(t.getLineMaxColumn(n),r)):r=e.columnFromVisibleColumn(t,n,c),i=v?0:c-u.i.visibleColumnFromColumn(t.getLineContent(n),r,e.tabSize),void 0!==s){var g=new a.L(n,r),C=t.normalizePosition(g,s);i+=r-C.column,n=C.lineNumber,r=C.column}return new d(n,r,i)}},{key:"down",value:function(e,t,n,r,i,o,u){return this.vertical(e,t,n,r,i,n+o,u,4)}},{key:"moveDown",value:function(t,n,r,i,o){var u,a;r.hasSelection()&&!i?(u=r.selection.endLineNumber,a=r.selection.endColumn):(u=r.position.lineNumber,a=r.position.column);var l=e.down(t,n,u,a,r.leftoverVisibleColumns,o,!0);return r.move(i,l.lineNumber,l.column,l.leftoverVisibleColumns)}},{key:"translateDown",value:function(t,n,r){var i=r.selection,u=e.down(t,n,i.selectionStartLineNumber,i.selectionStartColumn,r.selectionStartLeftoverVisibleColumns,1,!1),s=e.down(t,n,i.positionLineNumber,i.positionColumn,r.leftoverVisibleColumns,1,!1);return new o.rS(new l.e(u.lineNumber,u.column,u.lineNumber,u.column),0,u.leftoverVisibleColumns,new a.L(s.lineNumber,s.column),s.leftoverVisibleColumns)}},{key:"up",value:function(e,t,n,r,i,o,u){return this.vertical(e,t,n,r,i,n-o,u,3)}},{key:"moveUp",value:function(t,n,r,i,o){var u,a;r.hasSelection()&&!i?(u=r.selection.startLineNumber,a=r.selection.startColumn):(u=r.position.lineNumber,a=r.position.column);var l=e.up(t,n,u,a,r.leftoverVisibleColumns,o,!0);return r.move(i,l.lineNumber,l.column,l.leftoverVisibleColumns)}},{key:"translateUp",value:function(t,n,r){var i=r.selection,u=e.up(t,n,i.selectionStartLineNumber,i.selectionStartColumn,r.selectionStartLeftoverVisibleColumns,1,!1),s=e.up(t,n,i.positionLineNumber,i.positionColumn,r.leftoverVisibleColumns,1,!1);return new o.rS(new l.e(u.lineNumber,u.column,u.lineNumber,u.column),0,u.leftoverVisibleColumns,new a.L(s.lineNumber,s.column),s.leftoverVisibleColumns)}},{key:"_isBlankLine",value:function(e,t){return 0===e.getLineFirstNonWhitespaceColumn(t)}},{key:"moveToPrevBlankLine",value:function(e,t,n,r){for(var i=n.position.lineNumber;i>1&&this._isBlankLine(t,i);)i--;for(;i>1&&!this._isBlankLine(t,i);)i--;return n.move(r,i,t.getLineMinColumn(i),0)}},{key:"moveToNextBlankLine",value:function(e,t,n,r){for(var i=t.getLineCount(),o=n.position.lineNumber;o<i&&this._isBlankLine(t,o);)o++;for(;o<i&&!this._isBlankLine(t,o);)o++;return n.move(r,o,t.getLineMinColumn(o),0)}},{key:"moveToBeginningOfLine",value:function(e,t,n,r){var i,o=n.position.lineNumber,u=t.getLineMinColumn(o),a=t.getLineFirstNonWhitespaceColumn(o)||u;return i=n.position.column===a?u:a,n.move(r,o,i,0)}},{key:"moveToEndOfLine",value:function(e,t,n,r,i){var o=n.position.lineNumber,u=t.getLineMaxColumn(o);return n.move(r,o,u,i?1073741824-u:0)}},{key:"moveToBeginningOfBuffer",value:function(e,t,n,r){return n.move(r,1,1,0)}},{key:"moveToEndOfBuffer",value:function(e,t,n,r){var i=t.getLineCount(),o=t.getLineMaxColumn(i);return n.move(r,i,o,0)}}]),e}()},49358:function(e,t,n){n.d(t,{Nu:function(){return _},g_:function(){return N},u6:function(){return y}});var r=n(43243),i=n(27597),o=n(67591),u=n(99616),a=n(60726),l=n(22951),s=n(91976),c=n(33309),d=n(17224),h=n(45596),f=n(97195),m=n(97353),v=n(29168),g=n(34361),C=n(55597),p=n(99924),b=n(70860),k=n(41598),L=n(59665),S=n(31647),w=n(1391),y=function(){function e(){(0,l.Z)(this,e)}return(0,s.Z)(e,null,[{key:"indent",value:function(e,t,n){if(null===t||null===n)return[];for(var r=[],i=0,o=n.length;i<o;i++)r[i]=new f.U(n[i],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return r}},{key:"outdent",value:function(e,t,n){for(var r=[],i=0,o=n.length;i<o;i++)r[i]=new f.U(n[i],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return r}},{key:"shiftIndent",value:function(e,t,n){return n=n||1,f.U.shiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)}},{key:"unshiftIndent",value:function(e,t,n){return n=n||1,f.U.unshiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)}},{key:"_distributedPaste",value:function(e,t,n,r){for(var i=[],o=0,u=n.length;o<u;o++)i[o]=new h.T4(n[o],r[o]);return new v.Tp(0,i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}},{key:"_simplePaste",value:function(e,t,n,r,i){for(var o=[],u=0,a=n.length;u<a;u++){var l=n[u],s=l.getPosition();if(i&&!l.isEmpty()&&(i=!1),i&&r.indexOf("\n")!==r.length-1&&(i=!1),i){var c=new C.e(s.lineNumber,1,s.lineNumber,1);o[u]=new h.hP(c,r,l,!0)}else o[u]=new h.T4(l,r)}return new v.Tp(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}},{key:"_distributePasteToCursors",value:function(e,t,n,r,i){if(r)return null;if(1===t.length)return null;if(i&&i.length===t.length)return i;if("spread"===e.multiCursorPaste){10===n.charCodeAt(n.length-1)&&(n=n.substr(0,n.length-1)),13===n.charCodeAt(n.length-1)&&(n=n.substr(0,n.length-1));var o=d.uq(n);if(o.length===t.length)return o}return null}},{key:"paste",value:function(e,t,n,r,i,o){var u=this._distributePasteToCursors(e,n,r,i,o);return u?(n=n.sort(C.e.compareRangesUsingStarts),this._distributedPaste(e,t,n,u)):this._simplePaste(e,t,n,r,i)}},{key:"_goodIndentForLine",value:function(t,n,r){var i=null,o="",u=(0,S.r7)(t.autoIndent,n,r,!1,t.languageConfigurationService);if(u)i=u.action,o=u.indentation;else if(r>1){var a;for(a=r-1;a>=1;a--){var l=n.getLineContent(a);if(d.ow(l)>=0)break}if(a<1)return null;var s=n.getLineMaxColumn(a),c=(0,w.A)(t.autoIndent,n,new C.e(a,s,a,s),t.languageConfigurationService);c&&(o=c.indentation+c.appendText)}return i&&(i===b.wU.Indent&&(o=e.shiftIndent(t,o)),i===b.wU.Outdent&&(o=e.unshiftIndent(t,o)),o=t.normalizeIndentation(o)),o||null}},{key:"_replaceJumpToNextIndent",value:function(e,t,n,r){var i="",o=n.getStartPosition();if(e.insertSpaces)for(var u=e.visibleColumnFromColumn(t,o),a=e.indentSize,l=a-u%a,s=0;s<l;s++)i+=" ";else i="\t";return new h.T4(n,i,r)}},{key:"tab",value:function(e,t,n){for(var r=[],i=0,o=n.length;i<o;i++){var u=n[i];if(u.isEmpty()){var a=t.getLineContent(u.startLineNumber);if(/^\s*$/.test(a)&&t.tokenization.isCheapToTokenize(u.startLineNumber)){var l=this._goodIndentForLine(e,t,u.startLineNumber);l=l||"\t";var s=e.normalizeIndentation(l);if(!a.startsWith(s)){r[i]=new h.T4(new C.e(u.startLineNumber,1,u.startLineNumber,a.length+1),s,!0);continue}}r[i]=this._replaceJumpToNextIndent(e,t,u,!0)}else{if(u.startLineNumber===u.endLineNumber){var c=t.getLineMaxColumn(u.startLineNumber);if(1!==u.startColumn||u.endColumn!==c){r[i]=this._replaceJumpToNextIndent(e,t,u,!1);continue}}r[i]=new f.U(u,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService)}}return r}},{key:"compositionType",value:function(e,t,n,r,i,o,u,a){var l=this,s=r.map((function(e){return l._compositionType(n,e,i,o,u,a)}));return new v.Tp(4,s,{shouldPushStackElementBefore:x(e,4),shouldPushStackElementAfter:!1})}},{key:"_compositionType",value:function(e,t,n,r,i,o){if(!t.isEmpty())return null;var u=t.getPosition(),a=Math.max(1,u.column-r),l=Math.min(e.getLineMaxColumn(u.lineNumber),u.column+i),s=new C.e(u.lineNumber,a,u.lineNumber,l);return e.getValueInRange(s)===n&&0===o?null:new h.Uo(s,n,0,o)}},{key:"_typeCommand",value:function(e,t,n){return n?new h.Sj(e,t,!0):new h.T4(e,t,!0)}},{key:"_enter",value:function(t,n,r,i){if(0===t.autoIndent)return e._typeCommand(i,"\n",r);if(!n.tokenization.isCheapToTokenize(i.getStartPosition().lineNumber)||1===t.autoIndent){var o=n.getLineContent(i.startLineNumber),u=d.V8(o).substring(0,i.startColumn-1);return e._typeCommand(i,"\n"+t.normalizeIndentation(u),r)}var a=(0,w.A)(t.autoIndent,n,i,t.languageConfigurationService);if(a){if(a.indentAction===b.wU.None)return e._typeCommand(i,"\n"+t.normalizeIndentation(a.indentation+a.appendText),r);if(a.indentAction===b.wU.Indent)return e._typeCommand(i,"\n"+t.normalizeIndentation(a.indentation+a.appendText),r);if(a.indentAction===b.wU.IndentOutdent){var l=t.normalizeIndentation(a.indentation),s=t.normalizeIndentation(a.indentation+a.appendText),c="\n"+s+"\n"+l;return r?new h.Sj(i,c,!0):new h.Uo(i,c,-1,s.length-l.length,!0)}if(a.indentAction===b.wU.Outdent){var f=e.unshiftIndent(t,a.indentation);return e._typeCommand(i,"\n"+t.normalizeIndentation(f+a.appendText),r)}}var m=n.getLineContent(i.startLineNumber),v=d.V8(m).substring(0,i.startColumn-1);if(t.autoIndent>=4){var g=(0,S.UF)(t.autoIndent,n,i,{unshiftIndent:function(n){return e.unshiftIndent(t,n)},shiftIndent:function(n){return e.shiftIndent(t,n)},normalizeIndentation:function(e){return t.normalizeIndentation(e)}},t.languageConfigurationService);if(g){var C=t.visibleColumnFromColumn(n,i.getEndPosition()),p=i.endColumn,k=n.getLineContent(i.endLineNumber),L=d.LC(k);if(i=L>=0?i.setEndPosition(i.endLineNumber,Math.max(i.endColumn,L+1)):i.setEndPosition(i.endLineNumber,n.getLineMaxColumn(i.endLineNumber)),r)return new h.Sj(i,"\n"+t.normalizeIndentation(g.afterEnter),!0);var y=0;return p<=L+1&&(t.insertSpaces||(C=Math.ceil(C/t.indentSize)),y=Math.min(C+1-t.normalizeIndentation(g.afterEnter).length-1,0)),new h.Uo(i,"\n"+t.normalizeIndentation(g.afterEnter),0,y,!0)}}return e._typeCommand(i,"\n"+t.normalizeIndentation(v),r)}},{key:"_isAutoIndentType",value:function(e,t,n){if(e.autoIndent<4)return!1;for(var r=0,i=n.length;r<i;r++)if(!t.tokenization.isCheapToTokenize(n[r].getEndPosition().lineNumber))return!1;return!0}},{key:"_runAutoIndentType",value:function(t,n,r,i){var o=(0,k.u0)(n,r.startLineNumber,r.startColumn),u=(0,S.$9)(t.autoIndent,n,r,i,{shiftIndent:function(n){return e.shiftIndent(t,n)},unshiftIndent:function(n){return e.unshiftIndent(t,n)}},t.languageConfigurationService);if(null===u)return null;if(u!==t.normalizeIndentation(o)){var a=n.getLineFirstNonWhitespaceColumn(r.startLineNumber);return 0===a?e._typeCommand(new C.e(r.startLineNumber,1,r.endLineNumber,r.endColumn),t.normalizeIndentation(u)+i,!1):e._typeCommand(new C.e(r.startLineNumber,1,r.endLineNumber,r.endColumn),t.normalizeIndentation(u)+n.getLineContent(r.startLineNumber).substring(a-1,r.startColumn-1)+i,!1)}return null}},{key:"_isAutoClosingOvertype",value:function(e,t,n,r,i){if("never"===e.autoClosingOvertype)return!1;if(!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(i))return!1;for(var o=0,u=n.length;o<u;o++){var a=n[o];if(!a.isEmpty())return!1;var l=a.getPosition(),s=t.getLineContent(l.lineNumber);if(s.charAt(l.column-1)!==i)return!1;var c=(0,v.LN)(i);if(92===(l.column>2?s.charCodeAt(l.column-2):0)&&c)return!1;if("auto"===e.autoClosingOvertype){for(var d=!1,h=0,f=r.length;h<f;h++){var m=r[h];if(l.lineNumber===m.startLineNumber&&l.column===m.startColumn){d=!0;break}}if(!d)return!1}}return!0}},{key:"_runAutoClosingOvertype",value:function(e,t,n,r,i){for(var o=[],u=0,a=r.length;u<a;u++){var l=r[u].getPosition(),s=new C.e(l.lineNumber,l.column,l.lineNumber,l.column+1);o[u]=new h.T4(s,i)}return new v.Tp(4,o,{shouldPushStackElementBefore:x(e,4),shouldPushStackElementAfter:!1})}},{key:"_isBeforeClosingBrace",value:function(e,t){var n=t.charAt(0),r=e.autoClosingPairs.autoClosingPairsOpenByStart.get(n)||[],i=e.autoClosingPairs.autoClosingPairsCloseByStart.get(n)||[],o=r.some((function(e){return t.startsWith(e.open)})),u=i.some((function(e){return t.startsWith(e.close)}));return!o&&u}},{key:"_findAutoClosingPairOpen",value:function(e,t,n,r){var i=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(r);if(!i)return null;var o,u=null,l=(0,a.Z)(i);try{for(l.s();!(o=l.n()).done;){var s=o.value;if(null===u||s.open.length>u.open.length){var c,d=!0,h=(0,a.Z)(n);try{for(h.s();!(c=h.n()).done;){var f=c.value;if(t.getValueInRange(new C.e(f.lineNumber,f.column-s.open.length+1,f.lineNumber,f.column))+r!==s.open){d=!1;break}}}catch(m){h.e(m)}finally{h.f()}d&&(u=s)}}}catch(m){l.e(m)}finally{l.f()}return u}},{key:"_findContainedAutoClosingPair",value:function(e,t){if(t.open.length<=1)return null;var n,r=t.close.charAt(t.close.length-1),i=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(r)||[],o=null,u=(0,a.Z)(i);try{for(u.s();!(n=u.n()).done;){var l=n.value;l.open!==t.open&&t.open.includes(l.open)&&t.close.endsWith(l.close)&&(!o||l.open.length>o.open.length)&&(o=l)}}catch(s){u.e(s)}finally{u.f()}return o}},{key:"_getAutoClosingPairClose",value:function(t,n,r,i,o){var u=(0,v.LN)(i),l=u?t.autoClosingQuotes:t.autoClosingBrackets,s=u?t.shouldAutoCloseBefore.quote:t.shouldAutoCloseBefore.bracket;if("never"===l)return null;var c,d=(0,a.Z)(r);try{for(d.s();!(c=d.n()).done;){if(!c.value.isEmpty())return null}}catch(O){d.e(O)}finally{d.f()}var h=r.map((function(e){var t=e.getPosition();return o?{lineNumber:t.lineNumber,beforeColumn:t.column-i.length,afterColumn:t.column}:{lineNumber:t.lineNumber,beforeColumn:t.column,afterColumn:t.column}})),f=this._findAutoClosingPairOpen(t,n,h.map((function(e){return new p.L(e.lineNumber,e.beforeColumn)})),i);if(!f)return null;var m,C=this._findContainedAutoClosingPair(t,f),b=C?C.close:"",k=!0,S=(0,a.Z)(h);try{for(S.s();!(m=S.n()).done;){var w=m.value,y=w.lineNumber,N=w.beforeColumn,_=w.afterColumn,P=n.getLineContent(y),x=P.substring(0,N-1),T=P.substring(_-1);if(T.startsWith(b)||(k=!1),T.length>0){var E=T.charAt(0);if(!e._isBeforeClosingBrace(t,T)&&!s(E))return null}if(1===f.open.length&&("'"===i||'"'===i)&&"always"!==l){var B=(0,g.u)(t.wordSeparators);if(x.length>0){var V=x.charCodeAt(x.length-1);if(0===B.get(V))return null}}if(!n.tokenization.isCheapToTokenize(y))return null;n.tokenization.forceTokenization(y);var M=n.tokenization.getLineTokens(y),R=(0,L.wH)(M,N-1);if(!f.shouldAutoClose(R,N-R.firstCharOffset))return null;var A=f.findNeutralCharacter();if(A){var I=n.tokenization.getTokenTypeIfInsertingCharacter(y,N,A);if(!f.isOK(I))return null}}}catch(O){S.e(O)}finally{S.f()}return k?f.close.substring(0,f.close.length-b.length):f.close}},{key:"_runAutoClosingOpenCharType",value:function(e,t,n,r,i,o,u){for(var a=[],l=0,s=r.length;l<s;l++){var c=r[l];a[l]=new N(c,i,!o,u)}return new v.Tp(4,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}},{key:"_shouldSurroundChar",value:function(e,t){return(0,v.LN)(t)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround}},{key:"_isSurroundSelectionType",value:function(t,n,r,i){if(!e._shouldSurroundChar(t,i)||!t.surroundingPairs.hasOwnProperty(i))return!1;var o,u=(0,v.LN)(i),l=(0,a.Z)(r);try{for(l.s();!(o=l.n()).done;){var s=o.value;if(s.isEmpty())return!1;for(var c=!0,d=s.startLineNumber;d<=s.endLineNumber;d++){var h=n.getLineContent(d),f=d===s.startLineNumber?s.startColumn-1:0,m=d===s.endLineNumber?s.endColumn-1:h.length,g=h.substring(f,m);if(/[^ \t]/.test(g)){c=!1;break}}if(c)return!1;if(u&&s.startLineNumber===s.endLineNumber&&s.startColumn+1===s.endColumn){var C=n.getValueInRange(s);if((0,v.LN)(C))return!1}}}catch(p){l.e(p)}finally{l.f()}return!0}},{key:"_runSurroundSelectionType",value:function(e,t,n,r,i){for(var o=[],u=0,a=r.length;u<a;u++){var l=r[u],s=t.surroundingPairs[i];o[u]=new m.F(l,i,s)}return new v.Tp(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}},{key:"_isTypeInterceptorElectricChar",value:function(e,t,n){return!(1!==n.length||!t.tokenization.isCheapToTokenize(n[0].getEndPosition().lineNumber))}},{key:"_typeInterceptorElectricChar",value:function(e,t,n,r,i){if(!t.electricChars.hasOwnProperty(i)||!r.isEmpty())return null;var o=r.getPosition();n.tokenization.forceTokenization(o.lineNumber);var u,a=n.tokenization.getLineTokens(o.lineNumber);try{u=t.onElectricCharacter(i,a,o.column)}catch(w){return(0,c.dL)(w),null}if(!u)return null;if(u.matchOpenBracket){var l=(a.getLineContent()+i).lastIndexOf(u.matchOpenBracket)+1,s=n.bracketPairs.findMatchingBracketUp(u.matchOpenBracket,{lineNumber:o.lineNumber,column:l},500);if(s){if(s.startLineNumber===o.lineNumber)return null;var f=n.getLineContent(s.startLineNumber),m=d.V8(f),g=t.normalizeIndentation(m),p=n.getLineContent(o.lineNumber),b=n.getLineFirstNonWhitespaceColumn(o.lineNumber)||o.column,k=g+p.substring(b-1,o.column-1)+i,L=new C.e(o.lineNumber,1,o.lineNumber,o.column),S=new h.T4(L,k);return new v.Tp(P(k,e),[S],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}},{key:"compositionEndWithInterceptors",value:function(t,n,r,i,o,u){if(!i)return null;var l,s=null,c=(0,a.Z)(i);try{for(c.s();!(l=c.n()).done;){var d=l.value;if(null===s)s=d.insertedText;else if(s!==d.insertedText)return null}}catch(M){c.e(M)}finally{c.f()}if(!s||1!==s.length)return null;var f,g=s,p=!1,b=(0,a.Z)(i);try{for(b.s();!(f=b.n()).done;){if(0!==f.value.deletedText.length){p=!0;break}}}catch(M){b.e(M)}finally{b.f()}if(p){if(!e._shouldSurroundChar(n,g)||!n.surroundingPairs.hasOwnProperty(g))return null;var k,L=(0,v.LN)(g),S=(0,a.Z)(i);try{for(S.s();!(k=S.n()).done;){var w=k.value;if(0!==w.deletedSelectionStart||w.deletedSelectionEnd!==w.deletedText.length)return null;if(/^[ \t]+$/.test(w.deletedText))return null;if(L&&(0,v.LN)(w.deletedText))return null}}catch(M){S.e(M)}finally{S.f()}var y,N=[],_=(0,a.Z)(o);try{for(_.s();!(y=_.n()).done;){var P=y.value;if(!P.isEmpty())return null;N.push(P.getPosition())}}catch(M){_.e(M)}finally{_.f()}if(N.length!==i.length)return null;for(var x=[],T=0,E=N.length;T<E;T++)x.push(new m.K(N[T],i[T].deletedText,n.surroundingPairs[g]));return new v.Tp(4,x,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(n,r,o,u,g)){var B=o.map((function(e){return new h.T4(new C.e(e.positionLineNumber,e.positionColumn,e.positionLineNumber,e.positionColumn+1),"",!1)}));return new v.Tp(4,B,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}var V=this._getAutoClosingPairClose(n,r,o,g,!0);return null!==V?this._runAutoClosingOpenCharType(t,n,r,o,g,!0,V):null}},{key:"typeWithInterceptors",value:function(t,n,r,i,o,u,a){if(!t&&"\n"===a){for(var l=[],s=0,c=o.length;s<c;s++)l[s]=e._enter(r,i,!1,o[s]);return new v.Tp(4,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!t&&this._isAutoIndentType(r,i,o)){for(var d=[],f=!1,m=0,g=o.length;m<g;m++)if(d[m]=this._runAutoIndentType(r,i,o[m],a),!d[m]){f=!0;break}if(!f)return new v.Tp(4,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(r,i,o,u,a))return this._runAutoClosingOvertype(n,r,i,o,a);if(!t){var C=this._getAutoClosingPairClose(r,i,o,a,!1);if(C)return this._runAutoClosingOpenCharType(n,r,i,o,a,!1,C)}if(!t&&this._isSurroundSelectionType(r,i,o,a))return this._runSurroundSelectionType(n,r,i,o,a);if(!t&&this._isTypeInterceptorElectricChar(r,i,o)){var p=this._typeInterceptorElectricChar(n,r,i,o[0],a);if(p)return p}for(var b=[],k=0,L=o.length;k<L;k++)b[k]=new h.T4(o[k],a);var S=P(a,n);return new v.Tp(S,b,{shouldPushStackElementBefore:x(n,S),shouldPushStackElementAfter:!1})}},{key:"typeWithoutInterceptors",value:function(e,t,n,r,i){for(var o=[],u=0,a=r.length;u<a;u++)o[u]=new h.T4(r[u],i);var l=P(i,e);return new v.Tp(l,o,{shouldPushStackElementBefore:x(e,l),shouldPushStackElementAfter:!1})}},{key:"lineInsertBefore",value:function(e,t,n){if(null===t||null===n)return[];for(var r=[],i=0,o=n.length;i<o;i++){var u=n[i].positionLineNumber;if(1===u)r[i]=new h.Sj(new C.e(1,1,1,1),"\n");else{u--;var a=t.getLineMaxColumn(u);r[i]=this._enter(e,t,!1,new C.e(u,a,u,a))}}return r}},{key:"lineInsertAfter",value:function(e,t,n){if(null===t||null===n)return[];for(var r=[],i=0,o=n.length;i<o;i++){var u=n[i].positionLineNumber,a=t.getLineMaxColumn(u);r[i]=this._enter(e,t,!1,new C.e(u,a,u,a))}return r}},{key:"lineBreakInsert",value:function(e,t,n){for(var r=[],i=0,o=n.length;i<o;i++)r[i]=this._enter(e,t,!0,n[i]);return r}}]),e}(),N=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i,o){var u;return(0,l.Z)(this,n),(u=t.call(this,e,(i?r:"")+o,0,-o.length))._openCharacter=r,u._closeCharacter=o,u.closeCharacterRange=null,u.enclosingRange=null,u}return(0,s.Z)(n,[{key:"computeCursorState",value:function(e,t){var o=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new C.e(o.startLineNumber,o.endColumn-this._closeCharacter.length,o.endLineNumber,o.endColumn),this.enclosingRange=new C.e(o.startLineNumber,o.endColumn-this._openCharacter.length-this._closeCharacter.length,o.endLineNumber,o.endColumn),(0,r.Z)((0,i.Z)(n.prototype),"computeCursorState",this).call(this,e,t)}}]),n}(h.Uo),_=(0,s.Z)((function e(t,n,r,i,o,u){(0,l.Z)(this,e),this.deletedText=t,this.deletedSelectionStart=n,this.deletedSelectionEnd=r,this.insertedText=i,this.insertedSelectionStart=o,this.insertedSelectionEnd=u}));function P(e,t){return" "===e?5===t||6===t?6:5:4}function x(e,t){return!(!E(e)||E(t))||5!==e&&T(e)!==T(t)}function T(e){return 6===e||5===e?"space":e}function E(e){return 4===e||5===e||6===e}},51631:function(e,t,n){n.d(t,{L:function(){return m},w:function(){return f}});var r=n(67591),i=n(99616),o=n(22951),u=n(91976),a=n(17224),l=n(29168),s=n(85426),c=n(34361),d=n(99924),h=n(55597),f=function(){function e(){(0,o.Z)(this,e)}return(0,u.Z)(e,null,[{key:"_createWord",value:function(e,t,n,r,i){return{start:r,end:i,wordType:t,nextCharClass:n}}},{key:"_findPreviousWordOnLine",value:function(e,t,n){var r=t.getLineContent(n.lineNumber);return this._doFindPreviousWordOnLine(r,e,n)}},{key:"_doFindPreviousWordOnLine",value:function(e,t,n){for(var r=0,i=n.column-2;i>=0;i--){var o=e.charCodeAt(i),u=t.get(o);if(0===u){if(2===r)return this._createWord(e,r,u,i+1,this._findEndOfWord(e,t,r,i+1));r=1}else if(2===u){if(1===r)return this._createWord(e,r,u,i+1,this._findEndOfWord(e,t,r,i+1));r=2}else if(1===u&&0!==r)return this._createWord(e,r,u,i+1,this._findEndOfWord(e,t,r,i+1))}return 0!==r?this._createWord(e,r,1,0,this._findEndOfWord(e,t,r,0)):null}},{key:"_findEndOfWord",value:function(e,t,n,r){for(var i=e.length,o=r;o<i;o++){var u=e.charCodeAt(o),a=t.get(u);if(1===a)return o;if(1===n&&2===a)return o;if(2===n&&0===a)return o}return i}},{key:"_findNextWordOnLine",value:function(e,t,n){var r=t.getLineContent(n.lineNumber);return this._doFindNextWordOnLine(r,e,n)}},{key:"_doFindNextWordOnLine",value:function(e,t,n){for(var r=0,i=e.length,o=n.column-1;o<i;o++){var u=e.charCodeAt(o),a=t.get(u);if(0===a){if(2===r)return this._createWord(e,r,a,this._findStartOfWord(e,t,r,o-1),o);r=1}else if(2===a){if(1===r)return this._createWord(e,r,a,this._findStartOfWord(e,t,r,o-1),o);r=2}else if(1===a&&0!==r)return this._createWord(e,r,a,this._findStartOfWord(e,t,r,o-1),o)}return 0!==r?this._createWord(e,r,1,this._findStartOfWord(e,t,r,i-1),i):null}},{key:"_findStartOfWord",value:function(e,t,n,r){for(var i=r;i>=0;i--){var o=e.charCodeAt(i),u=t.get(o);if(1===u)return i+1;if(1===n&&2===u)return i+1;if(2===n&&0===u)return i+1}return 0}},{key:"moveWordLeft",value:function(t,n,r,i){var o=r.lineNumber,u=r.column;1===u&&o>1&&(o-=1,u=n.getLineMaxColumn(o));var a=e._findPreviousWordOnLine(t,n,new d.L(o,u));if(0===i)return new d.L(o,a?a.start+1:1);if(1===i)return a&&2===a.wordType&&a.end-a.start===1&&0===a.nextCharClass&&(a=e._findPreviousWordOnLine(t,n,new d.L(o,a.start+1))),new d.L(o,a?a.start+1:1);if(3===i){for(;a&&2===a.wordType;)a=e._findPreviousWordOnLine(t,n,new d.L(o,a.start+1));return new d.L(o,a?a.start+1:1)}return a&&u<=a.end+1&&(a=e._findPreviousWordOnLine(t,n,new d.L(o,a.start+1))),new d.L(o,a?a.end+1:1)}},{key:"_moveWordPartLeft",value:function(e,t){var n=t.lineNumber,r=e.getLineMaxColumn(n);if(1===t.column)return n>1?new d.L(n-1,e.getLineMaxColumn(n-1)):t;for(var i=e.getLineContent(n),o=t.column-1;o>1;o--){var u=i.charCodeAt(o-2),l=i.charCodeAt(o-1);if(95===u&&95!==l)return new d.L(n,o);if(45===u&&45!==l)return new d.L(n,o);if((a.mK(u)||a.T5(u))&&a.df(l))return new d.L(n,o);if(a.df(u)&&a.df(l)&&o+1<r){var s=i.charCodeAt(o);if(a.mK(s)||a.T5(s))return new d.L(n,o)}}return new d.L(n,1)}},{key:"moveWordRight",value:function(t,n,r,i){var o=r.lineNumber,u=r.column,a=!1;u===n.getLineMaxColumn(o)&&o<n.getLineCount()&&(a=!0,o+=1,u=1);var l=e._findNextWordOnLine(t,n,new d.L(o,u));if(2===i)l&&2===l.wordType&&l.end-l.start===1&&0===l.nextCharClass&&(l=e._findNextWordOnLine(t,n,new d.L(o,l.end+1))),u=l?l.end+1:n.getLineMaxColumn(o);else if(3===i){for(a&&(u=0);l&&(2===l.wordType||l.start+1<=u);)l=e._findNextWordOnLine(t,n,new d.L(o,l.end+1));u=l?l.start+1:n.getLineMaxColumn(o)}else l&&!a&&u>=l.start+1&&(l=e._findNextWordOnLine(t,n,new d.L(o,l.end+1))),u=l?l.start+1:n.getLineMaxColumn(o);return new d.L(o,u)}},{key:"_moveWordPartRight",value:function(e,t){var n=t.lineNumber,r=e.getLineMaxColumn(n);if(t.column===r)return n<e.getLineCount()?new d.L(n+1,1):t;for(var i=e.getLineContent(n),o=t.column+1;o<r;o++){var u=i.charCodeAt(o-2),l=i.charCodeAt(o-1);if(95!==u&&95===l)return new d.L(n,o);if(45!==u&&45===l)return new d.L(n,o);if((a.mK(u)||a.T5(u))&&a.df(l))return new d.L(n,o);if(a.df(u)&&a.df(l)&&o+1<r){var s=i.charCodeAt(o);if(a.mK(s)||a.T5(s))return new d.L(n,o)}}return new d.L(n,r)}},{key:"_deleteWordLeftWhitespace",value:function(e,t){var n=e.getLineContent(t.lineNumber),r=t.column-2,i=a.ow(n,r);return i+1<r?new h.e(t.lineNumber,i+2,t.lineNumber,t.column):null}},{key:"deleteWordLeft",value:function(t,n){var r=t.wordSeparators,i=t.model,o=t.selection,u=t.whitespaceHeuristics;if(!o.isEmpty())return o;if(s.A.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,t.model,[t.selection],t.autoClosedCharacters)){var a=t.selection.getPosition();return new h.e(a.lineNumber,a.column-1,a.lineNumber,a.column+1)}var l=new d.L(o.positionLineNumber,o.positionColumn),c=l.lineNumber,f=l.column;if(1===c&&1===f)return null;if(u){var m=this._deleteWordLeftWhitespace(i,l);if(m)return m}var v=e._findPreviousWordOnLine(r,i,l);return 0===n?v?f=v.start+1:f>1?f=1:(c--,f=i.getLineMaxColumn(c)):(v&&f<=v.end+1&&(v=e._findPreviousWordOnLine(r,i,new d.L(c,v.start+1))),v?f=v.end+1:f>1?f=1:(c--,f=i.getLineMaxColumn(c))),new h.e(c,f,l.lineNumber,l.column)}},{key:"deleteInsideWord",value:function(e,t,n){if(!n.isEmpty())return n;var r=new d.L(n.positionLineNumber,n.positionColumn),i=this._deleteInsideWordWhitespace(t,r);return i||this._deleteInsideWordDetermineDeleteRange(e,t,r)}},{key:"_charAtIsWhitespace",value:function(e,t){var n=e.charCodeAt(t);return 32===n||9===n}},{key:"_deleteInsideWordWhitespace",value:function(e,t){var n=e.getLineContent(t.lineNumber),r=n.length;if(0===r)return null;var i=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(n,i))return null;var o=Math.min(t.column-1,r-1);if(!this._charAtIsWhitespace(n,o))return null;for(;i>0&&this._charAtIsWhitespace(n,i-1);)i--;for(;o+1<r&&this._charAtIsWhitespace(n,o+1);)o++;return new h.e(t.lineNumber,i+1,t.lineNumber,o+2)}},{key:"_deleteInsideWordDetermineDeleteRange",value:function(t,n,r){var i=this,o=n.getLineContent(r.lineNumber),u=o.length;if(0===u)return r.lineNumber>1?new h.e(r.lineNumber-1,n.getLineMaxColumn(r.lineNumber-1),r.lineNumber,1):r.lineNumber<n.getLineCount()?new h.e(r.lineNumber,1,r.lineNumber+1,1):new h.e(r.lineNumber,1,r.lineNumber,1);var a=function(e){return e.start+1<=r.column&&r.column<=e.end+1},l=function(e,t){return e=Math.min(e,r.column),t=Math.max(t,r.column),new h.e(r.lineNumber,e,r.lineNumber,t)},s=function(e){for(var t=e.start+1,n=e.end+1,r=!1;n-1<u&&i._charAtIsWhitespace(o,n-1);)r=!0,n++;if(!r)for(;t>1&&i._charAtIsWhitespace(o,t-2);)t--;return l(t,n)},c=e._findPreviousWordOnLine(t,n,r);if(c&&a(c))return s(c);var d=e._findNextWordOnLine(t,n,r);return d&&a(d)?s(d):c&&d?l(c.end+1,d.start+1):c?l(c.start+1,c.end+1):d?l(d.start+1,d.end+1):l(1,u+1)}},{key:"_deleteWordPartLeft",value:function(t,n){if(!n.isEmpty())return n;var r=n.getPosition(),i=e._moveWordPartLeft(t,r);return new h.e(r.lineNumber,r.column,i.lineNumber,i.column)}},{key:"_findFirstNonWhitespaceChar",value:function(e,t){for(var n=e.length,r=t;r<n;r++){var i=e.charAt(r);if(" "!==i&&"\t"!==i)return r}return n}},{key:"_deleteWordRightWhitespace",value:function(e,t){var n=e.getLineContent(t.lineNumber),r=t.column-1,i=this._findFirstNonWhitespaceChar(n,r);return r+1<i?new h.e(t.lineNumber,t.column,t.lineNumber,i+1):null}},{key:"deleteWordRight",value:function(t,n){var r=t.wordSeparators,i=t.model,o=t.selection,u=t.whitespaceHeuristics;if(!o.isEmpty())return o;var a=new d.L(o.positionLineNumber,o.positionColumn),l=a.lineNumber,s=a.column,c=i.getLineCount(),f=i.getLineMaxColumn(l);if(l===c&&s===f)return null;if(u){var m=this._deleteWordRightWhitespace(i,a);if(m)return m}var v=e._findNextWordOnLine(r,i,a);return 2===n?v?s=v.end+1:s<f||l===c?s=f:(l++,s=(v=e._findNextWordOnLine(r,i,new d.L(l,1)))?v.start+1:i.getLineMaxColumn(l)):(v&&s>=v.start+1&&(v=e._findNextWordOnLine(r,i,new d.L(l,v.end+1))),v?s=v.start+1:s<f||l===c?s=f:(l++,s=(v=e._findNextWordOnLine(r,i,new d.L(l,1)))?v.start+1:i.getLineMaxColumn(l))),new h.e(l,s,a.lineNumber,a.column)}},{key:"_deleteWordPartRight",value:function(t,n){if(!n.isEmpty())return n;var r=n.getPosition(),i=e._moveWordPartRight(t,r);return new h.e(r.lineNumber,r.column,i.lineNumber,i.column)}},{key:"_createWordAtPosition",value:function(e,t,n){var r=new h.e(t,n.start+1,t,n.end+1);return{word:e.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}},{key:"getWordAtPosition",value:function(t,n,r){var i=(0,c.u)(n),o=e._findPreviousWordOnLine(i,t,r);if(o&&1===o.wordType&&o.start<=r.column-1&&r.column-1<=o.end)return e._createWordAtPosition(t,r.lineNumber,o);var u=e._findNextWordOnLine(i,t,r);return u&&1===u.wordType&&u.start<=r.column-1&&r.column-1<=u.end?e._createWordAtPosition(t,r.lineNumber,u):null}},{key:"word",value:function(t,n,r,i,o){var u,a,s,f,m=(0,c.u)(t.wordSeparators),v=e._findPreviousWordOnLine(m,n,o),g=e._findNextWordOnLine(m,n,o);if(!i)return v&&1===v.wordType&&v.start<=o.column-1&&o.column-1<=v.end?(u=v.start+1,a=v.end+1):g&&1===g.wordType&&g.start<=o.column-1&&o.column-1<=g.end?(u=g.start+1,a=g.end+1):(u=v?v.end+1:1,a=g?g.start+1:n.getLineMaxColumn(o.lineNumber)),new l.rS(new h.e(o.lineNumber,u,o.lineNumber,a),1,0,new d.L(o.lineNumber,a),0);v&&1===v.wordType&&v.start<o.column-1&&o.column-1<v.end?(s=v.start+1,f=v.end+1):g&&1===g.wordType&&g.start<o.column-1&&o.column-1<g.end?(s=g.start+1,f=g.end+1):(s=o.column,f=o.column);var C,p=o.lineNumber;if(r.selectionStart.containsPosition(o))C=r.selectionStart.endColumn;else if(o.isBeforeOrEqual(r.selectionStart.getStartPosition())){C=s;var b=new d.L(p,C);r.selectionStart.containsPosition(b)&&(C=r.selectionStart.endColumn)}else{C=f;var k=new d.L(p,C);r.selectionStart.containsPosition(k)&&(C=r.selectionStart.startColumn)}return r.move(!0,p,C,0)}}]),e}(),m=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,null,[{key:"deleteWordPartLeft",value:function(e){var t=v([f.deleteWordLeft(e,0),f.deleteWordLeft(e,2),f._deleteWordPartLeft(e.model,e.selection)]);return t.sort(h.e.compareRangesUsingEnds),t[2]}},{key:"deleteWordPartRight",value:function(e){var t=v([f.deleteWordRight(e,0),f.deleteWordRight(e,2),f._deleteWordPartRight(e.model,e.selection)]);return t.sort(h.e.compareRangesUsingStarts),t[0]}},{key:"moveWordPartLeft",value:function(e,t,n){var r=v([f.moveWordLeft(e,t,n,0),f.moveWordLeft(e,t,n,2),f._moveWordPartLeft(t,n)]);return r.sort(d.L.compare),r[2]}},{key:"moveWordPartRight",value:function(e,t,n){var r=v([f.moveWordRight(e,t,n,0),f.moveWordRight(e,t,n,2),f._moveWordPartRight(t,n)]);return r.sort(d.L.compare),r[0]}}]),n}(f);function v(e){return e.filter((function(e){return Boolean(e)}))}},29168:function(e,t,n){n.d(t,{LM:function(){return v},LN:function(){return L},Tp:function(){return k},Vi:function(){return g},rS:function(){return b}});var r=n(60726),i=n(22951),o=n(91976),u=n(99924),a=n(55597),l=n(80253),s=n(59665),c=n(20596),d=n(18491),h=function(){return!0},f=function(){return!1},m=function(e){return" "===e||"\t"===e},v=function(){function e(t,n,o,u){(0,i.Z)(this,e),this.languageConfigurationService=u,this._cursorMoveConfigurationBrand=void 0,this._languageId=t;var a=o.options,l=a.get(140),s=a.get(48);this.readOnly=a.get(88),this.tabSize=n.tabSize,this.indentSize=n.indentSize,this.insertSpaces=n.insertSpaces,this.stickyTabStops=a.get(112),this.lineHeight=s.lineHeight,this.typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(l.height/this.lineHeight)-2),this.useTabStops=a.get(124),this.wordSeparators=a.get(126),this.emptySelectionClipboard=a.get(35),this.copyWithSyntaxHighlighting=a.get(23),this.multiCursorMergeOverlapping=a.get(74),this.multiCursorPaste=a.get(76),this.multiCursorLimit=a.get(77),this.autoClosingBrackets=a.get(5),this.autoClosingQuotes=a.get(9),this.autoClosingDelete=a.get(7),this.autoClosingOvertype=a.get(8),this.autoSurround=a.get(12),this.autoIndent=a.get(10),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(t,this.autoClosingQuotes,!0),bracket:this._getShouldAutoClose(t,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(t).getAutoClosingPairs();var c=this.languageConfigurationService.getLanguageConfiguration(t).getSurroundingPairs();if(c){var d,h=(0,r.Z)(c);try{for(h.s();!(d=h.n()).done;){var f=d.value;this.surroundingPairs[f.open]=f.close}}catch(m){h.e(m)}finally{h.f()}}}return(0,o.Z)(e,[{key:"electricChars",get:function(){var e;if(!this._electricChars){this._electricChars={};var t=null===(e=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===e?void 0:e.getElectricCharacters();if(t){var n,i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;this._electricChars[o]=!0}}catch(u){i.e(u)}finally{i.f()}}}return this._electricChars}},{key:"onElectricCharacter",value:function(e,t,n){var r=(0,s.wH)(t,n-1),i=this.languageConfigurationService.getLanguageConfiguration(r.languageId).electricCharacter;return i?i.onElectricCharacter(e,r,n-r.firstCharOffset):null}},{key:"normalizeIndentation",value:function(e){return(0,d.x)(e,this.indentSize,this.insertSpaces)}},{key:"_getShouldAutoClose",value:function(e,t,n){switch(t){case"beforeWhitespace":return m;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(e,n);case"always":return h;case"never":return f}}},{key:"_getLanguageDefinedShouldAutoClose",value:function(e,t){var n=this.languageConfigurationService.getLanguageConfiguration(e).getAutoCloseBeforeSet(t);return function(e){return-1!==n.indexOf(e)}}},{key:"visibleColumnFromColumn",value:function(e,t){return c.i.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,this.tabSize)}},{key:"columnFromVisibleColumn",value:function(e,t,n){var r=c.i.columnFromVisibleColumn(e.getLineContent(t),n,this.tabSize),i=e.getLineMinColumn(t);if(r<i)return i;var o=e.getLineMaxColumn(t);return r>o?o:r}}],[{key:"shouldRecreate",value:function(e){return e.hasChanged(140)||e.hasChanged(126)||e.hasChanged(35)||e.hasChanged(74)||e.hasChanged(76)||e.hasChanged(77)||e.hasChanged(5)||e.hasChanged(9)||e.hasChanged(7)||e.hasChanged(8)||e.hasChanged(12)||e.hasChanged(124)||e.hasChanged(48)||e.hasChanged(88)}}]),e}(),g=function(){function e(t,n){(0,i.Z)(this,e),this._cursorStateBrand=void 0,this.modelState=t,this.viewState=n}return(0,o.Z)(e,[{key:"equals",value:function(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}],[{key:"fromModelState",value:function(e){return new C(e)}},{key:"fromViewState",value:function(e){return new p(e)}},{key:"fromModelSelection",value:function(t){var n=l.Y.liftSelection(t),r=new b(a.e.fromPositions(n.getSelectionStart()),0,0,n.getPosition(),0);return e.fromModelState(r)}},{key:"fromModelSelections",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=this.fromModelSelection(e[n]);return t}}]),e}(),C=(0,o.Z)((function e(t){(0,i.Z)(this,e),this.modelState=t,this.viewState=null})),p=(0,o.Z)((function e(t){(0,i.Z)(this,e),this.modelState=null,this.viewState=t})),b=function(){function e(t,n,r,o,u){(0,i.Z)(this,e),this.selectionStart=t,this.selectionStartKind=n,this.selectionStartLeftoverVisibleColumns=r,this.position=o,this.leftoverVisibleColumns=u,this._singleCursorStateBrand=void 0,this.selection=e._computeSelection(this.selectionStart,this.position)}return(0,o.Z)(e,[{key:"equals",value:function(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.selectionStartKind===e.selectionStartKind&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}},{key:"hasSelection",value:function(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}},{key:"move",value:function(t,n,r,i){return t?new e(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new u.L(n,r),i):new e(new a.e(n,r,n,r),0,i,new u.L(n,r),i)}}],[{key:"_computeSelection",value:function(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?l.Y.fromPositions(e.getStartPosition(),t):l.Y.fromPositions(e.getEndPosition(),t)}}]),e}(),k=(0,o.Z)((function e(t,n,r){(0,i.Z)(this,e),this._editOperationResultBrand=void 0,this.type=t,this.commands=n,this.shouldPushStackElementBefore=r.shouldPushStackElementBefore,this.shouldPushStackElementAfter=r.shouldPushStackElementAfter}));function L(e){return"'"===e||'"'===e||"`"===e}}}]);
//# sourceMappingURL=monaco-editor-vendor.4ec6fe68.50337f7b.js.map