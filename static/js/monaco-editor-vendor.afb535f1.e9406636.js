"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[748],{25501:function(e,t,n){n.d(t,{f0:function(){return u},hZ:function(){return s},iy:function(){return l}});var i=n(60726),r=n(91976),a=n(22951),o=n(87621),s=(0,r.Z)((function e(t,n){(0,a.Z)(this,e),this.changes=t,this.hitTimeout=n})),u=function(){function e(t,n,i){(0,a.Z)(this,e),this.originalRange=t,this.modifiedRange=n,this.innerChanges=i}return(0,r.Z)(e,[{key:"toString",value:function(){return"{".concat(this.originalRange.toString(),"->").concat(this.modifiedRange.toString(),"}")}},{key:"changedLineCount",get:function(){return Math.max(this.originalRange.length,this.modifiedRange.length)}}],[{key:"inverse",value:function(t,n,r){var a,s=[],u=1,l=1,h=(0,i.Z)(t);try{for(h.s();!(a=h.n()).done;){var f=a.value,c=new e(new o.z(u,f.originalRange.startLineNumber),new o.z(l,f.modifiedRange.startLineNumber),void 0);c.modifiedRange.isEmpty||s.push(c),u=f.originalRange.endLineNumberExclusive,l=f.modifiedRange.endLineNumberExclusive}}catch(g){h.e(g)}finally{h.f()}var d=new e(new o.z(u,n+1),new o.z(l,r+1),void 0);return d.modifiedRange.isEmpty||s.push(d),s}}]),e}(),l=function(){function e(t,n){(0,a.Z)(this,e),this.originalRange=t,this.modifiedRange=n}return(0,r.Z)(e,[{key:"toString",value:function(){return"{".concat(this.originalRange.toString(),"->").concat(this.modifiedRange.toString(),"}")}}]),e}()},48910:function(e,t,n){n.d(t,{V:function(){return Y}});var i=n(60726),r=n(22951),a=n(91976),o=n(97654),s=n(25501),u=n(17224),l=n(55597),h=n(26728),f=n(87621),c=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,[{key:"computeDiff",value:function(e,t,n){var r,a,o=new p(e,t,{maxComputationTime:n.maxComputationTimeMs,shouldIgnoreTrimWhitespace:n.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),u=[],c=null,d=(0,i.Z)(o.changes);try{for(d.s();!(a=d.n()).done;){var g=a.value,v=void 0;v=0===g.originalEndLineNumber?new f.z(g.originalStartLineNumber+1,g.originalStartLineNumber+1):new f.z(g.originalStartLineNumber,g.originalEndLineNumber+1);var m=void 0;m=0===g.modifiedEndLineNumber?new f.z(g.modifiedStartLineNumber+1,g.modifiedStartLineNumber+1):new f.z(g.modifiedStartLineNumber,g.modifiedEndLineNumber+1);var k=new s.f0(v,m,null===(r=g.charChanges)||void 0===r?void 0:r.map((function(e){return new s.iy(new l.e(e.originalStartLineNumber,e.originalStartColumn,e.originalEndLineNumber,e.originalEndColumn),new l.e(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn))})));c&&(c.modifiedRange.endLineNumberExclusive!==k.modifiedRange.startLineNumber&&c.originalRange.endLineNumberExclusive!==k.originalRange.startLineNumber||(k=new s.f0(c.originalRange.join(k.originalRange),c.modifiedRange.join(k.modifiedRange),c.innerChanges&&k.innerChanges?c.innerChanges.concat(k.innerChanges):void 0),u.pop())),u.push(k),c=k}}catch(C){d.e(C)}finally{d.f()}return(0,h.eZ)((function(){return(0,h.DM)(u,(function(e,t){return t.originalRange.startLineNumber-e.originalRange.endLineNumberExclusive===t.modifiedRange.startLineNumber-e.modifiedRange.endLineNumberExclusive&&e.originalRange.endLineNumberExclusive<t.originalRange.startLineNumber&&e.modifiedRange.endLineNumberExclusive<t.modifiedRange.startLineNumber}))})),new s.hZ(u,o.quitEarly)}}]),e}();function d(e,t,n,i){return new o.Hs(e,t,n).ComputeDiff(i)}var g=function(){function e(t){(0,r.Z)(this,e);for(var n=[],i=[],a=0,o=t.length;a<o;a++)n[a]=C(t[a],1),i[a]=y(t[a],1);this.lines=t,this._startColumns=n,this._endColumns=i}return(0,a.Z)(e,[{key:"getElements",value:function(){for(var e=[],t=0,n=this.lines.length;t<n;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}},{key:"getStrictElement",value:function(e){return this.lines[e]}},{key:"getStartLineNumber",value:function(e){return e+1}},{key:"getEndLineNumber",value:function(e){return e+1}},{key:"createCharSequence",value:function(e,t,n){for(var i=[],r=[],a=[],o=0,s=t;s<=n;s++){for(var u=this.lines[s],l=e?this._startColumns[s]:1,h=e?this._endColumns[s]:u.length+1,f=l;f<h;f++)i[o]=u.charCodeAt(f-1),r[o]=s+1,a[o]=f,o++;!e&&s<n&&(i[o]=10,r[o]=s+1,a[o]=u.length+1,o++)}return new v(i,r,a)}}]),e}(),v=function(){function e(t,n,i){(0,r.Z)(this,e),this._charCodes=t,this._lineNumbers=n,this._columns=i}return(0,a.Z)(e,[{key:"toString",value:function(){var e=this;return"["+this._charCodes.map((function(t,n){return(10===t?"\\n":String.fromCharCode(t))+"-(".concat(e._lineNumbers[n],",").concat(e._columns[n],")")})).join(", ")+"]"}},{key:"_assertIndex",value:function(e,t){if(e<0||e>=t.length)throw new Error("Illegal index")}},{key:"getElements",value:function(){return this._charCodes}},{key:"getStartLineNumber",value:function(e){return e>0&&e===this._lineNumbers.length?this.getEndLineNumber(e-1):(this._assertIndex(e,this._lineNumbers),this._lineNumbers[e])}},{key:"getEndLineNumber",value:function(e){return-1===e?this.getStartLineNumber(e+1):(this._assertIndex(e,this._lineNumbers),10===this._charCodes[e]?this._lineNumbers[e]+1:this._lineNumbers[e])}},{key:"getStartColumn",value:function(e){return e>0&&e===this._columns.length?this.getEndColumn(e-1):(this._assertIndex(e,this._columns),this._columns[e])}},{key:"getEndColumn",value:function(e){return-1===e?this.getStartColumn(e+1):(this._assertIndex(e,this._columns),10===this._charCodes[e]?1:this._columns[e]+1)}}]),e}(),m=function(){function e(t,n,i,a,o,s,u,l){(0,r.Z)(this,e),this.originalStartLineNumber=t,this.originalStartColumn=n,this.originalEndLineNumber=i,this.originalEndColumn=a,this.modifiedStartLineNumber=o,this.modifiedStartColumn=s,this.modifiedEndLineNumber=u,this.modifiedEndColumn=l}return(0,a.Z)(e,null,[{key:"createFromDiffChange",value:function(t,n,i){return new e(n.getStartLineNumber(t.originalStart),n.getStartColumn(t.originalStart),n.getEndLineNumber(t.originalStart+t.originalLength-1),n.getEndColumn(t.originalStart+t.originalLength-1),i.getStartLineNumber(t.modifiedStart),i.getStartColumn(t.modifiedStart),i.getEndLineNumber(t.modifiedStart+t.modifiedLength-1),i.getEndColumn(t.modifiedStart+t.modifiedLength-1))}}]),e}();var k=function(){function e(t,n,i,a,o){(0,r.Z)(this,e),this.originalStartLineNumber=t,this.originalEndLineNumber=n,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=a,this.charChanges=o}return(0,a.Z)(e,null,[{key:"createFromDiffResult",value:function(t,n,i,r,a,o,s){var u,l,h,f,c=void 0;if(0===n.originalLength?(u=i.getStartLineNumber(n.originalStart)-1,l=0):(u=i.getStartLineNumber(n.originalStart),l=i.getEndLineNumber(n.originalStart+n.originalLength-1)),0===n.modifiedLength?(h=r.getStartLineNumber(n.modifiedStart)-1,f=0):(h=r.getStartLineNumber(n.modifiedStart),f=r.getEndLineNumber(n.modifiedStart+n.modifiedLength-1)),o&&n.originalLength>0&&n.originalLength<20&&n.modifiedLength>0&&n.modifiedLength<20&&a()){var g=i.createCharSequence(t,n.originalStart,n.originalStart+n.originalLength-1),v=r.createCharSequence(t,n.modifiedStart,n.modifiedStart+n.modifiedLength-1);if(g.getElements().length>0&&v.getElements().length>0){var k=d(g,v,a,!0).changes;s&&(k=function(e){if(e.length<=1)return e;for(var t=[e[0]],n=t[0],i=1,r=e.length;i<r;i++){var a=e[i],o=a.originalStart-(n.originalStart+n.originalLength),s=a.modifiedStart-(n.modifiedStart+n.modifiedLength);Math.min(o,s)<3?(n.originalLength=a.originalStart+a.originalLength-n.originalStart,n.modifiedLength=a.modifiedStart+a.modifiedLength-n.modifiedStart):(t.push(a),n=a)}return t}(k)),c=[];for(var p=0,C=k.length;p<C;p++)c.push(m.createFromDiffChange(k[p],g,v))}}return new e(u,l,h,f,c)}}]),e}(),p=function(){function e(t,n,i){(0,r.Z)(this,e),this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=t,this.modifiedLines=n,this.original=new g(t),this.modified=new g(n),this.continueLineDiff=b(i.maxComputationTime),this.continueCharDiff=b(0===i.maxComputationTime?0:Math.min(i.maxComputationTime,5e3))}return(0,a.Z)(e,[{key:"computeDiff",value:function(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};var e=d(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,n=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){for(var i=[],r=0,a=t.length;r<a;r++)i.push(k.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[r],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:n,changes:i}}for(var o=[],s=0,u=0,l=-1,h=t.length;l<h;l++){for(var f=l+1<h?t[l+1]:null,c=f?f.originalStart:this.originalLines.length,g=f?f.modifiedStart:this.modifiedLines.length;s<c&&u<g;){var v=this.originalLines[s],m=this.modifiedLines[u];if(v!==m){for(var p=C(v,1),b=C(m,1);p>1&&b>1;){if(v.charCodeAt(p-2)!==m.charCodeAt(b-2))break;p--,b--}(p>1||b>1)&&this._pushTrimWhitespaceCharChange(o,s+1,1,p,u+1,1,b);for(var _=y(v,1),I=y(m,1),w=v.length+1,x=m.length+1;_<w&&I<x;){if(v.charCodeAt(_-1)!==v.charCodeAt(I-1))break;_++,I++}(_<w||I<x)&&this._pushTrimWhitespaceCharChange(o,s+1,_,w,u+1,I,x)}s++,u++}f&&(o.push(k.createFromDiffResult(this.shouldIgnoreTrimWhitespace,f,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),s+=f.originalLength,u+=f.modifiedLength)}return{quitEarly:n,changes:o}}},{key:"_pushTrimWhitespaceCharChange",value:function(e,t,n,i,r,a,o){if(!this._mergeTrimWhitespaceCharChange(e,t,n,i,r,a,o)){var s=void 0;this.shouldComputeCharChanges&&(s=[new m(t,n,t,i,r,a,r,o)]),e.push(new k(t,t,r,r,s))}}},{key:"_mergeTrimWhitespaceCharChange",value:function(e,t,n,i,r,a,o){var s=e.length;if(0===s)return!1;var u=e[s-1];return 0!==u.originalEndLineNumber&&0!==u.modifiedEndLineNumber&&(u.originalEndLineNumber===t&&u.modifiedEndLineNumber===r?(this.shouldComputeCharChanges&&u.charChanges&&u.charChanges.push(new m(t,n,t,i,r,a,r,o)),!0):u.originalEndLineNumber+1===t&&u.modifiedEndLineNumber+1===r&&(u.originalEndLineNumber=t,u.modifiedEndLineNumber=r,this.shouldComputeCharChanges&&u.charChanges&&u.charChanges.push(new m(t,n,t,i,r,a,r,o)),!0))}}]),e}();function C(e,t){var n=u.LC(e);return-1===n?t:n+1}function y(e,t){var n=u.ow(e);return-1===n?t:n+2}function b(e){if(0===e)return function(){return!0};var t=Date.now();return function(){return Date.now()-t<e}}var _=n(64649),I=n(649),w=n(11092),x=n(98819),L=n(99924),S=n(33309),E=function(){function e(t,n){(0,r.Z)(this,e),this.diffs=t,this.hitTimeout=n}return(0,a.Z)(e,null,[{key:"trivial",value:function(t,n){return new e([new R(new x.q(0,t.length),new x.q(0,n.length))],!1)}},{key:"trivialTimedOut",value:function(t,n){return new e([new R(new x.q(0,t.length),new x.q(0,n.length))],!0)}}]),e}(),R=function(){function e(t,n){(0,r.Z)(this,e),this.seq1Range=t,this.seq2Range=n}return(0,a.Z)(e,[{key:"reverse",value:function(){return new e(this.seq2Range,this.seq1Range)}},{key:"toString",value:function(){return"".concat(this.seq1Range," <-> ").concat(this.seq2Range)}},{key:"join",value:function(t){return new e(this.seq1Range.join(t.seq1Range),this.seq2Range.join(t.seq2Range))}}]),e}(),O=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,[{key:"isValid",value:function(){return!0}}]),e}();O.instance=new O;var T=function(){function e(t){if((0,r.Z)(this,e),this.timeout=t,this.startTime=Date.now(),this.valid=!0,t<=0)throw new S.he("timeout must be positive")}return(0,a.Z)(e,[{key:"isValid",value:function(){return!(Date.now()-this.startTime<this.timeout)&&this.valid&&(this.valid=!1),this.valid}}]),e}(),B=function(){function e(t,n){(0,r.Z)(this,e),this.width=t,this.height=n,this.array=[],this.array=new Array(t*n)}return(0,a.Z)(e,[{key:"get",value:function(e,t){return this.array[e+t*this.width]}},{key:"set",value:function(e,t,n){this.array[e+t*this.width]=n}}]),e}(),Z=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,[{key:"compute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O.instance,i=arguments.length>3?arguments[3]:void 0;if(0===e.length||0===t.length)return E.trivial(e,t);for(var r=new B(e.length,t.length),a=new B(e.length,t.length),o=new B(e.length,t.length),s=0;s<e.length;s++)for(var u=0;u<t.length;u++){if(!n.isValid())return E.trivialTimedOut(e,t);var l=0===s?0:r.get(s-1,u),h=0===u?0:r.get(s,u-1),f=void 0;e.getElement(s)===t.getElement(u)?(f=0===s||0===u?0:r.get(s-1,u-1),s>0&&u>0&&3===a.get(s-1,u-1)&&(f+=o.get(s-1,u-1)),f+=i?i(s,u):1):f=-1;var c=Math.max(l,h,f);if(c===f){var d=s>0&&u>0?o.get(s-1,u-1):0;o.set(s,u,d+1),a.set(s,u,3)}else c===l?(o.set(s,u,0),a.set(s,u,1)):c===h&&(o.set(s,u,0),a.set(s,u,2));r.set(s,u,c)}var g=[],v=e.length,m=t.length;function k(e,t){e+1===v&&t+1===m||g.push(new R(new x.q(e+1,v),new x.q(t+1,m))),v=e,m=t}for(var p=e.length-1,C=t.length-1;p>=0&&C>=0;)3===a.get(p,C)?(k(p,C),p--,C--):1===a.get(p,C)?p--:C--;return k(-1,-1),g.reverse(),new E(g,!1)}}]),e}();function N(e,t,n){var i=n;return i=function(e,t,n){var i=[];n.length>0&&i.push(n[0]);for(var r=1;r<n.length;r++){var a=i[i.length-1],o=n[r];if(o.seq1Range.isEmpty){for(var s=!0,u=o.seq1Range.start-a.seq1Range.endExclusive,l=1;l<=u;l++)if(t.getElement(o.seq2Range.start-l)!==t.getElement(o.seq2Range.endExclusive-l)){s=!1;break}if(s){i[i.length-1]=new R(a.seq1Range,new x.q(a.seq2Range.start,o.seq2Range.endExclusive-u));continue}}i.push(o)}return i}(0,t,i),i=function(e,t,n){if(!e.getBoundaryScore||!t.getBoundaryScore)return n;for(var i=0;i<n.length;i++){var r=n[i];if(r.seq1Range.isEmpty){var a=i>0?n[i-1].seq2Range.endExclusive:-1,o=i+1<n.length?n[i+1].seq2Range.start:t.length;n[i]=P(r,e,t,o,a)}else if(r.seq2Range.isEmpty){var s=i>0?n[i-1].seq1Range.endExclusive:-1,u=i+1<n.length?n[i+1].seq1Range.start:e.length;n[i]=P(r.reverse(),t,e,u,s).reverse()}}return n}(e,t,i),i}function P(e,t,n,i,r){for(var a=1;e.seq2Range.start-a>r&&n.getElement(e.seq2Range.start-a)===n.getElement(e.seq2Range.endExclusive-a)&&a<20;)a++;a--;for(var o=0;e.seq2Range.start+o<i&&n.getElement(e.seq2Range.start+o)===n.getElement(e.seq2Range.endExclusive+o)&&o<20;)o++;if(0===a&&0===o)return e;for(var s=0,u=-1,l=-a;l<=o;l++){var h=e.seq2Range.start+l,f=e.seq2Range.endExclusive+l,c=e.seq1Range.start+l,d=t.getBoundaryScore(c)+n.getBoundaryScore(h)+n.getBoundaryScore(f);d>u&&(u=d,s=l)}return 0!==s?new R(e.seq1Range.delta(s),e.seq2Range.delta(s)):e}var A,M=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,[{key:"compute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O.instance;if(0===e.length||0===t.length)return E.trivial(e,t);function i(n,i){for(;n<e.length&&i<t.length&&e.getElement(n)===t.getElement(i);)n++,i++;return n}var r=0,a=new z;a.set(0,i(0,0));var o=new F;o.set(0,0===a.get(0)?null:new D(null,0,0,a.get(0)));var s=0;e:for(;;)for(s=-++r;s<=r;s+=2){if(!n.isValid())return E.trivialTimedOut(e,t);var u=s===r?-1:a.get(s+1),l=s===-r?-1:a.get(s-1)+1,h=Math.min(Math.max(u,l),e.length),f=h-s,c=i(h,f);a.set(s,c);var d=h===u?o.get(s+1):o.get(s-1);if(o.set(s,c!==h?new D(d,h,f,c-h):d),a.get(s)===e.length&&a.get(s)-s===t.length)break e}for(var g=o.get(s),v=[],m=e.length,k=t.length;;){var p=g?g.x+g.length:0,C=g?g.y+g.length:0;if(p===m&&C===k||v.push(new R(new x.q(p,m),new x.q(C,k))),!g)break;m=g.x,k=g.y,g=g.prev}return v.reverse(),new E(v,!1)}}]),e}(),D=(0,a.Z)((function e(t,n,i,a){(0,r.Z)(this,e),this.prev=t,this.x=n,this.y=i,this.length=a})),z=function(){function e(){(0,r.Z)(this,e),this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}return(0,a.Z)(e,[{key:"get",value:function(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}},{key:"set",value:function(e,t){if(e<0){if((e=-e-1)>=this.negativeArr.length){var n=this.negativeArr;this.negativeArr=new Int32Array(2*n.length),this.negativeArr.set(n)}this.negativeArr[e]=t}else{if(e>=this.positiveArr.length){var i=this.positiveArr;this.positiveArr=new Int32Array(2*i.length),this.positiveArr.set(i)}this.positiveArr[e]=t}}}]),e}(),F=function(){function e(){(0,r.Z)(this,e),this.positiveArr=[],this.negativeArr=[]}return(0,a.Z)(e,[{key:"get",value:function(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}},{key:"set",value:function(e,t){e<0?(e=-e-1,this.negativeArr[e]=t):this.positiveArr[e]=t}}]),e}(),H=(0,w.Z)().mark(W),q=function(){function e(){(0,r.Z)(this,e),this.dynamicProgrammingDiffing=new Z,this.myersDiffingAlgorithm=new M}return(0,a.Z)(e,[{key:"computeDiff",value:function(e,t,n){var r=this,a=0===n.maxComputationTimeMs?O.instance:new T(n.maxComputationTimeMs),o=!n.ignoreTrimWhitespace,u=new Map;function l(e){var t=u.get(e);return void 0===t&&(t=u.size,u.set(e,t)),t}var c=e.map((function(e){return l(e.trim())})),d=t.map((function(e){return l(e.trim())})),g=new j(c,e),v=new j(d,t),m=g.length+v.length<1500?r.dynamicProgrammingDiffing.compute(g,v,a,(function(n,i){return e[n]===t[i]?0===t[i].length?.1:1+Math.log(1+t[i].length):.99})):r.myersDiffingAlgorithm.compute(g,v),k=m.diffs,p=m.hitTimeout;k=N(g,v,k);var C,y=[],b=function(n){if(o)for(var s=0;s<n;s++){var u=_+s,l=I+s;if(e[u]!==t[l]){var h,f=r.refineDiff(e,t,new R(new x.q(u,u+1),new x.q(l,l+1)),a,o),c=(0,i.Z)(f.mappings);try{for(c.s();!(h=c.n()).done;){var d=h.value;y.push(d)}}catch(g){c.e(g)}finally{c.f()}f.hitTimeout&&(p=!0)}}},_=0,I=0,w=(0,i.Z)(k);try{var L=function(){var n=C.value;(0,h.eZ)((function(){return n.seq1Range.start-_===n.seq2Range.start-I}));var s=n.seq1Range.start-_;b(s),_=n.seq1Range.endExclusive,I=n.seq2Range.endExclusive;var u=r.refineDiff(e,t,n,a,o);u.hitTimeout&&(p=!0);var l,f=(0,i.Z)(u.mappings);try{for(f.s();!(l=f.n()).done;){var c=l.value;y.push(c)}}catch(d){f.e(d)}finally{f.f()}};for(w.s();!(C=w.n()).done;)L()}catch(E){w.e(E)}finally{w.f()}b(e.length-_);var S=function(e,t,n){var r,a=[],o=(0,i.Z)(W(e.map((function(e){return function(e,t,n){var i=0,r=0;e.modifiedRange.startColumn-1>=n[e.modifiedRange.startLineNumber-1].length&&e.originalRange.startColumn-1>=t[e.originalRange.startLineNumber-1].length&&(i=1);1===e.modifiedRange.endColumn&&1===e.originalRange.endColumn&&e.originalRange.startLineNumber+i<=e.originalRange.endLineNumber&&e.modifiedRange.startLineNumber+i<=e.modifiedRange.endLineNumber&&(r=-1);var a=new f.z(e.originalRange.startLineNumber+i,e.originalRange.endLineNumber+1+r),o=new f.z(e.modifiedRange.startLineNumber+i,e.modifiedRange.endLineNumber+1+r);return new s.f0(a,o,[e])}(e,t,n)})),(function(e,t){return e.originalRange.overlapOrTouch(t.originalRange)||e.modifiedRange.overlapOrTouch(t.modifiedRange)})));try{for(o.s();!(r=o.n()).done;){var u=r.value,l=u[0],c=u[u.length-1];a.push(new s.f0(l.originalRange.join(c.originalRange),l.modifiedRange.join(c.modifiedRange),u.map((function(e){return e.innerChanges[0]}))))}}catch(E){o.e(E)}finally{o.f()}return(0,h.eZ)((function(){return(0,h.DM)(a,(function(e,t){return t.originalRange.startLineNumber-e.originalRange.endLineNumberExclusive===t.modifiedRange.startLineNumber-e.modifiedRange.endLineNumberExclusive&&e.originalRange.endLineNumberExclusive<t.originalRange.startLineNumber&&e.modifiedRange.endLineNumberExclusive<t.modifiedRange.startLineNumber}))})),a}(y,e,t);return new s.hZ(S,p)}},{key:"refineDiff",value:function(e,t,n,r,a){var o=new U(e,n.seq1Range,a),u=new U(t,n.seq2Range,a),l=o.length+u.length<500?this.dynamicProgrammingDiffing.compute(o,u,r):this.myersDiffingAlgorithm.compute(o,u,r),h=l.diffs;return h=N(o,u,h),h=function(e,t,n){var r=[],a=void 0;function o(){if(a){var e=a.s1Range.length-a.deleted;a.s2Range.length,a.added;Math.max(a.deleted,a.added)+(a.count-1)>e&&r.push(new R(a.s1Range,a.s2Range)),a=void 0}}var s,u=(0,i.Z)(n);try{var l=function(){var n=s.value;function i(e,t){var i,r,s,u;if(!a||!a.s1Range.containsRange(e)||!a.s2Range.containsRange(t))if(!a||a.s1Range.endExclusive<e.start&&a.s2Range.endExclusive<t.start)o(),a={added:0,deleted:0,count:0,s1Range:e,s2Range:t};else{var l=x.q.tryCreate(a.s1Range.endExclusive,e.start),h=x.q.tryCreate(a.s2Range.endExclusive,t.start);a.deleted+=null!==(i=null===l||void 0===l?void 0:l.length)&&void 0!==i?i:0,a.added+=null!==(r=null===h||void 0===h?void 0:h.length)&&void 0!==r?r:0,a.s1Range=a.s1Range.join(e),a.s2Range=a.s2Range.join(t)}var f=e.intersect(n.seq1Range),c=t.intersect(n.seq2Range);a.count++,a.deleted+=null!==(s=null===f||void 0===f?void 0:f.length)&&void 0!==s?s:0,a.added+=null!==(u=null===c||void 0===c?void 0:c.length)&&void 0!==u?u:0}var r=e.findWordContaining(n.seq1Range.start-1),u=t.findWordContaining(n.seq2Range.start-1),l=e.findWordContaining(n.seq1Range.endExclusive),h=t.findWordContaining(n.seq2Range.endExclusive);r&&l&&u&&h&&r.equals(l)&&u.equals(h)?i(r,u):(r&&u&&i(r,u),l&&h&&i(l,h))};for(u.s();!(s=u.n()).done;)l()}catch(h){u.e(h)}finally{u.f()}return o(),function(e,t){var n=[];for(;e.length>0||t.length>0;){var i=e[0],r=t[0],a=void 0;a=i&&(!r||i.seq1Range.start<r.seq1Range.start)?e.shift():t.shift(),n.length>0&&n[n.length-1].seq1Range.endExclusive>=a.seq1Range.start?n[n.length-1]=n[n.length-1].join(a):n.push(a)}return n}(n,r)}(o,u,h),h=function(e,t,n){var r,a=[],o=(0,i.Z)(n);try{for(o.s();!(r=o.n()).done;){var s=r.value,u=a[a.length-1];u&&(s.seq1Range.start-u.seq1Range.endExclusive<=2||s.seq2Range.start-u.seq2Range.endExclusive<=2)?a[a.length-1]=new R(u.seq1Range.join(s.seq1Range),u.seq2Range.join(s.seq2Range)):a.push(s)}}catch(l){o.e(l)}finally{o.f()}return a}(0,0,h),{mappings:h.map((function(e){return new s.iy(o.translateRange(e.seq1Range),u.translateRange(e.seq2Range))})),hitTimeout:l.hitTimeout}}}]),e}();function W(e,t){var n,r,a,o,s;return(0,w.Z)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:a=(0,i.Z)(e),u.prev=1,a.s();case 3:if((o=a.n()).done){u.next=16;break}if(s=o.value,void 0===r||!t(r,s)){u.next=9;break}n.push(s),u.next=13;break;case 9:if(!n){u.next=12;break}return u.next=12,n;case 12:n=[s];case 13:r=s;case 14:u.next=3;break;case 16:u.next=21;break;case 18:u.prev=18,u.t0=u.catch(1),a.e(u.t0);case 21:return u.prev=21,a.f(),u.finish(21);case 24:if(!n){u.next=27;break}return u.next=27,n;case 27:case"end":return u.stop()}}),H,null,[[1,18,21,24]])}var j=function(){function e(t,n){(0,r.Z)(this,e),this.trimmedHash=t,this.lines=n}return(0,a.Z)(e,[{key:"getElement",value:function(e){return this.trimmedHash[e]}},{key:"length",get:function(){return this.trimmedHash.length}},{key:"getBoundaryScore",value:function(e){return 1e3-((0===e?0:V(this.lines[e-1]))+(e===this.lines.length?0:V(this.lines[e])))}}]),e}();function V(e){for(var t=0;t<e.length&&(32===e.charCodeAt(t)||9===e.charCodeAt(t));)t++;return t}var U=function(){function e(t,n,i){(0,r.Z)(this,e),this.lines=t,this.considerWhitespaceChanges=i,this.elements=[],this.firstCharOffsetByLineMinusOne=[],this.offsetByLine=[];var a=!1;n.start>0&&n.endExclusive>=t.length&&(n=new x.q(n.start-1,n.endExclusive),a=!0),this.lineRange=n;for(var o=this.lineRange.start;o<this.lineRange.endExclusive;o++){var s=t[o],u=0;if(a)u=s.length,s="",a=!1;else if(!i){var l=s.trimStart();u=s.length-l.length,s=l.trimEnd()}this.offsetByLine.push(u);for(var h=0;h<s.length;h++)this.elements.push(s.charCodeAt(h));o<t.length-1&&(this.elements.push("\n".charCodeAt(0)),this.firstCharOffsetByLineMinusOne[o-this.lineRange.start]=this.elements.length)}this.offsetByLine.push(0)}return(0,a.Z)(e,[{key:"toString",value:function(){return'Slice: "'.concat(this.text,'"')}},{key:"text",get:function(){return(0,I.Z)(this.elements).map((function(e){return String.fromCharCode(e)})).join("")}},{key:"getElement",value:function(e){return this.elements[e]}},{key:"length",get:function(){return this.elements.length}},{key:"getBoundaryScore",value:function(e){var t=$(e>0?this.elements[e-1]:-1),n=$(e<this.elements.length?this.elements[e]:-1);if(6===t&&7===n)return 0;var i=0;return t!==n&&(i+=10,1===n&&(i+=1)),i+=K(t),i+=K(n)}},{key:"translateOffset",value:function(e){if(this.lineRange.isEmpty)return new L.L(this.lineRange.start+1,1);for(var t=0,n=this.firstCharOffsetByLineMinusOne.length;t<n;){var i=Math.floor((t+n)/2);this.firstCharOffsetByLineMinusOne[i]>e?n=i:t=i+1}var r=0===t?0:this.firstCharOffsetByLineMinusOne[t-1];return new L.L(this.lineRange.start+t+1,e-r+1+this.offsetByLine[t])}},{key:"translateRange",value:function(e){return l.e.fromPositions(this.translateOffset(e.start),this.translateOffset(e.endExclusive))}},{key:"findWordContaining",value:function(e){if(!(e<0||e>=this.elements.length)&&Q(this.elements[e])){for(var t=e;t>0&&Q(this.elements[t-1]);)t--;for(var n=e;n<this.elements.length&&Q(this.elements[n]);)n++;return new x.q(t,n)}}}]),e}();function Q(e){return e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57}var G=(A={},(0,_.Z)(A,0,0),(0,_.Z)(A,1,0),(0,_.Z)(A,2,0),(0,_.Z)(A,3,10),(0,_.Z)(A,4,2),(0,_.Z)(A,5,3),(0,_.Z)(A,6,10),(0,_.Z)(A,7,10),A);function K(e){return G[e]}function $(e){return 10===e?7:13===e?6:function(e){return 32===e||9===e}(e)?5:e>=97&&e<=122?0:e>=65&&e<=90?1:e>=48&&e<=57?2:-1===e?3:4}var Y={legacy:new c,advanced:new q}},2032:function(e,t,n){n.d(t,{p:function(){return a}});var i=n(22951),r=n(91976),a=function(){function e(t,n,r,a,o,s){(0,i.Z)(this,e),this.id=t,this.label=n,this.alias=r,this._precondition=a,this._run=o,this._contextKeyService=s}return(0,r.Z)(e,[{key:"isSupported",value:function(){return this._contextKeyService.contextMatchesRules(this._precondition)}},{key:"run",value:function(e){return this.isSupported()?this._run(e):Promise.resolve(void 0)}}]),e}()},77734:function(e,t,n){n.d(t,{g:function(){return i}});var i={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},90567:function(e,t,n){n.d(t,{u:function(){return i}});var i,r=n(26511),a=n(10071);!function(e){e.editorSimpleInput=new a.uy("editorSimpleInput",!1,!0),e.editorTextFocus=new a.uy("editorTextFocus",!1,r.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),e.focus=new a.uy("editorFocus",!1,r.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),e.textInputFocus=new a.uy("textInputFocus",!1,r.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),e.readOnly=new a.uy("editorReadonly",!1,r.NC("editorReadonly","Whether the editor is read only")),e.inDiffEditor=new a.uy("inDiffEditor",!1,r.NC("inDiffEditor","Whether the context is a diff editor")),e.isEmbeddedDiffEditor=new a.uy("isEmbeddedDiffEditor",!1,r.NC("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),e.columnSelection=new a.uy("editorColumnSelection",!1,r.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),e.writable=e.readOnly.toNegated(),e.hasNonEmptySelection=new a.uy("editorHasSelection",!1,r.NC("editorHasSelection","Whether the editor has text selected")),e.hasOnlyEmptySelection=e.hasNonEmptySelection.toNegated(),e.hasMultipleSelections=new a.uy("editorHasMultipleSelections",!1,r.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),e.hasSingleSelection=e.hasMultipleSelections.toNegated(),e.tabMovesFocus=new a.uy("editorTabMovesFocus",!1,r.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),e.tabDoesNotMoveFocus=e.tabMovesFocus.toNegated(),e.isInWalkThroughSnippet=new a.uy("isInEmbeddedEditor",!1,!0),e.canUndo=new a.uy("canUndo",!1,!0),e.canRedo=new a.uy("canRedo",!1,!0),e.hoverVisible=new a.uy("editorHoverVisible",!1,r.NC("editorHoverVisible","Whether the editor hover is visible")),e.hoverFocused=new a.uy("editorHoverFocused",!1,r.NC("editorHoverFocused","Whether the editor hover is focused")),e.stickyScrollFocused=new a.uy("stickyScrollFocused",!1,r.NC("stickyScrollFocused","Whether the sticky scroll is focused")),e.stickyScrollVisible=new a.uy("stickyScrollVisible",!1,r.NC("stickyScrollVisible","Whether the sticky scroll is visible")),e.standaloneColorPickerVisible=new a.uy("standaloneColorPickerVisible",!1,r.NC("standaloneColorPickerVisible","Whether the standalone color picker is visible")),e.standaloneColorPickerFocused=new a.uy("standaloneColorPickerFocused",!1,r.NC("standaloneColorPickerFocused","Whether the standalone color picker is focused")),e.inCompositeEditor=new a.uy("inCompositeEditor",void 0,r.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),e.notInCompositeEditor=e.inCompositeEditor.toNegated(),e.languageId=new a.uy("editorLangId","",r.NC("editorLangId","The language identifier of the editor")),e.hasCompletionItemProvider=new a.uy("editorHasCompletionItemProvider",!1,r.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),e.hasCodeActionsProvider=new a.uy("editorHasCodeActionsProvider",!1,r.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),e.hasCodeLensProvider=new a.uy("editorHasCodeLensProvider",!1,r.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),e.hasDefinitionProvider=new a.uy("editorHasDefinitionProvider",!1,r.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),e.hasDeclarationProvider=new a.uy("editorHasDeclarationProvider",!1,r.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),e.hasImplementationProvider=new a.uy("editorHasImplementationProvider",!1,r.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),e.hasTypeDefinitionProvider=new a.uy("editorHasTypeDefinitionProvider",!1,r.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),e.hasHoverProvider=new a.uy("editorHasHoverProvider",!1,r.NC("editorHasHoverProvider","Whether the editor has a hover provider")),e.hasDocumentHighlightProvider=new a.uy("editorHasDocumentHighlightProvider",!1,r.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),e.hasDocumentSymbolProvider=new a.uy("editorHasDocumentSymbolProvider",!1,r.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),e.hasReferenceProvider=new a.uy("editorHasReferenceProvider",!1,r.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),e.hasRenameProvider=new a.uy("editorHasRenameProvider",!1,r.NC("editorHasRenameProvider","Whether the editor has a rename provider")),e.hasSignatureHelpProvider=new a.uy("editorHasSignatureHelpProvider",!1,r.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),e.hasInlayHintsProvider=new a.uy("editorHasInlayHintsProvider",!1,r.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),e.hasDocumentFormattingProvider=new a.uy("editorHasDocumentFormattingProvider",!1,r.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),e.hasDocumentSelectionFormattingProvider=new a.uy("editorHasDocumentSelectionFormattingProvider",!1,r.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),e.hasMultipleDocumentFormattingProvider=new a.uy("editorHasMultipleDocumentFormattingProvider",!1,r.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),e.hasMultipleDocumentSelectionFormattingProvider=new a.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,r.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))}(i||(i={}))},40861:function(e,t,n){n.d(t,{n:function(){return a},y:function(){return r}});var i=[];function r(e){i.push(e)}function a(){return i.slice(0)}},63177:function(e,t,n){n.d(t,{b:function(){return a}});var i=n(22951),r=n(91976),a=function(){function e(t){(0,i.Z)(this,e),this._theme=t}return(0,r.Z)(e,[{key:"type",get:function(){return this._theme.type}},{key:"value",get:function(){return this._theme}},{key:"update",value:function(e){this._theme=e}},{key:"getColor",value:function(e){return this._theme.getColor(e)}}]),e}()},95971:function(e,t,n){n.d(t,{N:function(){return a}});var i=n(22951),r=n(91976),a=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,null,[{key:"getLanguageId",value:function(e){return(255&e)>>>0}},{key:"getTokenType",value:function(e){return(768&e)>>>8}},{key:"containsBalancedBrackets",value:function(e){return 0!==(1024&e)}},{key:"getFontStyle",value:function(e){return(30720&e)>>>11}},{key:"getForeground",value:function(e){return(16744448&e)>>>15}},{key:"getBackground",value:function(e){return(4278190080&e)>>>24}},{key:"getClassNameFromMetadata",value:function(e){var t="mtk"+this.getForeground(e),n=this.getFontStyle(e);return 1&n&&(t+=" mtki"),2&n&&(t+=" mtkb"),4&n&&(t+=" mtku"),8&n&&(t+=" mtks"),t}},{key:"getInlineStyleFromMetadata",value:function(e,t){var n=this.getForeground(e),i=this.getFontStyle(e),r="color: ".concat(t[n],";");1&i&&(r+="font-style: italic;"),2&i&&(r+="font-weight: bold;");var a="";return 4&i&&(a+=" underline"),8&i&&(a+=" line-through"),a&&(r+="text-decoration:".concat(a,";")),r}},{key:"getPresentationFromMetadata",value:function(e){var t=this.getForeground(e),n=this.getFontStyle(e);return{foreground:t,italic:Boolean(1&n),bold:Boolean(2&n),underline:Boolean(4&n),strikethrough:Boolean(8&n)}}}]),e}()},86550:function(e,t,n){n.d(t,{c:function(){return g}});var i=n(60726),r=n(22951),a=n(91976),o=n(68515),s=n(59652),u=n(43232),l=n(11641),h=n(51070);function f(e,t,n,r,a,o){if(Array.isArray(e)){var s,u=0,c=(0,i.Z)(e);try{for(c.s();!(s=c.n()).done;){var d=f(s.value,t,n,r,a,o);if(10===d)return d;d>u&&(u=d)}}catch(b){c.e(b)}finally{c.f()}return u}if("string"===typeof e)return r?"*"===e?5:e===n?10:0:0;if(e){var g=e.language,v=e.pattern,m=e.scheme,k=e.hasAccessToAllModels,p=e.notebookType;if(!r&&!k)return 0;p&&a&&(t=a);var C=0;if(m)if(m===t.scheme)C=10;else{if("*"!==m)return 0;C=5}if(g)if(g===n)C=10;else{if("*"!==g)return 0;C=Math.max(C,5)}if(p)if(p===o)C=10;else{if("*"!==p||void 0===o)return 0;C=Math.max(C,5)}if(v){var y;if((y="string"===typeof v?v:Object.assign(Object.assign({},v),{base:(0,h.Fv)(v.base)}))!==t.fsPath&&!(0,l.EQ)(y,t.fsPath))return 0;C=10}return C}return 0}function c(e){return"string"!==typeof e&&(Array.isArray(e)?e.every(c):!!e.exclusive)}var d=function(){function e(t,n,i,a){(0,r.Z)(this,e),this.uri=t,this.languageId=n,this.notebookUri=i,this.notebookType=a}return(0,a.Z)(e,[{key:"equals",value:function(e){var t,n;return this.notebookType===e.notebookType&&this.languageId===e.languageId&&this.uri.toString()===e.uri.toString()&&(null===(t=this.notebookUri)||void 0===t?void 0:t.toString())===(null===(n=e.notebookUri)||void 0===n?void 0:n.toString())}}]),e}(),g=function(){function e(t){(0,r.Z)(this,e),this._notebookInfoResolver=t,this._clock=0,this._entries=[],this._onDidChange=new o.Q5,this.onDidChange=this._onDidChange.event}return(0,a.Z)(e,[{key:"register",value:function(e,t){var n=this,i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,s.OF)((function(){if(i){var e=n._entries.indexOf(i);e>=0&&(n._entries.splice(e,1),n._lastCandidate=void 0,n._onDidChange.fire(n._entries.length),i=void 0)}}))}},{key:"has",value:function(e){return this.all(e).length>0}},{key:"all",value:function(e){if(!e)return[];this._updateScores(e);var t,n=[],r=(0,i.Z)(this._entries);try{for(r.s();!(t=r.n()).done;){var a=t.value;a._score>0&&n.push(a.provider)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"ordered",value:function(e){var t=[];return this._orderedForEach(e,(function(e){return t.push(e.provider)})),t}},{key:"orderedGroups",value:function(e){var t,n,i=[];return this._orderedForEach(e,(function(e){t&&n===e._score?t.push(e.provider):(n=e._score,t=[e.provider],i.push(t))})),i}},{key:"_orderedForEach",value:function(e,t){this._updateScores(e);var n,r=(0,i.Z)(this._entries);try{for(r.s();!(n=r.n()).done;){var a=n.value;a._score>0&&t(a)}}catch(o){r.e(o)}finally{r.f()}}},{key:"_updateScores",value:function(t){var n,r,a=null===(n=this._notebookInfoResolver)||void 0===n?void 0:n.call(this,t.uri),o=a?new d(t.uri,t.getLanguageId(),a.uri,a.type):new d(t.uri,t.getLanguageId(),void 0,void 0);if(!(null===(r=this._lastCandidate)||void 0===r?void 0:r.equals(o))){this._lastCandidate=o;var s,l=(0,i.Z)(this._entries);try{for(l.s();!(s=l.n()).done;){var h=s.value;if(h._score=f(h.selector,o.uri,o.languageId,(0,u.pt)(t),o.notebookUri,o.notebookType),c(h.selector)&&h._score>0){var g,v=(0,i.Z)(this._entries);try{for(v.s();!(g=v.n()).done;){g.value._score=0}}catch(m){v.e(m)}finally{v.f()}h._score=1e3;break}}}catch(m){l.e(m)}finally{l.f()}this._entries.sort(e._compareByScoreAndTime)}}}],[{key:"_compareByScoreAndTime",value:function(e,t){return e._score<t._score?1:e._score>t._score?-1:v(e.selector)&&!v(t.selector)?1:!v(e.selector)&&v(t.selector)?-1:e._time<t._time?1:e._time>t._time?-1:0}}]),e}();function v(e){return"string"!==typeof e&&(Array.isArray(e)?e.some(v):Boolean(e.isBuiltin))}},76958:function(e,t,n){n.d(t,{AD:function(){return b},DI:function(){return d},MO:function(){return _},MY:function(){return v},RW:function(){return I},WU:function(){return f},WW:function(){return g},bw:function(){return r},gX:function(){return i},gl:function(){return y},hG:function(){return c},ln:function(){return k},mY:function(){return C},uZ:function(){return m},vx:function(){return p}});var i,r,a=n(22951),o=n(91976),s=n(87159),u=n(71308),l=n(55597),h=n(59274),f=function(){function e(t,n,i){(0,a.Z)(this,e),this.offset=t,this.type=n,this.language=i,this._tokenBrand=void 0}return(0,o.Z)(e,[{key:"toString",value:function(){return"("+this.offset+", "+this.type+")"}}]),e}(),c=(0,o.Z)((function e(t,n){(0,a.Z)(this,e),this.tokens=t,this.endState=n,this._tokenizationResultBrand=void 0})),d=(0,o.Z)((function e(t,n){(0,a.Z)(this,e),this.tokens=t,this.endState=n,this._encodedTokenizationResultBrand=void 0}));!function(e){var t=new Map;t.set(0,s.l.symbolMethod),t.set(1,s.l.symbolFunction),t.set(2,s.l.symbolConstructor),t.set(3,s.l.symbolField),t.set(4,s.l.symbolVariable),t.set(5,s.l.symbolClass),t.set(6,s.l.symbolStruct),t.set(7,s.l.symbolInterface),t.set(8,s.l.symbolModule),t.set(9,s.l.symbolProperty),t.set(10,s.l.symbolEvent),t.set(11,s.l.symbolOperator),t.set(12,s.l.symbolUnit),t.set(13,s.l.symbolValue),t.set(15,s.l.symbolEnum),t.set(14,s.l.symbolConstant),t.set(15,s.l.symbolEnum),t.set(16,s.l.symbolEnumMember),t.set(17,s.l.symbolKeyword),t.set(27,s.l.symbolSnippet),t.set(18,s.l.symbolText),t.set(19,s.l.symbolColor),t.set(20,s.l.symbolFile),t.set(21,s.l.symbolReference),t.set(22,s.l.symbolCustomColor),t.set(23,s.l.symbolFolder),t.set(24,s.l.symbolTypeParameter),t.set(25,s.l.account),t.set(26,s.l.issues),e.toIcon=function(e){var n=t.get(e);return n||(console.info("No codicon found for CompletionItemKind "+e),n=s.l.symbolProperty),n};var n=new Map;n.set("method",0),n.set("function",1),n.set("constructor",2),n.set("field",3),n.set("variable",4),n.set("class",5),n.set("struct",6),n.set("interface",7),n.set("module",8),n.set("property",9),n.set("event",10),n.set("operator",11),n.set("unit",12),n.set("value",13),n.set("constant",14),n.set("enum",15),n.set("enum-member",16),n.set("enumMember",16),n.set("keyword",17),n.set("snippet",27),n.set("text",18),n.set("color",19),n.set("file",20),n.set("reference",21),n.set("customcolor",22),n.set("folder",23),n.set("type-parameter",24),n.set("typeParameter",24),n.set("account",25),n.set("issue",26),e.fromString=function(e,t){var i=n.get(e);return"undefined"!==typeof i||t||(i=9),i}}(i||(i={})),function(e){e[e.Automatic=0]="Automatic",e[e.Explicit=1]="Explicit"}(r||(r={}));var g,v,m,k=function(){function e(t,n,i,r){(0,a.Z)(this,e),this.range=t,this.text=n,this.completionKind=i,this.isSnippetText=r}return(0,o.Z)(e,[{key:"equals",value:function(e){return l.e.lift(this.range).equalsRange(e.range)&&this.text===e.text&&this.completionKind===e.completionKind&&this.isSnippetText===e.isSnippetText}}]),e}();function p(e){return e&&u.o.isUri(e.uri)&&l.e.isIRange(e.range)&&(l.e.isIRange(e.originSelectionRange)||l.e.isIRange(e.targetSelectionRange))}!function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(g||(g={})),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(v||(v={})),function(e){var t=new Map;t.set(0,s.l.symbolFile),t.set(1,s.l.symbolModule),t.set(2,s.l.symbolNamespace),t.set(3,s.l.symbolPackage),t.set(4,s.l.symbolClass),t.set(5,s.l.symbolMethod),t.set(6,s.l.symbolProperty),t.set(7,s.l.symbolField),t.set(8,s.l.symbolConstructor),t.set(9,s.l.symbolEnum),t.set(10,s.l.symbolInterface),t.set(11,s.l.symbolFunction),t.set(12,s.l.symbolVariable),t.set(13,s.l.symbolConstant),t.set(14,s.l.symbolString),t.set(15,s.l.symbolNumber),t.set(16,s.l.symbolBoolean),t.set(17,s.l.symbolArray),t.set(18,s.l.symbolObject),t.set(19,s.l.symbolKey),t.set(20,s.l.symbolNull),t.set(21,s.l.symbolEnumMember),t.set(22,s.l.symbolStruct),t.set(23,s.l.symbolEvent),t.set(24,s.l.symbolOperator),t.set(25,s.l.symbolTypeParameter),e.toIcon=function(e){var n=t.get(e);return n||(console.info("No codicon found for SymbolKind "+e),n=s.l.symbolProperty),n}}(m||(m={}));var C,y,b=function(){function e(t){(0,a.Z)(this,e),this.value=t}return(0,o.Z)(e,null,[{key:"fromValue",value:function(t){switch(t){case"comment":return e.Comment;case"imports":return e.Imports;case"region":return e.Region}return new e(t)}}]),e}();b.Comment=new b("comment"),b.Imports=new b("imports"),b.Region=new b("region"),function(e){e.is=function(e){return!(!e||"object"!==typeof e)&&("string"===typeof e.id&&"string"===typeof e.title)}}(C||(C={})),function(e){e[e.Type=1]="Type",e[e.Parameter=2]="Parameter"}(y||(y={}));var _=function(){function e(t){(0,a.Z)(this,e),this.createSupport=t,this._tokenizationSupport=null}return(0,o.Z)(e,[{key:"dispose",value:function(){this._tokenizationSupport&&this._tokenizationSupport.then((function(e){e&&e.dispose()}))}},{key:"tokenizationSupport",get:function(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}]),e}(),I=new h.R},31647:function(e,t,n){n.d(t,{$9:function(){return h},UF:function(){return l},n8:function(){return u},r7:function(){return s},tI:function(){return f}});var i=n(17224),r=n(70860),a=n(59665),o=n(41598);function s(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e<4)return null;var o=(arguments.length>4?arguments[4]:void 0).getLanguageConfiguration(t.tokenization.getLanguageId()).indentRulesSupport;if(!o)return null;if(n<=1)return{indentation:"",action:null};for(var s=n-1;s>0&&""===t.getLineContent(s);s--)if(1===s)return{indentation:"",action:null};var u=function(e,t,n){var i=e.tokenization.getLanguageIdAtPosition(t,0);if(t>1){var r,a=-1;for(r=t-1;r>=1;r--){if(e.tokenization.getLanguageIdAtPosition(r,0)!==i)return a;var o=e.getLineContent(r);if(!n.shouldIgnore(o)&&!/^\s+$/.test(o)&&""!==o)return r;a=r}}return-1}(t,n,o);if(u<0)return null;if(u<1)return{indentation:"",action:null};var l=t.getLineContent(u);if(o.shouldIncrease(l)||o.shouldIndentNextLine(l))return{indentation:i.V8(l),action:r.wU.Indent,line:u};if(o.shouldDecrease(l))return{indentation:i.V8(l),action:null,line:u};if(1===u)return{indentation:i.V8(t.getLineContent(u)),action:null,line:u};var h=u-1,f=o.getIndentMetadata(t.getLineContent(h));if(!(3&f)&&4&f){for(var c=0,d=h-1;d>0;d--)if(!o.shouldIndentNextLine(t.getLineContent(d))){c=d;break}return{indentation:i.V8(t.getLineContent(c+1)),action:null,line:c+1}}if(a)return{indentation:i.V8(t.getLineContent(u)),action:null,line:u};for(var g=u;g>0;g--){var v=t.getLineContent(g);if(o.shouldIncrease(v))return{indentation:i.V8(v),action:r.wU.Indent,line:g};if(o.shouldIndentNextLine(v)){for(var m=0,k=g-1;k>0;k--)if(!o.shouldIndentNextLine(t.getLineContent(g))){m=k;break}return{indentation:i.V8(t.getLineContent(m+1)),action:null,line:m+1}}if(o.shouldDecrease(v))return{indentation:i.V8(v),action:null,line:g}}return{indentation:i.V8(t.getLineContent(1)),action:null,line:1}}function u(e,t,n,a,o,u){if(e<4)return null;var l=u.getLanguageConfiguration(n);if(!l)return null;var h=u.getLanguageConfiguration(n).indentRulesSupport;if(!h)return null;var f=s(e,t,a,void 0,u),c=t.getLineContent(a);if(f){var d=f.line;if(void 0!==d){for(var g=!0,v=d;v<a-1;v++)if(!/^\s*$/.test(t.getLineContent(v))){g=!1;break}if(g){var m=l.onEnter(e,"",t.getLineContent(d),"");if(m){var k=i.V8(t.getLineContent(d));return m.removeText&&(k=k.substring(0,k.length-m.removeText)),m.indentAction===r.wU.Indent||m.indentAction===r.wU.IndentOutdent?k=o.shiftIndent(k):m.indentAction===r.wU.Outdent&&(k=o.unshiftIndent(k)),h.shouldDecrease(c)&&(k=o.unshiftIndent(k)),m.appendText&&(k+=m.appendText),i.V8(k)}}}return h.shouldDecrease(c)?f.action===r.wU.Indent?f.indentation:o.unshiftIndent(f.indentation):f.action===r.wU.Indent?o.shiftIndent(f.indentation):f.indentation}return null}function l(e,t,n,u,l){if(e<4)return null;t.tokenization.forceTokenization(n.startLineNumber);var h,f,c=t.tokenization.getLineTokens(n.startLineNumber),d=(0,a.wH)(c,n.startColumn-1),g=d.getLineContent(),v=!1;(d.firstCharOffset>0&&c.getLanguageId(0)!==d.languageId?(v=!0,h=g.substr(0,n.startColumn-1-d.firstCharOffset)):h=c.getLineContent().substring(0,n.startColumn-1),n.isEmpty())?f=g.substr(n.startColumn-1-d.firstCharOffset):f=(0,o.n2)(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-d.firstCharOffset);var m=l.getLanguageConfiguration(d.languageId).indentRulesSupport;if(!m)return null;var k=h,p=i.V8(h),C={tokenization:{getLineTokens:function(e){return t.tokenization.getLineTokens(e)},getLanguageId:function(){return t.getLanguageId()},getLanguageIdAtPosition:function(e,n){return t.getLanguageIdAtPosition(e,n)}},getLineContent:function(e){return e===n.startLineNumber?k:t.getLineContent(e)}},y=i.V8(c.getLineContent()),b=s(e,C,n.startLineNumber+1,void 0,l);if(!b){var _=v?y:p;return{beforeEnter:_,afterEnter:_}}var I=v?y:b.indentation;return b.action===r.wU.Indent&&(I=u.shiftIndent(I)),m.shouldDecrease(f)&&(I=u.unshiftIndent(I)),{beforeEnter:v?y:p,afterEnter:I}}function h(e,t,n,i,a,u){if(e<4)return null;var l=(0,o.n2)(t,n.startLineNumber,n.startColumn);if(l.firstCharOffset)return null;var h=u.getLanguageConfiguration(l.languageId).indentRulesSupport;if(!h)return null;var f,c=l.getLineContent(),d=c.substr(0,n.startColumn-1-l.firstCharOffset);n.isEmpty()?f=c.substr(n.startColumn-1-l.firstCharOffset):f=(0,o.n2)(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-l.firstCharOffset);if(!h.shouldDecrease(d+f)&&h.shouldDecrease(d+i+f)){var g=s(e,t,n.startLineNumber,!1,u);if(!g)return null;var v=g.indentation;return g.action!==r.wU.Indent&&(v=a.unshiftIndent(v)),v}return null}function f(e,t,n){var i=n.getLanguageConfiguration(e.getLanguageId()).indentRulesSupport;return i?t<1||t>e.getLineCount()?null:i.getIndentMetadata(e.getLineContent(t)):null}},8338:function(e,t,n){n.d(t,{e:function(){return d}});var i=n(649),r=n(60726),a=n(57612);function o(e){var t,n=[],i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=Number(a);(o||0===o&&""!==a.replace(/\s/g,""))&&n.push(o)}}catch(s){i.e(s)}finally{i.f()}return n}function s(e,t,n,i){return{red:e/255,blue:n/255,green:t/255,alpha:i}}function u(e,t){var n=t.index,i=t[0].length;if(n){var r=e.positionAt(n);return{startLineNumber:r.lineNumber,startColumn:r.column,endLineNumber:r.lineNumber,endColumn:r.column+i}}}function l(e,t){if(e){var n=a.Il.Format.CSS.parseHex(t);if(n)return{range:e,color:s(n.rgba.r,n.rgba.g,n.rgba.b,n.rgba.a)}}}function h(e,t,n){if(e&&1===t.length){var i=o(t[0].values());return{range:e,color:s(i[0],i[1],i[2],n?i[3]:1)}}}function f(e,t,n){if(e&&1===t.length){var i=o(t[0].values()),r=new a.Il(new a.Oz(i[0],i[1]/100,i[2]/100,n?i[3]:1));return{range:e,color:s(r.rgba.r,r.rgba.g,r.rgba.b,r.rgba.a)}}}function c(e,t){return"string"===typeof e?(0,i.Z)(e.matchAll(t)):e.findMatches(t)}function d(e){return e&&"function"===typeof e.getValue&&"function"===typeof e.positionAt?function(e){var t=[],n=c(e,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(n.length>0){var i,a=(0,r.Z)(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.filter((function(e){return void 0!==e})),d=s[1],g=s[2];if(g){var v=void 0;"rgb"===d?v=h(u(e,o),c(g,/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm),!1):"rgba"===d?v=h(u(e,o),c(g,/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm),!0):"hsl"===d?v=f(u(e,o),c(g,/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm),!1):"hsla"===d?v=f(u(e,o),c(g,/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm),!0):"#"===d&&(v=l(u(e,o),d+g)),v&&t.push(v)}}}catch(m){a.e(m)}finally{a.f()}}return t}(e):[]}},1391:function(e,t,n){n.d(t,{A:function(){return a}});var i=n(70860),r=n(41598);function a(e,t,n,a){var o=(0,r.n2)(t,n.startLineNumber,n.startColumn),s=a.getLanguageConfiguration(o.languageId);if(!s)return null;var u,l=o.getLineContent(),h=l.substr(0,n.startColumn-1-o.firstCharOffset);n.isEmpty()?u=l.substr(n.startColumn-1-o.firstCharOffset):u=(0,r.n2)(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-o.firstCharOffset);var f="";if(n.startLineNumber>1&&0===o.firstCharOffset){var c=(0,r.n2)(t,n.startLineNumber-1);c.languageId===o.languageId&&(f=c.getLineContent())}var d=s.onEnter(e,f,h,u);if(!d)return null;var g=d.indentAction,v=d.appendText,m=d.removeText||0;v?g===i.wU.Indent&&(v="\t"+v):v=g===i.wU.Indent||g===i.wU.IndentOutdent?"\t":"";var k=(0,r.u0)(t,n.startLineNumber,n.startColumn);return m&&(k=k.substring(0,k.length-m)),{indentAction:g,appendText:v,removeText:m,indentation:k}}},62281:function(e,t,n){n.d(t,{O:function(){return i}});var i=(0,n(22046).yh)("languageService")},70860:function(e,t,n){n.d(t,{V6:function(){return s},c$:function(){return u},wU:function(){return i}});var i,r=n(60726),a=n(22951),o=n(91976);!function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(i||(i={}));var s=function(){function e(t){if((0,a.Z)(this,e),this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=t.open,this.close=t.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(t.notIn))for(var n=0,i=t.notIn.length;n<i;n++){switch(t.notIn[n]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}}return(0,o.Z)(e,[{key:"isOK",value:function(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}},{key:"shouldAutoClose",value:function(e,t){if(0===e.getTokenCount())return!0;var n=e.findTokenIndexAtOffset(t-2),i=e.getStandardTokenType(n);return this.isOK(i)}},{key:"_findNeutralCharacterInRange",value:function(e,t){for(var n=e;n<=t;n++){var i=String.fromCharCode(n);if(!this.open.includes(i)&&!this.close.includes(i))return i}return null}},{key:"findNeutralCharacter",value:function(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}]),e}(),u=(0,o.Z)((function e(t){(0,a.Z)(this,e),this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;var n,i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;l(this.autoClosingPairsOpenByStart,o.open.charAt(0),o),l(this.autoClosingPairsOpenByEnd,o.open.charAt(o.open.length-1),o),l(this.autoClosingPairsCloseByStart,o.close.charAt(0),o),l(this.autoClosingPairsCloseByEnd,o.close.charAt(o.close.length-1),o),1===o.close.length&&1===o.open.length&&l(this.autoClosingPairsCloseSingleChar,o.close,o)}}catch(s){i.e(s)}finally{i.f()}}));function l(e,t,n){e.has(t)?e.get(t).push(n):e.set(t,[n])}},41598:function(e,t,n){n.d(t,{c_:function(){return D},u0:function(){return q},n2:function(){return W}});var i=n(60726),r=n(11026),a=n(67591),o=n(99616),s=n(22951),u=n(91976),l=n(68515),h=n(59652),f=n(17224),c=n(60071),d=n(70860),g=n(59665),v=function(){function e(t){if((0,s.Z)(this,e),t.autoClosingPairs?this._autoClosingPairs=t.autoClosingPairs.map((function(e){return new d.V6(e)})):t.brackets?this._autoClosingPairs=t.brackets.map((function(e){return new d.V6({open:e[0],close:e[1]})})):this._autoClosingPairs=[],t.__electricCharacterSupport&&t.__electricCharacterSupport.docComment){var n=t.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new d.V6({open:n.open,close:n.close||""}))}this._autoCloseBeforeForQuotes="string"===typeof t.autoCloseBefore?t.autoCloseBefore:e.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets="string"===typeof t.autoCloseBefore?t.autoCloseBefore:e.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=t.surroundingPairs||this._autoClosingPairs}return(0,u.Z)(e,[{key:"getAutoClosingPairs",value:function(){return this._autoClosingPairs}},{key:"getAutoCloseBeforeSet",value:function(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}},{key:"getSurroundingPairs",value:function(){return this._surroundingPairs}}]),e}();v.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=";:.,=}])> \n\t",v.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS="'\"`;:.,=}])> \n\t";var m=n(88648),k=n(27357),p=function(){function e(t){(0,s.Z)(this,e),this._richEditBrackets=t}return(0,u.Z)(e,[{key:"getElectricCharacters",value:function(){var e=[];if(this._richEditBrackets){var t,n=(0,i.Z)(this._richEditBrackets.brackets);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,o=(0,i.Z)(a.close);try{for(o.s();!(r=o.n()).done;){var s=r.value,u=s.charAt(s.length-1);e.push(u)}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}}return(0,m.EB)(e)}},{key:"onElectricCharacter",value:function(e,t,n){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;var i=t.findTokenIndexAtOffset(n-1);if((0,g.Bu)(t.getStandardTokenType(i)))return null;var r=this._richEditBrackets.reversedRegex,a=t.getLineContent().substring(0,n-1)+e,o=k.Vr.findPrevBracketInRange(r,1,a,0,a.length);if(!o)return null;var s=a.substring(o.startColumn-1,o.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[s])return null;var u=t.getActualLineContentBefore(o.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:s}:null}}]),e}();function C(e){return e.global&&(e.lastIndex=0),!0}var y=function(){function e(t){(0,s.Z)(this,e),this._indentationRules=t}return(0,u.Z)(e,[{key:"shouldIncrease",value:function(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&C(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}},{key:"shouldDecrease",value:function(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&C(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}},{key:"shouldIndentNextLine",value:function(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&C(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}},{key:"shouldIgnore",value:function(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&C(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}},{key:"getIndentMetadata",value:function(e){var t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}]),e}(),b=n(33309),_=function(){function e(t){var n=this;(0,s.Z)(this,e),(t=t||{}).brackets=t.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],t.brackets.forEach((function(t){var i=e._createOpenBracketRegExp(t[0]),r=e._createCloseBracketRegExp(t[1]);i&&r&&n._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:r})})),this._regExpRules=t.onEnterRules||[]}return(0,u.Z)(e,[{key:"onEnter",value:function(e,t,n,i){if(e>=3)for(var r=0,a=this._regExpRules.length;r<a;r++){var o=this._regExpRules[r];if([{reg:o.beforeText,text:n},{reg:o.afterText,text:i},{reg:o.previousLineText,text:t}].every((function(e){return!e.reg||(e.reg.lastIndex=0,e.reg.test(e.text))})))return o.action}if(e>=2&&n.length>0&&i.length>0)for(var s=0,u=this._brackets.length;s<u;s++){var l=this._brackets[s];if(l.openRegExp.test(n)&&l.closeRegExp.test(i))return{indentAction:d.wU.IndentOutdent}}if(e>=2&&n.length>0)for(var h=0,f=this._brackets.length;h<f;h++){if(this._brackets[h].openRegExp.test(n))return{indentAction:d.wU.Indent}}return null}}],[{key:"_createOpenBracketRegExp",value:function(t){var n=f.ec(t);return/\B/.test(n.charAt(0))||(n="\\b"+n),n+="\\s*$",e._safeRegExp(n)}},{key:"_createCloseBracketRegExp",value:function(t){var n=f.ec(t);return/\B/.test(n.charAt(n.length-1))||(n+="\\b"),n="^\\s*"+n,e._safeRegExp(n)}},{key:"_safeRegExp",value:function(e){try{return new RegExp(e)}catch(t){return(0,b.dL)(t),null}}}]),e}(),I=n(22046),w=n(53435),x=n(62281),L=n(73198),S=n(75414),E=n(649),R=n(25852),O=function(){function e(t,n){var a=this;(0,s.Z)(this,e),this.languageId=t;var o,u=n.brackets?T(n.brackets):[],l=new R.b((function(e){var t=new Set;return{info:new Z(a,e,t),closing:t}})),h=new R.b((function(e){var t=new Set,n=new Set;return{info:new N(a,e,t,n),opening:t,openingColorized:n}})),f=(0,i.Z)(u);try{for(f.s();!(o=f.n()).done;){var c=(0,r.Z)(o.value,2),d=c[0],g=c[1],v=l.get(d),m=h.get(g);v.closing.add(m.info),m.opening.add(v.info)}}catch(x){f.e(x)}finally{f.f()}var k,p=n.colorizedBracketPairs?T(n.colorizedBracketPairs):u.filter((function(e){return!("<"===e[0]&&">"===e[1])})),C=(0,i.Z)(p);try{for(C.s();!(k=C.n()).done;){var y=(0,r.Z)(k.value,2),b=y[0],_=y[1],I=l.get(b),w=h.get(_);I.closing.add(w.info),w.openingColorized.add(I.info),w.opening.add(I.info)}}catch(x){C.e(x)}finally{C.f()}this._openingBrackets=new Map((0,E.Z)(l.cachedValues).map((function(e){var t=(0,r.Z)(e,2);return[t[0],t[1].info]}))),this._closingBrackets=new Map((0,E.Z)(h.cachedValues).map((function(e){var t=(0,r.Z)(e,2);return[t[0],t[1].info]})))}return(0,u.Z)(e,[{key:"openingBrackets",get:function(){return(0,E.Z)(this._openingBrackets.values())}},{key:"closingBrackets",get:function(){return(0,E.Z)(this._closingBrackets.values())}},{key:"getOpeningBracketInfo",value:function(e){return this._openingBrackets.get(e)}},{key:"getClosingBracketInfo",value:function(e){return this._closingBrackets.get(e)}},{key:"getBracketInfo",value:function(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}}]),e}();function T(e){return e.filter((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return""!==n&&""!==i}))}var B=function(){function e(t,n){(0,s.Z)(this,e),this.config=t,this.bracketText=n}return(0,u.Z)(e,[{key:"languageId",get:function(){return this.config.languageId}}]),e}(),Z=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,r){var a;return(0,s.Z)(this,n),(a=t.call(this,e,i)).openedBrackets=r,a.isOpeningBracket=!0,a}return(0,u.Z)(n)}(B),N=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,r,a){var o;return(0,s.Z)(this,n),(o=t.call(this,e,i)).openingBrackets=r,o.openingColorizedBrackets=a,o.isOpeningBracket=!1,o}return(0,u.Z)(n,[{key:"closes",value:function(e){return e.config===this.config&&this.openingBrackets.has(e)}},{key:"closesColorized",value:function(e){return e.config===this.config&&this.openingColorizedBrackets.has(e)}},{key:"getOpeningBrackets",value:function(){return(0,E.Z)(this.openingBrackets)}}]),n}(B),P=function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},A=function(e,t){return function(n,i){t(n,i,e)}},M=function(){function e(t){(0,s.Z)(this,e),this.languageId=t}return(0,u.Z)(e,[{key:"affects",value:function(e){return!this.languageId||this.languageId===e}}]),e}(),D=(0,I.yh)("languageConfigurationService"),z=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,a){var o;(0,s.Z)(this,n),(o=t.call(this)).configurationService=e,o.languageService=a,o._registry=o._register(new G),o.onDidChangeEmitter=o._register(new l.Q5),o.onDidChange=o.onDidChangeEmitter.event,o.configurations=new Map;var u=new Set(Object.values(F));return o._register(o.configurationService.onDidChangeConfiguration((function(e){var t=e.change.keys.some((function(e){return u.has(e)})),n=e.change.overrides.filter((function(e){var t=(0,r.Z)(e,2);t[0];return t[1].some((function(e){return u.has(e)}))})).map((function(e){return(0,r.Z)(e,1)[0]}));if(t)o.configurations.clear(),o.onDidChangeEmitter.fire(new M(void 0));else{var a,s=(0,i.Z)(n);try{for(s.s();!(a=s.n()).done;){var l=a.value;o.languageService.isRegisteredLanguageId(l)&&(o.configurations.delete(l),o.onDidChangeEmitter.fire(new M(l)))}}catch(h){s.e(h)}finally{s.f()}}}))),o._register(o._registry.onDidChange((function(e){o.configurations.delete(e.languageId),o.onDidChangeEmitter.fire(new M(e.languageId))}))),o}return(0,u.Z)(n,[{key:"register",value:function(e,t,n){return this._registry.register(e,t,n)}},{key:"getLanguageConfiguration",value:function(e){var t=this.configurations.get(e);return t||(t=function(e,t,n,i){var r=t.getLanguageConfiguration(e);if(!r){if(!i.isRegisteredLanguageId(e))return new K(e,{});r=new K(e,{})}var a=function(e,t){var n=t.getValue(F.brackets,{overrideIdentifier:e}),i=t.getValue(F.colorizedBracketPairs,{overrideIdentifier:e});return{brackets:H(n),colorizedBracketPairs:H(i)}}(r.languageId,n),o=V([r.underlyingConfig,a]);return new K(r.languageId,o)}(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}}]),n}(h.JT);z=P([A(0,w.Ui),A(1,x.O)],z);var F={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function H(e){if(Array.isArray(e))return e.map((function(e){if(Array.isArray(e)&&2===e.length)return[e[0],e[1]]})).filter((function(e){return!!e}))}function q(e,t,n){var i=e.getLineContent(t),r=f.V8(i);return r.length>n-1&&(r=r.substring(0,n-1)),r}function W(e,t,n){e.tokenization.forceTokenization(t);var i=e.tokenization.getLineTokens(t),r="undefined"===typeof n?e.getLineMaxColumn(t)-1:n-1;return(0,g.wH)(i,r)}var j=function(){function e(t){(0,s.Z)(this,e),this.languageId=t,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}return(0,u.Z)(e,[{key:"register",value:function(e,t){var n=this,i=new U(e,t,++this._order);return this._entries.push(i),this._resolved=null,(0,h.OF)((function(){for(var e=0;e<n._entries.length;e++)if(n._entries[e]===i){n._entries.splice(e,1),n._resolved=null;break}}))}},{key:"getResolvedConfiguration",value:function(){if(!this._resolved){var e=this._resolve();e&&(this._resolved=new K(this.languageId,e))}return this._resolved}},{key:"_resolve",value:function(){return 0===this._entries.length?null:(this._entries.sort(U.cmp),V(this._entries.map((function(e){return e.configuration}))))}}]),e}();function V(e){var t,n={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0},r=(0,i.Z)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n={comments:a.comments||n.comments,brackets:a.brackets||n.brackets,wordPattern:a.wordPattern||n.wordPattern,indentationRules:a.indentationRules||n.indentationRules,onEnterRules:a.onEnterRules||n.onEnterRules,autoClosingPairs:a.autoClosingPairs||n.autoClosingPairs,surroundingPairs:a.surroundingPairs||n.surroundingPairs,autoCloseBefore:a.autoCloseBefore||n.autoCloseBefore,folding:a.folding||n.folding,colorizedBracketPairs:a.colorizedBracketPairs||n.colorizedBracketPairs,__electricCharacterSupport:a.__electricCharacterSupport||n.__electricCharacterSupport}}}catch(o){r.e(o)}finally{r.f()}return n}var U=function(){function e(t,n,i){(0,s.Z)(this,e),this.configuration=t,this.priority=n,this.order=i}return(0,u.Z)(e,null,[{key:"cmp",value:function(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}]),e}(),Q=(0,u.Z)((function e(t){(0,s.Z)(this,e),this.languageId=t})),G=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=t.call(this))._entries=new Map,e._onDidChange=e._register(new l.Q5),e.onDidChange=e._onDidChange.event,e._register(e.register(S.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0)),e}return(0,u.Z)(n,[{key:"register",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this._entries.get(e);r||(r=new j(e),this._entries.set(e,r));var a=r.register(t,i);return this._onDidChange.fire(new Q(e)),(0,h.OF)((function(){a.dispose(),n._onDidChange.fire(new Q(e))}))}},{key:"getLanguageConfiguration",value:function(e){var t=this._entries.get(e);return(null===t||void 0===t?void 0:t.getResolvedConfiguration())||null}}]),n}(h.JT),K=function(){function e(t,n){(0,s.Z)(this,e),this.languageId=t,this.underlyingConfig=n,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new _(this.underlyingConfig):null,this.comments=e._handleComments(this.underlyingConfig),this.characterPair=new v(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||c.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new y(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new O(t,this.underlyingConfig)}return(0,u.Z)(e,[{key:"getWordDefinition",value:function(){return(0,c.eq)(this.wordDefinition)}},{key:"brackets",get:function(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new k.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}},{key:"electricCharacter",get:function(){return this._electricCharacter||(this._electricCharacter=new p(this.brackets)),this._electricCharacter}},{key:"onEnter",value:function(e,t,n,i){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,n,i):null}},{key:"getAutoClosingPairs",value:function(){return new d.c$(this.characterPair.getAutoClosingPairs())}},{key:"getAutoCloseBeforeSet",value:function(e){return this.characterPair.getAutoCloseBeforeSet(e)}},{key:"getSurroundingPairs",value:function(){return this.characterPair.getSurroundingPairs()}}],[{key:"_handleComments",value:function(e){var t=e.comments;if(!t)return null;var n={};if(t.lineComment&&(n.lineCommentToken=t.lineComment),t.blockComment){var i=(0,r.Z)(t.blockComment,2),a=i[0],o=i[1];n.blockCommentStartToken=a,n.blockCommentEndToken=o}return n}}]),e}();(0,L.z)(D,z,1)},90054:function(e,t,n){n.d(t,{E:function(){return c}});var i=n(11026),r=n(22951),a=n(91976),o=n(79670),s=function(){function e(t,n,i){(0,r.Z)(this,e);for(var a=new Uint8Array(t*n),o=0,s=t*n;o<s;o++)a[o]=i;this._data=a,this.rows=t,this.cols=n}return(0,a.Z)(e,[{key:"get",value:function(e,t){return this._data[e*this.cols+t]}},{key:"set",value:function(e,t,n){this._data[e*this.cols+t]=n}}]),e}(),u=function(){function e(t){(0,r.Z)(this,e);for(var n=0,a=0,o=0,u=t.length;o<u;o++){var l=(0,i.Z)(t[o],3),h=l[0],f=l[1],c=l[2];f>n&&(n=f),h>a&&(a=h),c>a&&(a=c)}n++,a++;for(var d=new s(a,n,0),g=0,v=t.length;g<v;g++){var m=(0,i.Z)(t[g],3),k=m[0],p=m[1],C=m[2];d.set(k,p,C)}this._states=d,this._maxCharCode=n}return(0,a.Z)(e,[{key:"nextState",value:function(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}]),e}(),l=null;var h=null;var f=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,null,[{key:"_createLink",value:function(e,t,n,i,r){var a=r-1;do{var o=t.charCodeAt(a);if(2!==e.get(o))break;a--}while(a>i);if(i>0){var s=t.charCodeAt(i-1),u=t.charCodeAt(a);(40===s&&41===u||91===s&&93===u||123===s&&125===u)&&a--}return{range:{startLineNumber:n,startColumn:i+1,endLineNumber:n,endColumn:a+2},url:t.substring(i,a+1)}}},{key:"computeLinks",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(null===l&&(l=new u([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),l),i=function(){if(null===h){h=new o.N(0);for(var e=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026",t=0;t<35;t++)h.set(e.charCodeAt(t),1);for(var n=".,;:",i=0;i<4;i++)h.set(n.charCodeAt(i),2)}return h}(),r=[],a=1,s=t.getLineCount();a<=s;a++){for(var f=t.getLineContent(a),c=f.length,d=0,g=0,v=0,m=1,k=!1,p=!1,C=!1,y=!1;d<c;){var b=!1,_=f.charCodeAt(d);if(13===m){var I=void 0;switch(_){case 40:k=!0,I=0;break;case 41:I=k?0:1;break;case 91:C=!0,p=!0,I=0;break;case 93:C=!1,I=p?0:1;break;case 123:y=!0,I=0;break;case 125:I=y?0:1;break;case 39:case 34:case 96:I=v===_?1:39===v||34===v||96===v?0:1;break;case 42:I=42===v?1:0;break;case 124:I=124===v?1:0;break;case 32:I=C?0:1;break;default:I=i.get(_)}1===I&&(r.push(e._createLink(i,f,a,g,d)),b=!0)}else if(12===m){var w=void 0;91===_?(p=!0,w=0):w=i.get(_),1===w?b=!0:m=13}else 0===(m=n.nextState(m,_))&&(b=!0);b&&(m=1,k=!1,p=!1,y=!1,g=d+1,v=_),d++}13===m&&r.push(e._createLink(i,f,a,g,c))}return r}}]),e}();function c(e){return e&&"function"===typeof e.getLineCount&&"function"===typeof e.getLineContent?f.computeLinks(e):[]}},75414:function(e,t,n){n.d(t,{bd:function(){return f},dQ:function(){return h}});var i=n(22951),r=n(91976),a=n(26511),o=n(68515),s=n(11410),u=n(88869),l=n(73379),h=new(function(){function e(){(0,i.Z)(this,e),this._onDidChangeLanguages=new o.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}return(0,r.Z)(e,[{key:"registerLanguage",value:function(e){var t=this;return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:function(){for(var n=0,i=t._languages.length;n<i;n++)if(t._languages[n]===e)return void t._languages.splice(n,1)}}}},{key:"getLanguages",value:function(){return this._languages}}]),e}());s.B.add("editor.modesRegistry",h);var f="plaintext";h.registerLanguage({id:f,extensions:[".txt"],aliases:[a.NC("plainText.alias","Plain Text"),"text"],mimetypes:[u.v.text]}),s.B.as(l.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},31450:function(e,t,n){n.d(t,{Dy:function(){return u},Ri:function(){return s},TJ:function(){return o}});var i=n(22951),r=n(91976),a=n(76958),o=new(function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,[{key:"clone",value:function(){return this}},{key:"equals",value:function(e){return this===e}}]),e}());function s(e,t){return new a.hG([new a.WU(0,"",e)],t)}function u(e,t){var n=new Uint32Array(2);return n[0]=0,n[1]=(32768|e<<0|2<<24)>>>0,new a.DI(n,null===t?o:t)}},59665:function(e,t,n){n.d(t,{Bu:function(){return s},wH:function(){return a}});var i=n(22951),r=n(91976);function a(e,t){for(var n=e.getCount(),i=e.findTokenIndexAtOffset(t),r=e.getLanguageId(i),a=i;a+1<n&&e.getLanguageId(a+1)===r;)a++;for(var s=i;s>0&&e.getLanguageId(s-1)===r;)s--;return new o(e,r,s,a+1,e.getStartOffset(s),e.getEndOffset(a))}var o=function(){function e(t,n,r,a,o,s){(0,i.Z)(this,e),this._scopedLineTokensBrand=void 0,this._actual=t,this.languageId=n,this._firstTokenIndex=r,this._lastTokenIndex=a,this.firstCharOffset=o,this._lastCharOffset=s}return(0,r.Z)(e,[{key:"getLineContent",value:function(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}},{key:"getActualLineContentBefore",value:function(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}},{key:"getTokenCount",value:function(){return this._lastTokenIndex-this._firstTokenIndex}},{key:"findTokenIndexAtOffset",value:function(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}},{key:"getStandardTokenType",value:function(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}]),e}();function s(e){return 0!==(3&e)}},76652:function(e,t,n){n.d(t,{J:function(){return a}});var i=n(22951),r=n(91976),a=function(){function e(){(0,i.Z)(this,e),this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return(0,r.Z)(e,[{key:"navigateValueSet",value:function(e,t,n,i,r){if(e&&t){var a=this.doNavigateValueSet(t,r);if(a)return{range:e,value:a}}if(n&&i){var o=this.doNavigateValueSet(i,r);if(o)return{range:n,value:o}}return null}},{key:"doNavigateValueSet",value:function(e,t){var n=this.numberReplace(e,t);return null!==n?n:this.textReplace(e,t)}},{key:"numberReplace",value:function(e,t){var n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),i=Number(e),r=parseFloat(e);return isNaN(i)||isNaN(r)||i!==r?null:0!==i||t?(i=Math.floor(i*n),i+=t?n:-n,String(i/n)):null}},{key:"textReplace",value:function(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}},{key:"valueSetsReplace",value:function(e,t,n){for(var i=null,r=0,a=e.length;null===i&&r<a;r++)i=this.valueSetReplace(e[r],t,n);return i}},{key:"valueSetReplace",value:function(e,t,n){var i=e.indexOf(t);return i>=0?((i+=n?1:-1)<0?i=e.length-1:i%=e.length,e[i]):null}}]),e}();a.INSTANCE=new a},27357:function(e,t,n){n.d(t,{EA:function(){return f},Vr:function(){return p}});var i=n(11026),r=n(60726),a=n(22951),o=n(91976),s=n(17224),u=n(21531),l=n(55597),h=function(){function e(t,n,i,r,o,s){(0,a.Z)(this,e),this._richEditBracketBrand=void 0,this.languageId=t,this.index=n,this.open=i,this.close=r,this.forwardRegex=o,this.reversedRegex=s,this._openSet=e._toSet(this.open),this._closeSet=e._toSet(this.close)}return(0,o.Z)(e,[{key:"isOpen",value:function(e){return this._openSet.has(e)}},{key:"isClose",value:function(e){return this._closeSet.has(e)}}],[{key:"_toSet",value:function(e){var t,n=new Set,i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.add(a)}}catch(o){i.e(o)}finally{i.f()}return n}}]),e}();var f=(0,o.Z)((function e(t,n){(0,a.Z)(this,e),this._richEditBracketsBrand=void 0;var o=function(e){var t=e.length;e=e.map((function(e){return[e[0].toLowerCase(),e[1].toLowerCase()]}));for(var n=[],r=0;r<t;r++)n[r]=r;for(var a=function(e,t){var n=(0,i.Z)(e,2),r=n[0],a=n[1],o=(0,i.Z)(t,2),s=o[0],u=o[1];return r===s||r===u||a===s||a===u},o=function(e,i){for(var r=Math.min(e,i),a=Math.max(e,i),o=0;o<t;o++)n[o]===a&&(n[o]=r)},s=0;s<t;s++)for(var u=e[s],l=s+1;l<t;l++)a(u,e[l])&&o(n[s],n[l]);for(var h=[],f=0;f<t;f++){for(var c=[],d=[],g=0;g<t;g++)if(n[g]===f){var v=(0,i.Z)(e[g],2),m=v[0],k=v[1];c.push(m),d.push(k)}c.length>0&&h.push({open:c,close:d})}return h}(n);this.brackets=o.map((function(e,n){return new h(t,n,e.open,e.close,function(e,t,n,i){var r=[];r=r.concat(e),r=r.concat(t);for(var a=0,o=r.length;a<o;a++)c(r[a],n,i,r);return(r=g(r)).sort(d),r.reverse(),m(r)}(e.open,e.close,o,n),function(e,t,n,i){var r=[];r=r.concat(e),r=r.concat(t);for(var a=0,o=r.length;a<o;a++)c(r[a],n,i,r);return(r=g(r)).sort(d),r.reverse(),m(r.map(k))}(e.open,e.close,o,n))})),this.forwardRegex=function(e){var t,n=[],i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){var a,o=t.value,s=(0,r.Z)(o.open);try{for(s.s();!(a=s.n()).done;){var u=a.value;n.push(u)}}catch(c){s.e(c)}finally{s.f()}var l,h=(0,r.Z)(o.close);try{for(h.s();!(l=h.n()).done;){var f=l.value;n.push(f)}}catch(c){h.e(c)}finally{h.f()}}}catch(c){i.e(c)}finally{i.f()}return m(n=g(n))}(this.brackets),this.reversedRegex=function(e){var t,n=[],i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){var a,o=t.value,s=(0,r.Z)(o.open);try{for(s.s();!(a=s.n()).done;){var u=a.value;n.push(u)}}catch(c){s.e(c)}finally{s.f()}var l,h=(0,r.Z)(o.close);try{for(h.s();!(l=h.n()).done;){var f=l.value;n.push(f)}}catch(c){h.e(c)}finally{h.f()}}}catch(c){i.e(c)}finally{i.f()}return m((n=g(n)).map(k))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;var s,u=(0,r.Z)(this.brackets);try{for(u.s();!(s=u.n()).done;){var l,f=s.value,v=(0,r.Z)(f.open);try{for(v.s();!(l=v.n()).done;){var p=l.value;this.textIsBracket[p]=f,this.textIsOpenBracket[p]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,p.length)}}catch(_){v.e(_)}finally{v.f()}var C,y=(0,r.Z)(f.close);try{for(y.s();!(C=y.n()).done;){var b=C.value;this.textIsBracket[b]=f,this.textIsOpenBracket[b]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,b.length)}}catch(_){y.e(_)}finally{y.f()}}}catch(_){u.e(_)}finally{u.f()}}));function c(e,t,n,i){for(var a=0,o=t.length;a<o;a++)if(a!==n){var s,u=t[a],l=(0,r.Z)(u.open);try{for(l.s();!(s=l.n()).done;){var h=s.value;h.indexOf(e)>=0&&i.push(h)}}catch(g){l.e(g)}finally{l.f()}var f,c=(0,r.Z)(u.close);try{for(c.s();!(f=c.n()).done;){var d=f.value;d.indexOf(e)>=0&&i.push(d)}}catch(g){c.e(g)}finally{c.f()}}}function d(e,t){return e.length-t.length}function g(e){if(e.length<=1)return e;var t,n=[],i=new Set,a=(0,r.Z)(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;i.has(o)||(n.push(o),i.add(o))}}catch(s){a.e(s)}finally{a.f()}return n}function v(e){var t=/^[\w ]+$/.test(e);return e=s.ec(e),t?"\\b".concat(e,"\\b"):e}function m(e){var t="(".concat(e.map(v).join(")|("),")");return s.GF(t,!0)}var k=function(){var e=null,t=null;return function(n){return e!==n&&(t=function(e){for(var t=new Uint16Array(e.length),n=0,i=e.length-1;i>=0;i--)t[n++]=e.charCodeAt(i);return u.oe().decode(t)}(e=n)),t}}(),p=function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,null,[{key:"_findPrevBracketInText",value:function(e,t,n,i){var r=n.match(e);if(!r)return null;var a=n.length-(r.index||0),o=r[0].length,s=i+a;return new l.e(t,s-o+1,t,s+1)}},{key:"findPrevBracketInRange",value:function(e,t,n,i,r){var a=k(n).substring(n.length-r,n.length-i);return this._findPrevBracketInText(e,t,a,i)}},{key:"findNextBracketInText",value:function(e,t,n,i){var r=n.match(e);if(!r)return null;var a=r.index||0,o=r[0].length;if(0===o)return null;var s=i+a;return new l.e(t,s+1,t,s+1+o)}},{key:"findNextBracketInRange",value:function(e,t,n,i,r){var a=n.substring(i,r);return this.findNextBracketInText(e,t,a,i)}}]),e}()},37802:function(e,t,n){n.d(t,{si:function(){return f},yr:function(){return v}});var i=n(60726),r=n(91976),a=n(22951),o=n(57612),s=(0,r.Z)((function e(t,n,i,r,o){(0,a.Z)(this,e),this._parsedThemeRuleBrand=void 0,this.token=t,this.index=n,this.fontStyle=i,this.foreground=r,this.background=o}));function u(e,t){e.sort((function(e,t){var n=function(e,t){if(e<t)return-1;if(e>t)return 1;return 0}(e.token,t.token);return 0!==n?n:e.index-t.index}));for(var n=0,r="000000",a="ffffff";e.length>=1&&""===e[0].token;){var o=e.shift();-1!==o.fontStyle&&(n=o.fontStyle),null!==o.foreground&&(r=o.foreground),null!==o.background&&(a=o.background)}var s,u=new h,l=(0,i.Z)(t);try{for(l.s();!(s=l.n()).done;){var c=s.value;u.getId(c)}}catch(_){l.e(_)}finally{l.f()}for(var v=u.getId(r),m=u.getId(a),k=new d(n,v,m),p=new g(k),C=0,y=e.length;C<y;C++){var b=e[C];p.insert(b.token,b.fontStyle,u.getId(b.foreground),u.getId(b.background))}return new f(u,p)}var l=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/,h=function(){function e(){(0,a.Z)(this,e),this._lastColorId=0,this._id2color=[],this._color2id=new Map}return(0,r.Z)(e,[{key:"getId",value:function(e){if(null===e)return 0;var t=e.match(l);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();var n=this._color2id.get(e);return n||(n=++this._lastColorId,this._color2id.set(e,n),this._id2color[n]=o.Il.fromHex("#"+e),n)}},{key:"getColorMap",value:function(){return this._id2color.slice(0)}}]),e}(),f=function(){function e(t,n){(0,a.Z)(this,e),this._colorMap=t,this._root=n,this._cache=new Map}return(0,r.Z)(e,[{key:"getColorMap",value:function(){return this._colorMap.getColorMap()}},{key:"_match",value:function(e){return this._root.match(e)}},{key:"match",value:function(e,t){var n=this._cache.get(t);if("undefined"===typeof n){var i=this._match(t),r=function(e){var t=e.match(c);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(t);n=(i.metadata|r<<8)>>>0,this._cache.set(t,n)}return(n|e<<0)>>>0}}],[{key:"createFromRawTokenTheme",value:function(e,t){return this.createFromParsedTokenTheme(function(e){if(!e||!Array.isArray(e))return[];for(var t=[],n=0,i=0,r=e.length;i<r;i++){var a=e[i],o=-1;if("string"===typeof a.fontStyle){o=0;for(var u=a.fontStyle.split(" "),l=0,h=u.length;l<h;l++)switch(u[l]){case"italic":o|=1;break;case"bold":o|=2;break;case"underline":o|=4;break;case"strikethrough":o|=8}}var f=null;"string"===typeof a.foreground&&(f=a.foreground);var c=null;"string"===typeof a.background&&(c=a.background),t[n++]=new s(a.token||"",i,o,f,c)}return t}(e),t)}},{key:"createFromParsedTokenTheme",value:function(e,t){return u(e,t)}}]),e}(),c=/\b(comment|string|regex|regexp)\b/;var d=function(){function e(t,n,i){(0,a.Z)(this,e),this._themeTrieElementRuleBrand=void 0,this._fontStyle=t,this._foreground=n,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}return(0,r.Z)(e,[{key:"clone",value:function(){return new e(this._fontStyle,this._foreground,this._background)}},{key:"acceptOverwrite",value:function(e,t,n){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==n&&(this._background=n),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}]),e}(),g=function(){function e(t){(0,a.Z)(this,e),this._themeTrieElementBrand=void 0,this._mainRule=t,this._children=new Map}return(0,r.Z)(e,[{key:"match",value:function(e){if(""===e)return this._mainRule;var t,n,i=e.indexOf(".");-1===i?(t=e,n=""):(t=e.substring(0,i),n=e.substring(i+1));var r=this._children.get(t);return"undefined"!==typeof r?r.match(n):this._mainRule}},{key:"insert",value:function(t,n,i,r){if(""!==t){var a,o,s=t.indexOf(".");-1===s?(a=t,o=""):(a=t.substring(0,s),o=t.substring(s+1));var u=this._children.get(a);"undefined"===typeof u&&(u=new e(this._mainRule.clone()),this._children.set(a,u)),u.insert(o,n,i,r)}else this._mainRule.acceptOverwrite(n,i,r)}}]),e}();function v(e){for(var t=[],n=1,i=e.length;n<i;n++){var r=e[n];t[n]=".mtk".concat(n," { color: ").concat(r,"; }")}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.push(".mtks { text-decoration: line-through; }"),t.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),t.join("\n")}},66393:function(e,t,n){n.d(t,{C2:function(){return h},Fq:function(){return f}});var i=n(11092),r=n(17224),a=n(21605),o=n(76958),s=n(31450),u=function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{u(i.next(e))}catch(t){a(t)}}function s(e){try{u(i.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((i=i.apply(e,t||[])).next())}))},l={getInitialState:function(){return s.TJ},tokenizeEncoded:function(e,t,n){return(0,s.Dy)(0,n)}};function h(e,t,n){return u(this,void 0,void 0,(0,i.Z)().mark((function r(){var a;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(n){i.next=2;break}return i.abrupt("return",c(t,e.languageIdCodec,l));case 2:return i.next=4,o.RW.getOrCreate(n);case 4:return a=i.sent,i.abrupt("return",c(t,e.languageIdCodec,a||l));case 6:case"end":return i.stop()}}),r)})))}function f(e,t,n,i,r,a,o){for(var s="<div>",u=i,l=0,h=!0,f=0,c=t.getCount();f<c;f++){var d=t.getEndOffset(f);if(!(d<=i)){for(var g="";u<d&&u<r;u++){var v=e.charCodeAt(u);switch(v){case 9:var m=a-(u+l)%a;for(l+=m-1;m>0;)o&&h?(g+="&#160;",h=!1):(g+=" ",h=!0),m--;break;case 60:g+="&lt;",h=!1;break;case 62:g+="&gt;",h=!1;break;case 38:g+="&amp;",h=!1;break;case 0:g+="&#00;",h=!1;break;case 65279:case 8232:case 8233:case 133:g+="\ufffd",h=!1;break;case 13:g+="&#8203",h=!1;break;case 32:o&&h?(g+="&#160;",h=!1):(g+=" ",h=!0);break;default:g+=String.fromCharCode(v),h=!1}}if(s+='<span style="'.concat(t.getInlineStyle(f,n),'">').concat(g,"</span>"),d>r||u>=r)break}}return s+="</div>"}function c(e,t,n){for(var i='<div class="monaco-tokenized-source">',o=r.uq(e),s=n.getInitialState(),u=0,l=o.length;u<l;u++){var h=o[u];u>0&&(i+="<br/>");var f=n.tokenizeEncoded(h,!0,s);a.A.convertToEndOffset(f.tokens,h.length);for(var c=new a.A(f.tokens,h,t).inflate(),d=0,g=0,v=c.getCount();g<v;g++){var m=c.getClassName(g),k=c.getEndOffset(g);i+='<span class="'.concat(m,'">').concat(r.YU(h.substring(d,k)),"</span>"),d=k}s=f.endState}return i+="</div>"}},43232:function(e,t,n){n.d(t,{F5:function(){return a},Hf:function(){return c},Qi:function(){return d},RM:function(){return o},Tx:function(){return g},U:function(){return r},dJ:function(){return h},je:function(){return v},pt:function(){return m},sh:function(){return i},tk:function(){return f}});var i,r,a,o,s=n(22951),u=n(91976),l=n(62922);!function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(i||(i={})),function(e){e[e.Left=1]="Left",e[e.Right=2]="Right"}(r||(r={})),function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"}(a||(a={})),function(e){e[e.Both=0]="Both",e[e.Right=1]="Right",e[e.Left=2]="Left",e[e.None=3]="None"}(o||(o={}));var h=function(){function e(t){(0,s.Z)(this,e),this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|t.tabSize),"tabSize"===t.indentSize?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,0|t.indentSize),this._indentSizeIsTabSize=!1),this.insertSpaces=Boolean(t.insertSpaces),this.defaultEOL=0|t.defaultEOL,this.trimAutoWhitespace=Boolean(t.trimAutoWhitespace),this.bracketPairColorizationOptions=t.bracketPairColorizationOptions}return(0,u.Z)(e,[{key:"originalIndentSize",get:function(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}},{key:"equals",value:function(e){return this.tabSize===e.tabSize&&this._indentSizeIsTabSize===e._indentSizeIsTabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&(0,l.fS)(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}},{key:"createChangeEvent",value:function(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}]),e}(),f=(0,u.Z)((function e(t,n){(0,s.Z)(this,e),this._findMatchBrand=void 0,this.range=t,this.matches=n}));function c(e){return e&&"function"===typeof e.read}var d=(0,u.Z)((function e(t,n,i,r,a,o){(0,s.Z)(this,e),this.identifier=t,this.range=n,this.text=i,this.forceMoveMarkers=r,this.isAutoWhitespaceEdit=a,this._isTracked=o})),g=(0,u.Z)((function e(t,n,i){(0,s.Z)(this,e),this.regex=t,this.wordSeparators=n,this.simpleSearch=i})),v=(0,u.Z)((function e(t,n,i){(0,s.Z)(this,e),this.reverseEdits=t,this.changes=n,this.trimAutoWhitespaceLineNumbers=i}));function m(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}},53583:function(e,t,n){n.d(t,{Q:function(){return T}});var i=n(22951),r=n(91976),a=n(67591),o=n(99616),s=n(88648),u=n(68515),l=n(59652),h=n(55597),f=n(59665),c=n(27357),d=n(60726),g=n(28330),v=n(14517),m=n(37200),k=n(25440),p=n(80887),C=n(99235),y=n(39544),b=n(11026);function _(e,t){if(0===e.length)return t;if(0===t.length)return e;var n=new s.H9(w(e)),i=w(t);i.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});var r=n.dequeue();function a(e){if(void 0===e){var t=n.takeWhile((function(e){return!0}))||[];return r&&t.unshift(r),t}for(var i=[];r&&!(0,k.xd)(e);){var a=r.splitAt(e),o=(0,b.Z)(a,2),s=o[0],u=o[1];i.push(s),e=(0,k.BE)(s.lengthAfter,e),r=null!==u&&void 0!==u?u:n.dequeue()}return(0,k.xd)(e)||i.push(new I(!1,e,e)),i}var o=[];function u(e,t,n){if(o.length>0&&(0,k.rM)(o[o.length-1].endOffset,e)){var i=o[o.length-1];o[o.length-1]=new v.Q(i.startOffset,t,(0,k.Ii)(i.newLength,n))}else o.push({startOffset:e,endOffset:t,newLength:n})}var l,h=k.xl,f=(0,d.Z)(i);try{for(f.s();!(l=f.n()).done;){var c=l.value,g=a(c.lengthBefore);if(c.modified){var m=(0,k.tQ)(g,(function(e){return e.lengthBefore})),p=(0,k.Ii)(h,m);u(h,p,c.lengthAfter),h=p}else{var C,y=(0,d.Z)(g);try{for(y.s();!(C=y.n()).done;){var _=C.value,x=h;h=(0,k.Ii)(h,_.lengthBefore),_.modified&&u(x,h,_.lengthAfter)}}catch(L){y.e(L)}finally{y.f()}}}}catch(L){f.e(L)}finally{f.f()}return o}var I=function(){function e(t,n,r){(0,i.Z)(this,e),this.modified=t,this.lengthBefore=n,this.lengthAfter=r}return(0,r.Z)(e,[{key:"splitAt",value:function(t){var n=(0,k.BE)(t,this.lengthAfter);return(0,k.rM)(n,k.xl)?[this,void 0]:this.modified?[new e(this.modified,this.lengthBefore,t),new e(this.modified,k.xl,n)]:[new e(this.modified,t,t),new e(this.modified,n,n)]}},{key:"toString",value:function(){return"".concat(this.modified?"M":"U",":").concat((0,k.Hw)(this.lengthBefore)," -> ").concat((0,k.Hw)(this.lengthAfter))}}]),e}();function w(e){var t,n=[],i=k.xl,r=(0,d.Z)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,o=(0,k.BE)(i,a.startOffset);(0,k.xd)(o)||n.push(new I(!1,o,o));var s=(0,k.BE)(a.startOffset,a.endOffset);n.push(new I(!0,s,a.newLength)),i=a.endOffset}}catch(u){r.e(u)}finally{r.f()}return n}var x=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var a;if((0,i.Z)(this,n),(a=t.call(this)).textModel=e,a.getLanguageConfiguration=r,a.didChangeEmitter=new u.Q5,a.denseKeyProvider=new C.FE,a.brackets=new m.Z(a.denseKeyProvider,a.getLanguageConfiguration),a.onDidChange=a.didChangeEmitter.event,a.queuedTextEditsForInitialAstWithoutTokens=[],a.queuedTextEdits=[],e.tokenization.hasTokens)2===e.tokenization.backgroundTokenizationState?(a.initialAstWithoutTokens=void 0,a.astWithTokens=a.parseDocumentFromTextBuffer([],void 0,!1)):(a.initialAstWithoutTokens=a.parseDocumentFromTextBuffer([],void 0,!0),a.astWithTokens=a.initialAstWithoutTokens);else{var o=a.brackets.getSingleLanguageBracketTokens(a.textModel.getLanguageId()),s=new y.g(a.textModel.getValue(),o);a.initialAstWithoutTokens=(0,p.w)(s,[],void 0,!0),a.astWithTokens=a.initialAstWithoutTokens}return a}return(0,r.Z)(n,[{key:"didLanguageChange",value:function(e){return this.brackets.didLanguageChange(e)}},{key:"handleDidChangeBackgroundTokenizationState",value:function(){if(2===this.textModel.tokenization.backgroundTokenizationState){var e=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}},{key:"handleDidChangeTokens",value:function(e){var t=e.ranges.map((function(e){return new v.Q((0,k.Hg)(e.fromLineNumber-1,0),(0,k.Hg)(e.toLineNumber,0),(0,k.Hg)(e.toLineNumber-e.fromLineNumber+1,0))}));this.handleEdits(t,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}},{key:"handleContentChanged",value:function(e){var t=v.Q.fromModelContentChanges(e.changes);this.handleEdits(t,!1)}},{key:"handleEdits",value:function(e,t){var n=_(this.queuedTextEdits,e);this.queuedTextEdits=n,this.initialAstWithoutTokens&&!t&&(this.queuedTextEditsForInitialAstWithoutTokens=_(this.queuedTextEditsForInitialAstWithoutTokens,e))}},{key:"flushQueue",value:function(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}},{key:"parseDocumentFromTextBuffer",value:function(e,t,n){var i=t,r=new y.xH(this.textModel,this.brackets);return(0,p.w)(r,e,i,n)}},{key:"getBracketsInRange",value:function(e,t){var n=this;this.flushQueue();var i=(0,k.Hg)(e.startLineNumber-1,e.startColumn-1),r=(0,k.Hg)(e.endLineNumber-1,e.endColumn-1);return new s.W$((function(e){var a=n.initialAstWithoutTokens||n.astWithTokens;E(a,k.xl,a.length,i,r,e,0,0,new Map,t)}))}},{key:"getBracketPairsInRange",value:function(e,t){var n=this;this.flushQueue();var i=(0,k.PZ)(e.getStartPosition()),r=(0,k.PZ)(e.getEndPosition());return new s.W$((function(e){var a=n.initialAstWithoutTokens||n.astWithTokens,o=new R(e,t,n.textModel);O(a,k.xl,a.length,i,r,o,0,new Map)}))}},{key:"getFirstBracketAfter",value:function(e){this.flushQueue();var t=this.initialAstWithoutTokens||this.astWithTokens;return S(t,k.xl,t.length,(0,k.PZ)(e))}},{key:"getFirstBracketBefore",value:function(e){this.flushQueue();var t=this.initialAstWithoutTokens||this.astWithTokens;return L(t,k.xl,t.length,(0,k.PZ)(e))}}]),n}(l.JT);function L(e,t,n,i){if(4===e.kind||2===e.kind){var r,a=[],o=(0,d.Z)(e.children);try{for(o.s();!(r=o.n()).done;){var s=r.value;n=(0,k.Ii)(t,s.length),a.push({nodeOffsetStart:t,nodeOffsetEnd:n}),t=n}}catch(v){o.e(v)}finally{o.f()}for(var u=a.length-1;u>=0;u--){var l=a[u],h=l.nodeOffsetStart,f=l.nodeOffsetEnd;if((0,k.VR)(h,i)){var c=L(e.children[u],h,f,i);if(c)return c}}return null}if(3===e.kind)return null;if(1===e.kind){var g=(0,k.Qw)(t,n);return{bracketInfo:e.bracketInfo,range:g}}return null}function S(e,t,n,i){if(4===e.kind||2===e.kind){var r,a=(0,d.Z)(e.children);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(n=(0,k.Ii)(t,o.length),(0,k.VR)(i,n)){var s=S(o,t,n,i);if(s)return s}t=n}}catch(l){a.e(l)}finally{a.f()}return null}if(3===e.kind)return null;if(1===e.kind){var u=(0,k.Qw)(t,n);return{bracketInfo:e.bracketInfo,range:u}}return null}function E(e,t,n,i,r,a,o,s,u,l){var h=arguments.length>10&&void 0!==arguments[10]&&arguments[10];if(o>200)return!0;e:for(;;)switch(e.kind){case 4:for(var f=e.childrenLength,c=0;c<f;c++){var d=e.getChild(c);if(d){if(n=(0,k.Ii)(t,d.length),(0,k.By)(t,r)&&(0,k.Zq)(n,i)){if((0,k.Zq)(n,r)){e=d;continue e}if(!E(d,t,n,i,r,a,o,0,u,l))return!1}t=n}}return!0;case 2:var v=!l||!e.closingBracket||e.closingBracket.bracketInfo.closesColorized(e.openingBracket.bracketInfo),m=0;if(u){var p=u.get(e.openingBracket.text);void 0===p&&(p=0),m=p,v&&(p++,u.set(e.openingBracket.text,p))}for(var C=e.childrenLength,y=0;y<C;y++){var b=e.getChild(y);if(b){if(n=(0,k.Ii)(t,b.length),(0,k.By)(t,r)&&(0,k.Zq)(n,i)){if((0,k.Zq)(n,r)&&1!==b.kind){e=b,v?(o++,s=m+1):s=m;continue e}if(v||1!==b.kind||!e.closingBracket)if(!E(b,t,n,i,r,a,v?o+1:o,v?m+1:m,u,l,!e.closingBracket))return!1}t=n}}return null===u||void 0===u||u.set(e.openingBracket.text,m),!0;case 3:var _=(0,k.Qw)(t,n);return a(new g.M$(_,o-1,0,!0));case 1:var I=(0,k.Qw)(t,n);return a(new g.M$(I,o-1,s-1,h));case 0:return!0}}var R=(0,r.Z)((function e(t,n,r){(0,i.Z)(this,e),this.push=t,this.includeMinIndentation=n,this.textModel=r}));function O(e,t,n,i,r,a,o,s){var u;if(o>200)return!0;var l=!0;if(2===e.kind){var h=0;if(s){var f=s.get(e.openingBracket.text);void 0===f&&(f=0),h=f,f++,s.set(e.openingBracket.text,f)}var c=(0,k.Ii)(t,e.openingBracket.length),v=-1;if(a.includeMinIndentation&&(v=e.computeMinIndentation(t,a.textModel)),l=a.push(new g.YA((0,k.Qw)(t,n),(0,k.Qw)(t,c),e.closingBracket?(0,k.Qw)((0,k.Ii)(c,(null===(u=e.child)||void 0===u?void 0:u.length)||k.xl),n):void 0,o,h,e,v)),t=c,l&&e.child){var m=e.child;if(n=(0,k.Ii)(t,m.length),(0,k.By)(t,r)&&(0,k.Zq)(n,i)&&!(l=O(m,t,n,i,r,a,o+1,s)))return!1}null===s||void 0===s||s.set(e.openingBracket.text,h)}else{var p,C=t,y=(0,d.Z)(e.children);try{for(y.s();!(p=y.n()).done;){var b=p.value,_=C;if(C=(0,k.Ii)(C,b.length),(0,k.By)(_,r)&&(0,k.By)(i,C)&&!(l=O(b,_,C,i,r,a,o,s)))return!1}}catch(I){y.e(I)}finally{y.f()}}return l}var T=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var a;return(0,i.Z)(this,n),(a=t.call(this)).textModel=e,a.languageConfigurationService=r,a.bracketPairsTree=a._register(new l.XK),a.onDidChangeEmitter=new u.Q5,a.onDidChange=a.onDidChangeEmitter.event,a.bracketsRequested=!1,a._register(a.languageConfigurationService.onDidChange((function(e){var t;e.languageId&&!(null===(t=a.bracketPairsTree.value)||void 0===t?void 0:t.object.didLanguageChange(e.languageId))||(a.bracketPairsTree.clear(),a.updateBracketPairsTree())}))),a}return(0,r.Z)(n,[{key:"canBuildAST",get:function(){return this.textModel.getValueLength()<=5e6}},{key:"handleDidChangeOptions",value:function(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}},{key:"handleDidChangeLanguage",value:function(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}},{key:"handleDidChangeContent",value:function(e){var t;null===(t=this.bracketPairsTree.value)||void 0===t||t.object.handleContentChanged(e)}},{key:"handleDidChangeBackgroundTokenizationState",value:function(){var e;null===(e=this.bracketPairsTree.value)||void 0===e||e.object.handleDidChangeBackgroundTokenizationState()}},{key:"handleDidChangeTokens",value:function(e){var t;null===(t=this.bracketPairsTree.value)||void 0===t||t.object.handleDidChangeTokens(e)}},{key:"updateBracketPairsTree",value:function(){var e,t,n=this;if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){var i=new l.SL;this.bracketPairsTree.value=(e=i.add(new x(this.textModel,(function(e){return n.languageConfigurationService.getLanguageConfiguration(e)}))),t=i,{object:e,dispose:function(){return null===t||void 0===t?void 0:t.dispose()}}),i.add(this.bracketPairsTree.value.object.onDidChange((function(e){return n.onDidChangeEmitter.fire(e)}))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}},{key:"getBracketPairsInRange",value:function(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!1))||s.W$.empty}},{key:"getBracketPairsInRangeWithMinIndentation",value:function(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!0))||s.W$.empty}},{key:"getBracketsInRange",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketsInRange(e,n))||s.W$.empty}},{key:"findMatchingBracketUp",value:function(e,t,n){var i=this.textModel.validatePosition(t),r=this.textModel.getLanguageIdAtPosition(i.lineNumber,i.column);if(this.canBuildAST){var a=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew.getClosingBracketInfo(e);if(!a)return null;var o=this.getBracketPairsInRange(h.e.fromPositions(t,t)).findLast((function(e){return a.closes(e.openingBracketInfo)}));return o?o.openingBracketRange:null}var s=e.toLowerCase(),u=this.languageConfigurationService.getLanguageConfiguration(r).brackets;if(!u)return null;var l=u.textIsBracket[s];return l?N(this._findMatchingBracketUp(l,i,B(n))):null}},{key:"matchBracket",value:function(e,t){if(this.canBuildAST){var n=this.getBracketPairsInRange(h.e.fromPositions(e,e)).filter((function(t){return void 0!==t.closingBracketRange&&(t.openingBracketRange.containsPosition(e)||t.closingBracketRange.containsPosition(e))})).findLastMaxBy((0,s.tT)((function(t){return t.openingBracketRange.containsPosition(e)?t.openingBracketRange:t.closingBracketRange}),h.e.compareRangesUsingStarts));return n?[n.openingBracketRange,n.closingBracketRange]:null}var i=B(t);return this._matchBracket(this.textModel.validatePosition(e),i)}},{key:"_establishBracketSearchOffsets",value:function(e,t,n,i){for(var r=t.getCount(),a=t.getLanguageId(i),o=Math.max(0,e.column-1-n.maxBracketLength),s=i-1;s>=0;s--){var u=t.getEndOffset(s);if(u<=o)break;if((0,f.Bu)(t.getStandardTokenType(s))||t.getLanguageId(s)!==a){o=u;break}}for(var l=Math.min(t.getLineContent().length,e.column-1+n.maxBracketLength),h=i+1;h<r;h++){var c=t.getStartOffset(h);if(c>=l)break;if((0,f.Bu)(t.getStandardTokenType(h))||t.getLanguageId(h)!==a){l=c;break}}return{searchStartOffset:o,searchEndOffset:l}}},{key:"_matchBracket",value:function(e,t){var n=e.lineNumber,i=this.textModel.tokenization.getLineTokens(n),r=this.textModel.getLineContent(n),a=i.findTokenIndexAtOffset(e.column-1);if(a<0)return null;var o=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId(a)).brackets;if(o&&!(0,f.Bu)(i.getStandardTokenType(a))){for(var s=this._establishBracketSearchOffsets(e,i,o,a),u=s.searchStartOffset,l=s.searchEndOffset,h=null;;){var d=c.Vr.findNextBracketInRange(o.forwardRegex,n,r,u,l);if(!d)break;if(d.startColumn<=e.column&&e.column<=d.endColumn){var g=r.substring(d.startColumn-1,d.endColumn-1).toLowerCase(),v=this._matchFoundBracket(d,o.textIsBracket[g],o.textIsOpenBracket[g],t);if(v){if(v instanceof Z)return null;h=v}}u=d.endColumn-1}if(h)return h}if(a>0&&i.getStartOffset(a)===e.column-1){var m=a-1,k=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId(m)).brackets;if(k&&!(0,f.Bu)(i.getStandardTokenType(m))){var p=this._establishBracketSearchOffsets(e,i,k,m),C=p.searchStartOffset,y=p.searchEndOffset,b=c.Vr.findPrevBracketInRange(k.reversedRegex,n,r,C,y);if(b&&b.startColumn<=e.column&&e.column<=b.endColumn){var _=r.substring(b.startColumn-1,b.endColumn-1).toLowerCase(),I=this._matchFoundBracket(b,k.textIsBracket[_],k.textIsOpenBracket[_],t);if(I)return I instanceof Z?null:I}}}return null}},{key:"_matchFoundBracket",value:function(e,t,n,i){if(!t)return null;var r=n?this._findMatchingBracketDown(t,e.getEndPosition(),i):this._findMatchingBracketUp(t,e.getStartPosition(),i);return r?r instanceof Z?r:[e,r]:null}},{key:"_findMatchingBracketUp",value:function(e,t,n){for(var i=e.languageId,r=e.reversedRegex,a=-1,o=0,s=function(t,i,s,u){for(;;){if(n&&++o%100===0&&!n())return Z.INSTANCE;var l=c.Vr.findPrevBracketInRange(r,t,i,s,u);if(!l)break;var h=i.substring(l.startColumn-1,l.endColumn-1).toLowerCase();if(e.isOpen(h)?a++:e.isClose(h)&&a--,0===a)return l;u=l.startColumn-1}return null},u=t.lineNumber;u>=1;u--){var l=this.textModel.tokenization.getLineTokens(u),h=l.getCount(),d=this.textModel.getLineContent(u),g=h-1,v=d.length,m=d.length;u===t.lineNumber&&(g=l.findTokenIndexAtOffset(t.column-1),v=t.column-1,m=t.column-1);for(var k=!0;g>=0;g--){var p=l.getLanguageId(g)===i&&!(0,f.Bu)(l.getStandardTokenType(g));if(p)k?v=l.getStartOffset(g):(v=l.getStartOffset(g),m=l.getEndOffset(g));else if(k&&v!==m){var C=s(u,d,v,m);if(C)return C}k=p}if(k&&v!==m){var y=s(u,d,v,m);if(y)return y}}return null}},{key:"_findMatchingBracketDown",value:function(e,t,n){for(var i=e.languageId,r=e.forwardRegex,a=1,o=0,s=function(t,i,s,u){for(;;){if(n&&++o%100===0&&!n())return Z.INSTANCE;var l=c.Vr.findNextBracketInRange(r,t,i,s,u);if(!l)break;var h=i.substring(l.startColumn-1,l.endColumn-1).toLowerCase();if(e.isOpen(h)?a++:e.isClose(h)&&a--,0===a)return l;s=l.endColumn-1}return null},u=this.textModel.getLineCount(),l=t.lineNumber;l<=u;l++){var h=this.textModel.tokenization.getLineTokens(l),d=h.getCount(),g=this.textModel.getLineContent(l),v=0,m=0,k=0;l===t.lineNumber&&(v=h.findTokenIndexAtOffset(t.column-1),m=t.column-1,k=t.column-1);for(var p=!0;v<d;v++){var C=h.getLanguageId(v)===i&&!(0,f.Bu)(h.getStandardTokenType(v));if(C)p||(m=h.getStartOffset(v)),k=h.getEndOffset(v);else if(p&&m!==k){var y=s(l,g,m,k);if(y)return y}p=C}if(p&&m!==k){var b=s(l,g,m,k);if(b)return b}}return null}},{key:"findPrevBracket",value:function(e){var t,n=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getFirstBracketBefore(n))||null;for(var i=null,r=null,a=null,o=n.lineNumber;o>=1;o--){var s=this.textModel.tokenization.getLineTokens(o),u=s.getCount(),l=this.textModel.getLineContent(o),h=u-1,d=l.length,g=l.length;if(o===n.lineNumber){h=s.findTokenIndexAtOffset(n.column-1),d=n.column-1,g=n.column-1;var v=s.getLanguageId(h);i!==v&&(i=v,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets,a=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew)}for(var m=!0;h>=0;h--){var k=s.getLanguageId(h);if(i!==k){if(r&&a&&m&&d!==g){var p=c.Vr.findPrevBracketInRange(r.reversedRegex,o,l,d,g);if(p)return this._toFoundBracket(a,p);m=!1}i=k,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets,a=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew}var C=!!r&&!(0,f.Bu)(s.getStandardTokenType(h));if(C)m?d=s.getStartOffset(h):(d=s.getStartOffset(h),g=s.getEndOffset(h));else if(a&&r&&m&&d!==g){var y=c.Vr.findPrevBracketInRange(r.reversedRegex,o,l,d,g);if(y)return this._toFoundBracket(a,y)}m=C}if(a&&r&&m&&d!==g){var b=c.Vr.findPrevBracketInRange(r.reversedRegex,o,l,d,g);if(b)return this._toFoundBracket(a,b)}}return null}},{key:"findNextBracket",value:function(e){var t,n=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getFirstBracketAfter(n))||null;for(var i=this.textModel.getLineCount(),r=null,a=null,o=null,s=n.lineNumber;s<=i;s++){var u=this.textModel.tokenization.getLineTokens(s),l=u.getCount(),h=this.textModel.getLineContent(s),d=0,g=0,v=0;if(s===n.lineNumber){d=u.findTokenIndexAtOffset(n.column-1),g=n.column-1,v=n.column-1;var m=u.getLanguageId(d);r!==m&&(r=m,a=this.languageConfigurationService.getLanguageConfiguration(r).brackets,o=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}for(var k=!0;d<l;d++){var p=u.getLanguageId(d);if(r!==p){if(o&&a&&k&&g!==v){var C=c.Vr.findNextBracketInRange(a.forwardRegex,s,h,g,v);if(C)return this._toFoundBracket(o,C);k=!1}r=p,a=this.languageConfigurationService.getLanguageConfiguration(r).brackets,o=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}var y=!!a&&!(0,f.Bu)(u.getStandardTokenType(d));if(y)k||(g=u.getStartOffset(d)),v=u.getEndOffset(d);else if(o&&a&&k&&g!==v){var b=c.Vr.findNextBracketInRange(a.forwardRegex,s,h,g,v);if(b)return this._toFoundBracket(o,b)}k=y}if(o&&a&&k&&g!==v){var _=c.Vr.findNextBracketInRange(a.forwardRegex,s,h,g,v);if(_)return this._toFoundBracket(o,_)}}return null}},{key:"findEnclosingBrackets",value:function(e,t){var n=this,i=this.textModel.validatePosition(e);if(this.canBuildAST){var r=h.e.fromPositions(i),a=this.getBracketPairsInRange(h.e.fromPositions(i,i)).findLast((function(e){return void 0!==e.closingBracketRange&&e.range.strictContainsRange(r)}));return a?[a.openingBracketRange,a.closingBracketRange]:null}for(var o=B(t),s=this.textModel.getLineCount(),u=new Map,l=[],d=function(e,t){if(!u.has(e)){for(var n=[],i=0,r=t?t.brackets.length:0;i<r;i++)n[i]=0;u.set(e,n)}l=u.get(e)},g=0,v=function(e,t,i,r,a){for(;;){if(o&&++g%100===0&&!o())return Z.INSTANCE;var s=c.Vr.findNextBracketInRange(e.forwardRegex,t,i,r,a);if(!s)break;var u=i.substring(s.startColumn-1,s.endColumn-1).toLowerCase(),h=e.textIsBracket[u];if(h&&(h.isOpen(u)?l[h.index]++:h.isClose(u)&&l[h.index]--,-1===l[h.index]))return n._matchFoundBracket(s,h,!1,o);r=s.endColumn-1}return null},m=null,k=null,p=i.lineNumber;p<=s;p++){var C=this.textModel.tokenization.getLineTokens(p),y=C.getCount(),b=this.textModel.getLineContent(p),_=0,I=0,w=0;if(p===i.lineNumber){_=C.findTokenIndexAtOffset(i.column-1),I=i.column-1,w=i.column-1;var x=C.getLanguageId(_);m!==x&&d(m=x,k=this.languageConfigurationService.getLanguageConfiguration(m).brackets)}for(var L=!0;_<y;_++){var S=C.getLanguageId(_);if(m!==S){if(k&&L&&I!==w){var E=v(k,p,b,I,w);if(E)return N(E);L=!1}d(m=S,k=this.languageConfigurationService.getLanguageConfiguration(m).brackets)}var R=!!k&&!(0,f.Bu)(C.getStandardTokenType(_));if(R)L||(I=C.getStartOffset(_)),w=C.getEndOffset(_);else if(k&&L&&I!==w){var O=v(k,p,b,I,w);if(O)return N(O)}L=R}if(k&&L&&I!==w){var T=v(k,p,b,I,w);if(T)return N(T)}}return null}},{key:"_toFoundBracket",value:function(e,t){if(!t)return null;var n=this.textModel.getValueInRange(t);n=n.toLowerCase();var i=e.getBracketInfo(n);return i?{range:t,bracketInfo:i}:null}}]),n}(l.JT);function B(e){if("undefined"===typeof e)return function(){return!0};var t=Date.now();return function(){return Date.now()-t<=e}}var Z=(0,r.Z)((function e(){(0,i.Z)(this,e),this._searchCanceledBrand=void 0}));function N(e){return e instanceof Z?null:e}Z.INSTANCE=new Z},43525:function(e,t,n){n.d(t,{BH:function(){return b},Dm:function(){return I},Kd:function(){return d},Y0:function(){return g},n2:function(){return _}});var i=n(649),r=n(67591),a=n(99616),o=n(22951),s=n(91976),u=n(33309),l=n(20596),h=n(25440),f=n(99235),c=function(){function e(t){(0,o.Z)(this,e),this._length=t}return(0,s.Z)(e,[{key:"length",get:function(){return this._length}}]),e}(),d=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,r,a,s){var u;return(0,o.Z)(this,n),(u=t.call(this,e)).openingBracket=i,u.child=r,u.closingBracket=a,u.missingOpeningBracketIds=s,u}return(0,s.Z)(n,[{key:"kind",get:function(){return 2}},{key:"listHeight",get:function(){return 0}},{key:"childrenLength",get:function(){return 3}},{key:"getChild",value:function(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}},{key:"children",get:function(){var e=[];return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}},{key:"canBeReused",value:function(e){return null!==this.closingBracket&&!e.intersects(this.missingOpeningBracketIds)}},{key:"deepClone",value:function(){return new n(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}},{key:"computeMinIndentation",value:function(e,t){return this.child?this.child.computeMinIndentation((0,h.Ii)(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}],[{key:"create",value:function(e,t,i){var r=e.length;return t&&(r=(0,h.Ii)(r,t.length)),i&&(r=(0,h.Ii)(r,i.length)),new n(r,e,t,i,t?t.missingOpeningBracketIds:f.tS.getEmpty())}}]),n}(c),g=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,r){var a;return(0,o.Z)(this,n),(a=t.call(this,e)).listHeight=i,a._missingOpeningBracketIds=r,a.cachedMinIndentation=-1,a}return(0,s.Z)(n,[{key:"kind",get:function(){return 4}},{key:"missingOpeningBracketIds",get:function(){return this._missingOpeningBracketIds}},{key:"throwIfImmutable",value:function(){}},{key:"makeLastElementMutable",value:function(){this.throwIfImmutable();var e=this.childrenLength;if(0!==e){var t=this.getChild(e-1),n=4===t.kind?t.toMutable():t;return t!==n&&this.setChild(e-1,n),n}}},{key:"makeFirstElementMutable",value:function(){if(this.throwIfImmutable(),0!==this.childrenLength){var e=this.getChild(0),t=4===e.kind?e.toMutable():e;return e!==t&&this.setChild(0,t),t}}},{key:"canBeReused",value:function(e){if(e.intersects(this.missingOpeningBracketIds))return!1;if(0===this.childrenLength)return!1;for(var t=this;4===t.kind;){var n=t.childrenLength;if(0===n)throw new u.he;t=t.getChild(n-1)}return t.canBeReused(e)}},{key:"handleChildrenChanged",value:function(){this.throwIfImmutable();for(var e=this.childrenLength,t=this.getChild(0).length,n=this.getChild(0).missingOpeningBracketIds,i=1;i<e;i++){var r=this.getChild(i);t=(0,h.Ii)(t,r.length),n=n.merge(r.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=n,this.cachedMinIndentation=-1}},{key:"computeMinIndentation",value:function(e,t){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;for(var n=Number.MAX_SAFE_INTEGER,i=e,r=0;r<this.childrenLength;r++){var a=this.getChild(r);a&&(n=Math.min(n,a.computeMinIndentation(i,t)),i=(0,h.Ii)(i,a.length))}return this.cachedMinIndentation=n,n}}],[{key:"create23",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.length,a=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(r=(0,h.Ii)(r,t.length),a=a.merge(t.missingOpeningBracketIds),n){if(e.listHeight!==n.listHeight)throw new Error("Invalid list heights");r=(0,h.Ii)(r,n.length),a=a.merge(n.missingOpeningBracketIds)}return i?new m(r,e.listHeight+1,e,t,n,a):new v(r,e.listHeight+1,e,t,n,a)}},{key:"getEmpty",value:function(){return new p(h.xl,0,[],f.tS.getEmpty())}}]),n}(c),v=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,r,a,s,u){var l;return(0,o.Z)(this,n),(l=t.call(this,e,i,u))._item1=r,l._item2=a,l._item3=s,l}return(0,s.Z)(n,[{key:"childrenLength",get:function(){return null!==this._item3?3:2}},{key:"getChild",value:function(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}},{key:"setChild",value:function(e,t){switch(e){case 0:return void(this._item1=t);case 1:return void(this._item2=t);case 2:return void(this._item3=t)}throw new Error("Invalid child index")}},{key:"children",get:function(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}},{key:"item1",get:function(){return this._item1}},{key:"item2",get:function(){return this._item2}},{key:"item3",get:function(){return this._item3}},{key:"deepClone",value:function(){return new n(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}},{key:"appendChildOfSameHeight",value:function(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}},{key:"unappendChild",value:function(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();var e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}},{key:"prependChildOfSameHeight",value:function(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}},{key:"unprependChild",value:function(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();var e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}},{key:"toMutable",value:function(){return this}}]),n}(g),m=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"toMutable",value:function(){return new v(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}},{key:"throwIfImmutable",value:function(){throw new Error("this instance is immutable")}}]),n}(v),k=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,r,a){var s;return(0,o.Z)(this,n),(s=t.call(this,e,i,a))._children=r,s}return(0,s.Z)(n,[{key:"childrenLength",get:function(){return this._children.length}},{key:"getChild",value:function(e){return this._children[e]}},{key:"setChild",value:function(e,t){this._children[e]=t}},{key:"children",get:function(){return this._children}},{key:"deepClone",value:function(){for(var e=new Array(this._children.length),t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new n(this.length,this.listHeight,e,this.missingOpeningBracketIds)}},{key:"appendChildOfSameHeight",value:function(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}},{key:"unappendChild",value:function(){this.throwIfImmutable();var e=this._children.pop();return this.handleChildrenChanged(),e}},{key:"prependChildOfSameHeight",value:function(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}},{key:"unprependChild",value:function(){this.throwIfImmutable();var e=this._children.shift();return this.handleChildrenChanged(),e}},{key:"toMutable",value:function(){return this}}]),n}(g),p=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"toMutable",value:function(){return new k(this.length,this.listHeight,(0,i.Z)(this.children),this.missingOpeningBracketIds)}},{key:"throwIfImmutable",value:function(){throw new Error("this instance is immutable")}}]),n}(k),C=[],y=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"listHeight",get:function(){return 0}},{key:"childrenLength",get:function(){return 0}},{key:"getChild",value:function(e){return null}},{key:"children",get:function(){return C}},{key:"deepClone",value:function(){return this}}]),n}(c),b=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"kind",get:function(){return 0}},{key:"missingOpeningBracketIds",get:function(){return f.tS.getEmpty()}},{key:"canBeReused",value:function(e){return!0}},{key:"computeMinIndentation",value:function(e,t){for(var n=(0,h.Hw)(e),i=(0===n.columnCount?n.lineCount:n.lineCount+1)+1,r=(0,h.W9)((0,h.Ii)(e,this.length))+1,a=Number.MAX_SAFE_INTEGER,o=i;o<=r;o++){var s=t.getLineFirstNonWhitespaceColumn(o),u=t.getLineContent(o);if(0!==s){var f=l.i.visibleColumnFromColumn(u,s,t.getOptions().tabSize);a=Math.min(a,f)}}return a}}]),n}(y),_=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,r){var a;return(0,o.Z)(this,n),(a=t.call(this,e)).bracketInfo=i,a.bracketIds=r,a}return(0,s.Z)(n,[{key:"kind",get:function(){return 1}},{key:"missingOpeningBracketIds",get:function(){return f.tS.getEmpty()}},{key:"text",get:function(){return this.bracketInfo.bracketText}},{key:"languageId",get:function(){return this.bracketInfo.languageId}},{key:"canBeReused",value:function(e){return!1}},{key:"computeMinIndentation",value:function(e,t){return Number.MAX_SAFE_INTEGER}}],[{key:"create",value:function(e,t,i){return new n(e,t,i)}}]),n}(y),I=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,i){var r;return(0,o.Z)(this,n),(r=t.call(this,i)).missingOpeningBracketIds=e,r}return(0,s.Z)(n,[{key:"kind",get:function(){return 3}},{key:"canBeReused",value:function(e){return!e.intersects(this.missingOpeningBracketIds)}},{key:"computeMinIndentation",value:function(e,t){return Number.MAX_SAFE_INTEGER}}]),n}(y)},14517:function(e,t,n){n.d(t,{Q:function(){return s},Y:function(){return u}});var i=n(22951),r=n(91976),a=n(55597),o=n(25440),s=function(){function e(t,n,r){(0,i.Z)(this,e),this.startOffset=t,this.endOffset=n,this.newLength=r}return(0,r.Z)(e,[{key:"toString",value:function(){return"[".concat((0,o.Hw)(this.startOffset),"...").concat((0,o.Hw)(this.endOffset),") -> ").concat((0,o.Hw)(this.newLength))}}],[{key:"fromModelContentChanges",value:function(t){return t.map((function(t){var n=a.e.lift(t.range);return new e((0,o.PZ)(n.getStartPosition()),(0,o.PZ)(n.getEndPosition()),(0,o.oR)(t.text))})).reverse()}}]),e}(),u=function(){function e(t){(0,i.Z)(this,e),this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=t.map((function(e){return l.from(e)}))}return(0,r.Z)(e,[{key:"getOffsetBeforeChange",value:function(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}},{key:"getDistanceToNextChange",value:function(e){this.adjustNextEdit(e);var t=this.edits[this.nextEditIdx],n=t?this.translateOldToCur(t.offsetObj):null;return null===n?null:(0,o.BE)(e,n)}},{key:"translateOldToCur",value:function(e){return e.lineCount===this.deltaLineIdxInOld?(0,o.Hg)(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):(0,o.Hg)(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}},{key:"translateCurToOld",value:function(e){var t=(0,o.Hw)(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,o.Hg)(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):(0,o.Hg)(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}},{key:"adjustNextEdit",value:function(e){for(;this.nextEditIdx<this.edits.length;){var t=this.edits[this.nextEditIdx],n=this.translateOldToCur(t.endOffsetAfterObj);if(!(0,o.By)(n,e))break;this.nextEditIdx++;var i=(0,o.Hw)(n),r=(0,o.Hw)(this.translateOldToCur(t.endOffsetBeforeObj)),a=i.lineCount-r.lineCount;this.deltaOldToNewLineCount+=a;var s=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,u=i.columnCount-r.columnCount;this.deltaOldToNewColumnCount=s+u,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}}}]),e}(),l=function(){function e(t,n,r){(0,i.Z)(this,e),this.endOffsetBeforeObj=(0,o.Hw)(n),this.endOffsetAfterObj=(0,o.Hw)((0,o.Ii)(t,r)),this.offsetObj=(0,o.Hw)(t)}return(0,r.Z)(e,null,[{key:"from",value:function(t){return new e(t.startOffset,t.endOffset,t.newLength)}}]),e}()},37200:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(11026),r=n(60726),a=n(649),o=n(22951),s=n(91976),u=n(17224),l=n(43525),h=n(25440),f=n(99235),c=n(39544),d=function(){function e(t){(0,o.Z)(this,e),this.map=t,this.hasRegExp=!1,this._regExpGlobal=null}return(0,s.Z)(e,[{key:"getRegExpStr",value:function(){if(this.isEmpty)return null;var e=(0,a.Z)(this.map.keys());return e.sort(),e.reverse(),e.map((function(e){return function(e){var t=(0,u.ec)(e);/^[\w ]+/.test(e)&&(t="\\b".concat(t));/[\w ]+$/.test(e)&&(t="".concat(t,"\\b"));return t}(e)})).join("|")}},{key:"regExpGlobal",get:function(){if(!this.hasRegExp){var e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}},{key:"getToken",value:function(e){return this.map.get(e.toLowerCase())}},{key:"findClosingTokenText",value:function(e){var t,n=(0,r.Z)(this.map);try{for(n.s();!(t=n.n()).done;){var a=(0,i.Z)(t.value,2),o=a[0],s=a[1];if(2===s.kind&&s.bracketIds.intersects(e))return o}}catch(u){n.e(u)}finally{n.f()}}},{key:"isEmpty",get:function(){return 0===this.map.size}}],[{key:"createFromLanguage",value:function(t,n){function i(e){return n.getKey("".concat(e.languageId,":::").concat(e.bracketText))}var a,o=new Map,s=(0,r.Z)(t.bracketsNew.openingBrackets);try{for(s.s();!(a=s.n()).done;){var u=a.value,d=(0,h.Hg)(0,u.bracketText.length),g=i(u),v=f.tS.getEmpty().add(g,f.Qw);o.set(u.bracketText,new c.WU(d,1,g,v,l.n2.create(d,u,v)))}}catch(x){s.e(x)}finally{s.f()}var m,k=(0,r.Z)(t.bracketsNew.closingBrackets);try{for(k.s();!(m=k.n()).done;){var p,C=m.value,y=(0,h.Hg)(0,C.bracketText.length),b=f.tS.getEmpty(),_=C.getOpeningBrackets(),I=(0,r.Z)(_);try{for(I.s();!(p=I.n()).done;){var w=p.value;b=b.add(i(w),f.Qw)}}catch(x){I.e(x)}finally{I.f()}o.set(C.bracketText,new c.WU(y,2,i(_[0]),b,l.n2.create(y,C,b)))}}catch(x){k.e(x)}finally{k.f()}return new e(o)}}]),e}();var g=function(){function e(t,n){(0,o.Z)(this,e),this.denseKeyProvider=t,this.getLanguageConfiguration=n,this.languageIdToBracketTokens=new Map}return(0,s.Z)(e,[{key:"didLanguageChange",value:function(e){return this.languageIdToBracketTokens.has(e)}},{key:"getSingleLanguageBracketTokens",value:function(e){var t=this.languageIdToBracketTokens.get(e);return t||(t=d.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}]),e}()},25440:function(e,t,n){n.d(t,{BE:function(){return C},By:function(){return b},F_:function(){return v},Hg:function(){return c},Hw:function(){return d},Ii:function(){return m},PZ:function(){return I},Qw:function(){return w},VR:function(){return y},W9:function(){return g},Zq:function(){return _},av:function(){return u},oR:function(){return x},rM:function(){return p},tQ:function(){return k},xd:function(){return h},xl:function(){return l}});var i=n(22951),r=n(91976),a=n(17224),o=n(55597),s=function(){function e(t,n){(0,i.Z)(this,e),this.lineCount=t,this.columnCount=n}return(0,r.Z)(e,[{key:"toString",value:function(){return"".concat(this.lineCount,",").concat(this.columnCount)}}]),e}();function u(e,t,n,i){return e!==n?c(n-e,i):c(0,i-t)}s.zero=new s(0,0);var l=0;function h(e){return 0===e}var f=Math.pow(2,26);function c(e,t){return e*f+t}function d(e){var t=e,n=Math.floor(t/f);return new s(n,t-n*f)}function g(e){return Math.floor(e/f)}function v(e){return e}function m(e,t){var n=e+t;return t>=f&&(n-=e%f),n}function k(e,t){return e.reduce((function(e,n){return m(e,t(n))}),l)}function p(e,t){return e===t}function C(e,t){var n=e,i=t;if(i-n<=0)return l;var r=Math.floor(n/f),a=Math.floor(i/f),o=i-a*f;return r===a?c(0,o-(n-r*f)):c(a-r,o)}function y(e,t){return e<t}function b(e,t){return e<=t}function _(e,t){return e>=t}function I(e){return c(e.lineNumber-1,e.column-1)}function w(e,t){var n=e,i=Math.floor(n/f),r=n-i*f,a=t,s=Math.floor(a/f),u=a-s*f;return new o.e(i+1,r+1,s+1,u+1)}function x(e){var t=(0,a.uq)(e);return c(t.length-1,t[t.length-1].length)}},80887:function(e,t,n){n.d(t,{w:function(){return v}});var i=n(22951),r=n(91976),a=n(43525),o=n(14517),s=n(99235),u=n(25440);function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e.length)return null;if(1===e.length)return e[0];for(var n=e.length;n>3;){for(var i=n>>1,r=0;r<i;r++){var o=r<<1;e[r]=a.Y0.create23(e[o],e[o+1],o+3===n?e[o+2]:null,t)}n=i}return a.Y0.create23(e[0],e[1],n>=3?e[2]:null,t)}function h(e,t){return Math.abs(e.listHeight-t.listHeight)}function f(e,t){return e.listHeight===t.listHeight?a.Y0.create23(e,t,null,!1):e.listHeight>t.listHeight?function(e,t){var n,i=e=e.toMutable(),r=[];for(;;){if(t.listHeight===i.listHeight){n=t;break}if(4!==i.kind)throw new Error("unexpected");r.push(i),i=i.makeLastElementMutable()}for(var o=r.length-1;o>=0;o--){var s=r[o];n?s.childrenLength>=3?n=a.Y0.create23(s.unappendChild(),n,null,!1):(s.appendChildOfSameHeight(n),n=void 0):s.handleChildrenChanged()}return n?a.Y0.create23(e,n,null,!1):e}(e,t):function(e,t){var n=e=e.toMutable(),i=[];for(;t.listHeight!==n.listHeight;){if(4!==n.kind)throw new Error("unexpected");i.push(n),n=n.makeFirstElementMutable()}for(var r=t,o=i.length-1;o>=0;o--){var s=i[o];r?s.childrenLength>=3?r=a.Y0.create23(r,s.unprependChild(),null,!1):(s.prependChildOfSameHeight(r),r=void 0):s.handleChildrenChanged()}return r?a.Y0.create23(r,e,null,!1):e}(t,e)}var c=function(){function e(t){(0,i.Z)(this,e),this.lastOffset=u.xl,this.nextNodes=[t],this.offsets=[u.xl],this.idxs=[]}return(0,r.Z)(e,[{key:"readLongestNodeAt",value:function(e,t){if((0,u.VR)(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){var n=g(this.nextNodes);if(!n)return;var i=g(this.offsets);if((0,u.VR)(e,i))return;if((0,u.VR)(i,e))if((0,u.Ii)(i,n.length)<=e)this.nextNodeAfterCurrent();else{var r=d(n);-1!==r?(this.nextNodes.push(n.getChild(r)),this.offsets.push(i),this.idxs.push(r)):this.nextNodeAfterCurrent()}else{if(t(n))return this.nextNodeAfterCurrent(),n;var a=d(n);if(-1===a)return void this.nextNodeAfterCurrent();this.nextNodes.push(n.getChild(a)),this.offsets.push(i),this.idxs.push(a)}}}},{key:"nextNodeAfterCurrent",value:function(){for(;;){var e=g(this.offsets),t=g(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;var n=g(this.nextNodes),i=d(n,this.idxs[this.idxs.length-1]);if(-1!==i){this.nextNodes.push(n.getChild(i)),this.offsets.push((0,u.Ii)(e,t.length)),this.idxs[this.idxs.length-1]=i;break}this.idxs.pop()}}}]),e}();function d(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;;){if(++t>=e.childrenLength)return-1;if(e.getChild(t))return t}}function g(e){return e.length>0?e[e.length-1]:void 0}function v(e,t,n,i){return new m(e,t,n,i).parseDocument()}var m=function(){function e(t,n,r,a){if((0,i.Z)(this,e),this.tokenizer=t,this.createImmutableLists=a,this._itemsConstructed=0,this._itemsFromCache=0,r&&a)throw new Error("Not supported");this.oldNodeReader=r?new c(r):void 0,this.positionMapper=new o.Y(n)}return(0,r.Z)(e,[{key:"parseDocument",value:function(){this._itemsConstructed=0,this._itemsFromCache=0;var e=this.parseList(s.tS.getEmpty(),0);return e||(e=a.Y0.getEmpty()),e}},{key:"parseList",value:function(e,t){for(var n=[];;){var i=this.tryReadChildFromCache(e);if(!i){var r=this.tokenizer.peek();if(!r||2===r.kind&&r.bracketIds.intersects(e))break;i=this.parseChild(e,t+1)}4===i.kind&&0===i.childrenLength||n.push(i)}var a=this.oldNodeReader?function(e){if(0===e.length)return null;if(1===e.length)return e[0];var t=0;function n(){if(t>=e.length)return null;var n=t,i=e[n].listHeight;for(t++;t<e.length&&e[t].listHeight===i;)t++;return t-n>=2?l(0===n&&t===e.length?e:e.slice(n,t),!1):e[n]}var i=n(),r=n();if(!r)return i;for(var a=n();a;a=n())h(i,r)<=h(r,a)?(i=f(i,r),r=a):r=f(r,a);return f(i,r)}(n):l(n,this.createImmutableLists);return a}},{key:"tryReadChildFromCache",value:function(e){if(this.oldNodeReader){var t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(null===t||!(0,u.xd)(t)){var n=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(function(n){return!(null!==t&&!(0,u.VR)(n.length,t))&&n.canBeReused(e)}));if(n)return this._itemsFromCache++,this.tokenizer.skip(n.length),n}}}},{key:"parseChild",value:function(e,t){this._itemsConstructed++;var n=this.tokenizer.read();switch(n.kind){case 2:return new a.Dm(n.bracketIds,n.length);case 0:return n.astNode;case 1:if(t>300)return new a.BH(n.length);var i=e.merge(n.bracketIds),r=this.parseList(i,t+1),o=this.tokenizer.peek();return o&&2===o.kind&&(o.bracketId===n.bracketId||o.bracketIds.intersects(n.bracketIds))?(this.tokenizer.read(),a.Kd.create(n.astNode,r,o.astNode)):a.Kd.create(n.astNode,r,null);default:throw new Error("unexpected")}}}]),e}()},99235:function(e,t,n){n.d(t,{FE:function(){return u},Qw:function(){return s},tS:function(){return o}});var i=n(22951),r=n(91976),a=[],o=function(){function e(t,n){(0,i.Z)(this,e),this.items=t,this.additionalItems=n}return(0,r.Z)(e,[{key:"add",value:function(t,n){var i=n.getKey(t),r=i>>5;if(0===r){var a=1<<i|this.items;return a===this.items?this:e.create(a,this.additionalItems)}r--;for(var o=this.additionalItems.slice(0);o.length<r;)o.push(0);return o[r]|=1<<(31&i),e.create(this.items,o)}},{key:"merge",value:function(t){var n=this.items|t.items;if(this.additionalItems===a&&t.additionalItems===a)return n===this.items?this:n===t.items?t:e.create(n,a);for(var i=[],r=0;r<Math.max(this.additionalItems.length,t.additionalItems.length);r++){var o=this.additionalItems[r]||0,s=t.additionalItems[r]||0;i.push(o|s)}return e.create(n,i)}},{key:"intersects",value:function(e){if(0!==(this.items&e.items))return!0;for(var t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(0!==(this.additionalItems[t]&e.additionalItems[t]))return!0;return!1}}],[{key:"create",value:function(t,n){if(t<=128&&0===n.length){var i=e.cache[t];return i||(i=new e(t,n),e.cache[t]=i),i}return new e(t,n)}},{key:"getEmpty",value:function(){return this.empty}}]),e}();o.cache=new Array(129),o.empty=o.create(0,a);var s={getKey:function(e){return e}},u=function(){function e(){(0,i.Z)(this,e),this.items=new Map}return(0,r.Z)(e,[{key:"getKey",value:function(e){var t=this.items.get(e);return void 0===t&&(t=this.items.size,this.items.set(e,t)),t}}]),e}()},39544:function(e,t,n){n.d(t,{WU:function(){return h},g:function(){return d},xH:function(){return f}});var i=n(91976),r=n(22951),a=n(33309),o=n(95971),s=n(43525),u=n(25440),l=n(99235),h=(0,i.Z)((function e(t,n,i,a,o){(0,r.Z)(this,e),this.length=t,this.kind=n,this.bracketId=i,this.bracketIds=a,this.astNode=o})),f=function(){function e(t,n){(0,r.Z)(this,e),this.textModel=t,this.bracketTokens=n,this.reader=new c(this.textModel,this.bracketTokens),this._offset=u.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}return(0,i.Z)(e,[{key:"offset",get:function(){return this._offset}},{key:"length",get:function(){return(0,u.Hg)(this.textBufferLineCount-1,this.textBufferLastLineLength)}},{key:"skip",value:function(e){this.didPeek=!1,this._offset=(0,u.Ii)(this._offset,e);var t=(0,u.Hw)(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}},{key:"read",value:function(){var e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=(0,u.Ii)(this._offset,e.length)),e}},{key:"peek",value:function(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}]),e}(),c=function(){function e(t,n){(0,r.Z)(this,e),this.textModel=t,this.bracketTokens=n,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=t.getLineCount(),this.textBufferLastLineLength=t.getLineLength(this.textBufferLineCount)}return(0,i.Z)(e,[{key:"setPosition",value:function(e,t){e===this.lineIdx?(this.lineCharOffset=t,null!==this.line&&(this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}},{key:"read",value:function(){if(this.peekedToken){var e=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,u.F_)(e.length),e}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));for(var t=this.lineIdx,n=this.lineCharOffset,i=0;;){var r=this.lineTokens,a=r.getCount(),f=null;if(this.lineTokenOffset<a){for(var c=r.getMetadata(this.lineTokenOffset);this.lineTokenOffset+1<a&&c===r.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;var d=0===o.N.getTokenType(c),g=o.N.containsBalancedBrackets(c),v=r.getEndOffset(this.lineTokenOffset);if(g&&d&&this.lineCharOffset<v){var m=r.getLanguageId(this.lineTokenOffset),k=this.line.substring(this.lineCharOffset,v),p=this.bracketTokens.getSingleLanguageBracketTokens(m),C=p.regExpGlobal;if(C){C.lastIndex=0;var y=C.exec(k);y&&(f=p.getToken(y[0]))&&(this.lineCharOffset+=y.index)}}if(i+=v-this.lineCharOffset,f){if(t!==this.lineIdx||n!==this.lineCharOffset){this.peekedToken=f;break}return this.lineCharOffset+=(0,u.F_)(f.length),f}this.lineTokenOffset++,this.lineCharOffset=v}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,(i+=33)>1e3)break}if(i>1500)break}var b=(0,u.av)(t,n,this.lineIdx,this.lineCharOffset);return new h(b,0,-1,l.tS.getEmpty(),new s.BH(b))}}]),e}(),d=function(){function e(t,n){(0,r.Z)(this,e),this.text=t,this._offset=u.xl,this.idx=0;for(var i,a=n.getRegExpStr(),o=a?new RegExp(a+"|\n","gi"):null,f=[],c=0,d=0,g=0,v=0,m=[],k=0;k<60;k++)m.push(new h((0,u.Hg)(0,k),0,-1,l.tS.getEmpty(),new s.BH((0,u.Hg)(0,k))));for(var p=[],C=0;C<60;C++)p.push(new h((0,u.Hg)(1,C),0,-1,l.tS.getEmpty(),new s.BH((0,u.Hg)(1,C))));if(o)for(o.lastIndex=0;null!==(i=o.exec(t));){var y=i.index,b=i[0];if("\n"===b)c++,d=y+1;else{if(g!==y){var _=void 0;if(v===c){var I=y-g;if(I<m.length)_=m[I];else{var w=(0,u.Hg)(0,I);_=new h(w,0,-1,l.tS.getEmpty(),new s.BH(w))}}else{var x=c-v,L=y-d;if(1===x&&L<p.length)_=p[L];else{var S=(0,u.Hg)(x,L);_=new h(S,0,-1,l.tS.getEmpty(),new s.BH(S))}}f.push(_)}f.push(n.getToken(b)),g=y+b.length,v=c}}var E=t.length;if(g!==E){var R=v===c?(0,u.Hg)(0,E-g):(0,u.Hg)(c-v,E-d);f.push(new h(R,0,-1,l.tS.getEmpty(),new s.BH(R)))}this.length=(0,u.Hg)(c,E-d),this.tokens=f}return(0,i.Z)(e,[{key:"offset",get:function(){return this._offset}},{key:"read",value:function(){return this.tokens[this.idx++]||null}},{key:"peek",value:function(){return this.tokens[this.idx]||null}},{key:"skip",value:function(e){throw new a.B8}}]),e}()},36554:function(e,t,n){n.d(t,{z:function(){return c}});var i=n(22951),r=n(91976),a=n(67591),o=n(99616),s=n(68515),u=n(59652),l=n(55597),h=n(78873),f=n(58023),c=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this)).textModel=e,r.colorProvider=new d,r.onDidChangeEmitter=new s.Q5,r.onDidChange=r.onDidChangeEmitter.event,r.colorizationOptions=e.getOptions().bracketPairColorizationOptions,r._register(e.bracketPairs.onDidChange((function(e){r.onDidChangeEmitter.fire()}))),r}return(0,r.Z)(n,[{key:"handleDidChangeOptions",value:function(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}},{key:"getDecorationsInRange",value:function(e,t,n,i){var r=this;return i||void 0===t?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(e,!0).map((function(e){return{id:"bracket".concat(e.range.toString(),"-").concat(e.nestingLevel),options:{description:"BracketPairColorization",inlineClassName:r.colorProvider.getInlineClassName(e,r.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:e.range}})).toArray():[]}},{key:"getAllDecorations",value:function(e,t){return void 0===e?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new l.e(1,1,this.textModel.getLineCount(),1),e,t):[]}}]),n}(u.JT),d=function(){function e(){(0,i.Z)(this,e),this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}return(0,r.Z)(e,[{key:"getInlineClassName",value:function(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}},{key:"getInlineClassNameOfLevel",value:function(e){return"bracket-highlighting-".concat(e%30)}}]),e}();(0,f.Ic)((function(e,t){var n=[h.zJ,h.Vs,h.CE,h.UP,h.r0,h.m1],i=new d;t.addRule(".monaco-editor .".concat(i.unexpectedClosingBracketClassName," { color: ").concat(e.getColor(h.ts),"; }"));for(var r=n.map((function(t){return e.getColor(t)})).filter((function(e){return!!e})).filter((function(e){return!e.isTransparent()})),a=0;a<30;a++){var o=r[a%r.length];t.addRule(".monaco-editor .".concat(i.getInlineClassNameOfLevel(a)," { color: ").concat(o,"; }"))}}))},38751:function(e,t,n){n.d(t,{r:function(){return f}});var i=n(22951),r=n(91976),a=n(60726),o=n(37200),s=n(25440),u=n(80887),l=n(99235),h=n(39544);function f(e,t){var n=new l.FE,i=new o.Z(n,(function(e){return t.getLanguageConfiguration(e)})),r=new h.xH(new c([e]),i),f=(0,u.w)(r,[],void 0,!0),d="",g=e.getLineContent();return function e(t,n){if(2===t.kind)if(e(t.openingBracket,n),n=(0,s.Ii)(n,t.openingBracket.length),t.child&&(e(t.child,n),n=(0,s.Ii)(n,t.child.length)),t.closingBracket)e(t.closingBracket,n),n=(0,s.Ii)(n,t.closingBracket.length);else{var r=i.getSingleLanguageBracketTokens(t.openingBracket.languageId).findClosingTokenText(t.openingBracket.bracketIds);d+=r}else if(3===t.kind);else if(0===t.kind||1===t.kind)d+=g.substring((0,s.F_)(n),(0,s.F_)((0,s.Ii)(n,t.length)));else if(4===t.kind){var o,u=(0,a.Z)(t.children);try{for(u.s();!(o=u.n()).done;){var l=o.value;e(l,n),n=(0,s.Ii)(n,l.length)}}catch(h){u.e(h)}finally{u.f()}}}(f,s.xl),d}var c=function(){function e(t){var n=this;(0,i.Z)(this,e),this.lines=t,this.tokenization={getLineTokens:function(e){return n.lines[e-1]}}}return(0,r.Z)(e,[{key:"getLineCount",value:function(){return this.lines.length}},{key:"getLineLength",value:function(e){return this.lines[e-1].getLineContent().length}}]),e}()},25010:function(e,t,n){n.d(t,{NL:function(){return C},e9:function(){return p}});var i=n(60726),r=n(22951),a=n(91976),o=n(26511),s=n(33309),u=n(80253),l=n(71308),h=n(98338),f=n(61161),c=n(63670);function d(e){return e.toString()}var g=function(){function e(t,n,i,a,o,s,u){(0,r.Z)(this,e),this.beforeVersionId=t,this.afterVersionId=n,this.beforeEOL=i,this.afterEOL=a,this.beforeCursorState=o,this.afterCursorState=s,this.changes=u}return(0,a.Z)(e,[{key:"append",value:function(e,t,n,i,r){t.length>0&&(this.changes=(0,h.b)(this.changes,t)),this.afterEOL=n,this.afterVersionId=i,this.afterCursorState=r}},{key:"serialize",value:function(){var t,n=10+e._writeSelectionsSize(this.beforeCursorState)+e._writeSelectionsSize(this.afterCursorState)+4,r=(0,i.Z)(this.changes);try{for(r.s();!(t=r.n()).done;){n+=t.value.writeSize()}}catch(l){r.e(l)}finally{r.f()}var a=new Uint8Array(n),o=0;f.T4(a,this.beforeVersionId,o),o+=4,f.T4(a,this.afterVersionId,o),o+=4,f.Cg(a,this.beforeEOL,o),o+=1,f.Cg(a,this.afterEOL,o),o+=1,o=e._writeSelections(a,this.beforeCursorState,o),o=e._writeSelections(a,this.afterCursorState,o),f.T4(a,this.changes.length,o),o+=4;var s,u=(0,i.Z)(this.changes);try{for(u.s();!(s=u.n()).done;){o=s.value.write(a,o)}}catch(l){u.e(l)}finally{u.f()}return a.buffer}}],[{key:"create",value:function(t,n){var i=t.getAlternativeVersionId(),r=k(t);return new e(i,i,r,r,n,n,[])}},{key:"_writeSelectionsSize",value:function(e){return 4+16*(e?e.length:0)}},{key:"_writeSelections",value:function(e,t,n){if(f.T4(e,t?t.length:0,n),n+=4,t){var r,a=(0,i.Z)(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;f.T4(e,o.selectionStartLineNumber,n),n+=4,f.T4(e,o.selectionStartColumn,n),n+=4,f.T4(e,o.positionLineNumber,n),n+=4,f.T4(e,o.positionColumn,n),n+=4}}catch(s){a.e(s)}finally{a.f()}}return n}},{key:"_readSelections",value:function(e,t,n){var i=f.Ag(e,t);t+=4;for(var r=0;r<i;r++){var a=f.Ag(e,t);t+=4;var o=f.Ag(e,t);t+=4;var s=f.Ag(e,t);t+=4;var l=f.Ag(e,t);t+=4,n.push(new u.Y(a,o,s,l))}return t}},{key:"deserialize",value:function(t){var n=new Uint8Array(t),i=0,r=f.Ag(n,i);i+=4;var a=f.Ag(n,i);i+=4;var o=f.Q$(n,i);i+=1;var s=f.Q$(n,i);i+=1;var u=[];i=e._readSelections(n,i,u);var l=[];i=e._readSelections(n,i,l);var c=f.Ag(n,i);i+=4;for(var d=[],g=0;g<c;g++)i=h.q.read(n,i,d);return new e(r,a,o,s,u,l,d)}}]),e}(),v=function(){function e(t,n,i,a){(0,r.Z)(this,e),this.label=t,this.code=n,this.model=i,this._data=g.create(i,a)}return(0,a.Z)(e,[{key:"type",get:function(){return 0}},{key:"resource",get:function(){return l.o.isUri(this.model)?this.model:this.model.uri}},{key:"toString",value:function(){return(this._data instanceof g?this._data:g.deserialize(this._data)).changes.map((function(e){return e.toString()})).join(", ")}},{key:"matchesResource",value:function(e){return(l.o.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}},{key:"setModel",value:function(e){this.model=e}},{key:"canAppend",value:function(e){return this.model===e&&this._data instanceof g}},{key:"append",value:function(e,t,n,i,r){this._data instanceof g&&this._data.append(e,t,n,i,r)}},{key:"close",value:function(){this._data instanceof g&&(this._data=this._data.serialize())}},{key:"open",value:function(){this._data instanceof g||(this._data=g.deserialize(this._data))}},{key:"undo",value:function(){if(l.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());var e=g.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}},{key:"redo",value:function(){if(l.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());var e=g.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}},{key:"heapSize",value:function(){return this._data instanceof g&&(this._data=this._data.serialize()),this._data.byteLength+168}}]),e}(),m=function(){function e(t,n,a){(0,r.Z)(this,e),this.label=t,this.code=n,this.type=1,this._isOpen=!0,this._editStackElementsArr=a.slice(0),this._editStackElementsMap=new Map;var o,s=(0,i.Z)(this._editStackElementsArr);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=d(u.resource);this._editStackElementsMap.set(l,u)}}catch(h){s.e(h)}finally{s.f()}this._delegate=null}return(0,a.Z)(e,[{key:"resources",get:function(){return this._editStackElementsArr.map((function(e){return e.resource}))}},{key:"prepareUndoRedo",value:function(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}},{key:"matchesResource",value:function(e){var t=d(e);return this._editStackElementsMap.has(t)}},{key:"setModel",value:function(e){var t=d(l.o.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}},{key:"canAppend",value:function(e){if(!this._isOpen)return!1;var t=d(e.uri);return!!this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).canAppend(e)}},{key:"append",value:function(e,t,n,i,r){var a=d(e.uri);this._editStackElementsMap.get(a).append(e,t,n,i,r)}},{key:"close",value:function(){this._isOpen=!1}},{key:"open",value:function(){}},{key:"undo",value:function(){this._isOpen=!1;var e,t=(0,i.Z)(this._editStackElementsArr);try{for(t.s();!(e=t.n()).done;){e.value.undo()}}catch(n){t.e(n)}finally{t.f()}}},{key:"redo",value:function(){var e,t=(0,i.Z)(this._editStackElementsArr);try{for(t.s();!(e=t.n()).done;){e.value.redo()}}catch(n){t.e(n)}finally{t.f()}}},{key:"heapSize",value:function(e){var t=d(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}},{key:"split",value:function(){return this._editStackElementsArr}},{key:"toString",value:function(){var e,t=[],n=(0,i.Z)(this._editStackElementsArr);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push("".concat((0,c.EZ)(r.resource),": ").concat(r))}}catch(a){n.e(a)}finally{n.f()}return"{".concat(t.join(", "),"}")}}]),e}();function k(e){return"\n"===e.getEOL()?0:1}function p(e){return!!e&&(e instanceof v||e instanceof m)}var C=function(){function e(t,n){(0,r.Z)(this,e),this._model=t,this._undoRedoService=n}return(0,a.Z)(e,[{key:"pushStackElement",value:function(){var e=this._undoRedoService.getLastElement(this._model.uri);p(e)&&e.close()}},{key:"popStackElement",value:function(){var e=this._undoRedoService.getLastElement(this._model.uri);p(e)&&e.open()}},{key:"clear",value:function(){this._undoRedoService.removeElements(this._model.uri)}},{key:"_getOrCreateEditStackElement",value:function(e,t){var n=this._undoRedoService.getLastElement(this._model.uri);if(p(n)&&n.canAppend(this._model))return n;var i=new v(o.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(i,t),i}},{key:"pushEOL",value:function(e){var t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],k(this._model),this._model.getAlternativeVersionId(),null)}},{key:"pushEditOperation",value:function(t,n,i,r){var a=this._getOrCreateEditStackElement(t,r),o=this._model.applyEdits(n,!0),s=e._computeCursorState(i,o),u=o.map((function(e,t){return{index:t,textChange:e.textChange}}));return u.sort((function(e,t){return e.textChange.oldPosition===t.textChange.oldPosition?e.index-t.index:e.textChange.oldPosition-t.textChange.oldPosition})),a.append(this._model,u.map((function(e){return e.textChange})),k(this._model),this._model.getAlternativeVersionId(),s),s}}],[{key:"_computeCursorState",value:function(e,t){try{return e?e(t):null}catch(n){return(0,s.dL)(n),null}}}]),e}()},59875:function(e,t,n){n.d(t,{v:function(){return o}});var i=n(22951),r=n(91976),a=n(88648),o=function(){function e(t){(0,i.Z)(this,e),this._default=t,this._store=[]}return(0,r.Z)(e,[{key:"get",value:function(e){return e<this._store.length?this._store[e]:this._default}},{key:"set",value:function(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}},{key:"replace",value:function(e,t,n){if(!(e>=this._store.length))if(0!==t)if(0!==n){var i=this._store.slice(0,e),r=this._store.slice(e+t),a=function(e,t){for(var n=[],i=0;i<e;i++)n[i]=t;return n}(n,this._default);this._store=i.concat(a,r)}else this.delete(e,t);else this.insert(e,n)}},{key:"delete",value:function(e,t){0===t||e>=this._store.length||this._store.splice(e,t)}},{key:"insert",value:function(e,t){if(!(0===t||e>=this._store.length)){for(var n=[],i=0;i<t;i++)n[i]=this._default;this._store=(0,a.Zv)(this._store,e,n)}}}]),e}()},25011:function(e,t,n){n.d(t,{W:function(){return k},l:function(){return m}});var i=n(60726),r=n(22951),a=n(91976),o=n(67591),s=n(99616),u=n(88648),l=n(17224),h=n(20596),f=n(55597),c=n(6670),d=n(46430),g=n(17570),v=n(33309),m=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).textModel=e,a.languageConfigurationService=i,a}return(0,a.Z)(n,[{key:"getLanguageConfiguration",value:function(e){return this.languageConfigurationService.getLanguageConfiguration(e)}},{key:"_computeIndentLevel",value:function(e){return(0,d.q)(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}},{key:"getActiveIndentGuide",value:function(e,t,n){var i=this;this.assertNotDisposed();var r=this.textModel.getLineCount();if(e<1||e>r)throw new v.he("Illegal value for lineNumber");for(var a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,o=Boolean(a&&a.offSide),s=-2,u=-1,l=-2,h=-1,f=function(e){if(-1!==s&&(-2===s||s>e-1)){s=-1,u=-1;for(var t=e-2;t>=0;t--){var n=i._computeIndentLevel(t);if(n>=0){s=t,u=n;break}}}if(-2===l){l=-1,h=-1;for(var a=e;a<r;a++){var o=i._computeIndentLevel(a);if(o>=0){l=a,h=o;break}}}},c=-2,d=-1,g=-2,m=-1,k=function(e){if(-2===c){c=-1,d=-1;for(var t=e-2;t>=0;t--){var n=i._computeIndentLevel(t);if(n>=0){c=t,d=n;break}}}if(-1!==g&&(-2===g||g<e-1)){g=-1,m=-1;for(var a=e;a<r;a++){var o=i._computeIndentLevel(a);if(o>=0){g=a,m=o;break}}}},p=0,C=!0,y=0,b=!0,_=0,I=0,w=0;C||b;w++){var x=e-w,L=e+w;w>1&&(x<1||x<t)&&(C=!1),w>1&&(L>r||L>n)&&(b=!1),w>5e4&&(C=!1,b=!1);var S=-1;if(C&&x>=1){var E=this._computeIndentLevel(x-1);E>=0?(l=x-1,h=E,S=Math.ceil(E/this.textModel.getOptions().indentSize)):(f(x),S=this._getIndentLevelForWhitespaceLine(o,u,h))}var R=-1;if(b&&L<=r){var O=this._computeIndentLevel(L-1);O>=0?(c=L-1,d=O,R=Math.ceil(O/this.textModel.getOptions().indentSize)):(k(L),R=this._getIndentLevelForWhitespaceLine(o,d,m))}if(0!==w){if(1===w){if(L<=r&&R>=0&&I+1===R){C=!1,p=L,y=L,_=R;continue}if(x>=1&&S>=0&&S-1===I){b=!1,p=x,y=x,_=S;continue}if(p=e,y=e,0===(_=I))return{startLineNumber:p,endLineNumber:y,indent:_}}C&&(S>=_?p=x:C=!1),b&&(R>=_?y=L:b=!1)}else I=S}return{startLineNumber:p,endLineNumber:y,indent:_}}},{key:"getLinesBracketGuides",value:function(e,t,n,r){for(var a,o=[],s=e;s<=t;s++)o.push([]);var h=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new f.e(e,1,t,this.textModel.getLineMaxColumn(t))).toArray(),c=void 0;if(n&&h.length>0){var d=(e<=n.lineNumber&&n.lineNumber<=t?h:this.textModel.bracketPairs.getBracketPairsInRange(f.e.fromPositions(n)).toArray()).filter((function(e){return f.e.strictContainsPosition(e.range,n)}));c=null===(a=(0,u.dF)(d,(function(e){return true})))||void 0===a?void 0:a.range}var v,m=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,p=new k,C=(0,i.Z)(h);try{for(C.s();!(v=C.n()).done;){var y=v.value;if(y.closingBracketRange){var b=c&&y.range.equalsRange(c);if(b||r.includeInactive){var _=p.getInlineClassName(y.nestingLevel,y.nestingLevelOfEqualBracketType,m)+(r.highlightActive&&b?" "+p.activeClassName:""),I=y.openingBracketRange.getStartPosition(),w=y.closingBracketRange.getStartPosition(),x=r.horizontalGuides===g.s6.Enabled||r.horizontalGuides===g.s6.EnabledForActive&&b;if(y.range.startLineNumber!==y.range.endLineNumber){var L=this.getVisibleColumnFromPosition(w),S=this.getVisibleColumnFromPosition(y.openingBracketRange.getStartPosition()),E=Math.min(S,L,y.minVisibleColumnIndentation+1),R=!1;l.LC(this.textModel.getLineContent(y.closingBracketRange.startLineNumber))<y.closingBracketRange.startColumn-1&&(R=!0);for(var O=Math.max(I.lineNumber,e),T=Math.min(w.lineNumber,t),B=R?1:0,Z=O;Z<T+B;Z++)o[Z-e].push(new g.UO(E,-1,_,null,Z===I.lineNumber?I.column:-1,Z===w.lineNumber?w.column:-1));x&&(I.lineNumber>=e&&S>E&&o[I.lineNumber-e].push(new g.UO(E,-1,_,new g.vW(!1,I.column),-1,-1)),w.lineNumber<=t&&L>E&&o[w.lineNumber-e].push(new g.UO(E,-1,_,new g.vW(!R,w.column),-1,-1)))}else x&&o[y.range.startLineNumber-e].push(new g.UO(-1,y.openingBracketRange.getEndPosition().column,_,new g.vW(!1,w.column),-1,-1))}}}}catch(A){C.e(A)}finally{C.f()}for(var N=0,P=o;N<P.length;N++){P[N].sort((function(e,t){return e.visibleColumn-t.visibleColumn}))}return o}},{key:"getVisibleColumnFromPosition",value:function(e){return h.i.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}},{key:"getLinesIndentGuides",value:function(e,t){this.assertNotDisposed();var n=this.textModel.getLineCount();if(e<1||e>n)throw new Error("Illegal value for startLineNumber");if(t<1||t>n)throw new Error("Illegal value for endLineNumber");for(var i=this.textModel.getOptions(),r=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,a=Boolean(r&&r.offSide),o=new Array(t-e+1),s=-2,u=-1,l=-2,h=-1,f=e;f<=t;f++){var c=f-e,d=this._computeIndentLevel(f-1);if(d>=0)s=f-1,u=d,o[c]=Math.ceil(d/i.indentSize);else{if(-2===s){s=-1,u=-1;for(var g=f-2;g>=0;g--){var v=this._computeIndentLevel(g);if(v>=0){s=g,u=v;break}}}if(-1!==l&&(-2===l||l<f-1)){l=-1,h=-1;for(var m=f;m<n;m++){var k=this._computeIndentLevel(m);if(k>=0){l=m,h=k;break}}}o[c]=this._getIndentLevelForWhitespaceLine(a,u,h)}}return o}},{key:"_getIndentLevelForWhitespaceLine",value:function(e,t,n){var i=this.textModel.getOptions();return-1===t||-1===n?0:t<n?1+Math.floor(t/i.indentSize):t===n||e?Math.ceil(n/i.indentSize):1+Math.floor(n/i.indentSize)}}]),n}(c.U),k=function(){function e(){(0,r.Z)(this,e),this.activeClassName="indent-active"}return(0,a.Z)(e,[{key:"getInlineClassName",value:function(e,t,n){return this.getInlineClassNameOfLevel(n?t:e)}},{key:"getInlineClassNameOfLevel",value:function(e){return"bracket-indent-guide lvl-".concat(e%30)}}]),e}()},54761:function(e,t,n){n.d(t,{L:function(){return s}});var i=n(91976),r=n(22951),a=(0,i.Z)((function e(){(0,r.Z)(this,e),this.spacesDiff=0,this.looksLikeAlignment=!1}));function o(e,t,n,i,r){var a;for(r.spacesDiff=0,r.looksLikeAlignment=!1,a=0;a<t&&a<i;a++){if(e.charCodeAt(a)!==n.charCodeAt(a))break}for(var o=0,s=0,u=a;u<t;u++){32===e.charCodeAt(u)?o++:s++}for(var l=0,h=0,f=a;f<i;f++){32===n.charCodeAt(f)?l++:h++}if(!(o>0&&s>0)&&!(l>0&&h>0)){var c=Math.abs(s-h),d=Math.abs(o-l);if(0===c)return r.spacesDiff=d,void(d>0&&0<=l-1&&l-1<e.length&&l<n.length&&32!==n.charCodeAt(l)&&32===e.charCodeAt(l-1)&&44===e.charCodeAt(e.length-1)&&(r.looksLikeAlignment=!0));d%c!==0||(r.spacesDiff=d/c)}}function s(e,t,n){for(var i=Math.min(e.getLineCount(),1e4),r=0,s=0,u="",l=0,h=[0,0,0,0,0,0,0,0,0],f=new a,c=1;c<=i;c++){for(var d=e.getLineLength(c),g=e.getLineContent(c),v=d<=65536,m=!1,k=0,p=0,C=0,y=0,b=d;y<b;y++){var _=v?g.charCodeAt(y):e.getLineCharCode(c,y);if(9===_)C++;else{if(32!==_){m=!0,k=y;break}p++}}if(m&&(C>0?r++:p>1&&s++,o(u,l,g,k,f),!f.looksLikeAlignment||n&&t===f.spacesDiff)){var I=f.spacesDiff;I<=8&&h[I]++,u=g,l=k}}var w=n;r!==s&&(w=r<s);var x=t;if(w){var L=w?0:.1*i;[2,4,6,8,3,5,7].forEach((function(e){var t=h[e];t>L&&(L=t,x=e)})),4===x&&h[4]>0&&h[2]>0&&h[2]>=h[4]/2&&(x=2)}return{insertSpaces:w,tabSize:x}}},6189:function(e,t,n){n.d(t,{IF:function(){return k},fL:function(){return v},sR:function(){return L}});var i=n(22951),r=n(91976);function a(e){return(1&e.metadata)>>>0}function o(e,t){e.metadata=254&e.metadata|t<<0}function s(e){return(2&e.metadata)>>>1===1}function u(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function l(e){return(4&e.metadata)>>>2===1}function h(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function f(e){return(64&e.metadata)>>>6===1}function c(e,t){e.metadata=191&e.metadata|(t?1:0)<<6}function d(e,t){e.metadata=231&e.metadata|t<<3}function g(e,t){e.metadata=223&e.metadata|(t?1:0)<<5}var v=function(){function e(t,n,r){(0,i.Z)(this,e),this.metadata=0,this.parent=this,this.left=this,this.right=this,o(this,1),this.start=n,this.end=r,this.delta=0,this.maxEnd=r,this.id=t,this.ownerId=0,this.options=null,h(this,!1),c(this,!1),d(this,1),g(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=n,this.cachedAbsoluteEnd=r,this.range=null,u(this,!1)}return(0,r.Z)(e,[{key:"reset",value:function(e,t,n,i){this.start=t,this.end=n,this.maxEnd=n,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=i}},{key:"setOptions",value:function(e){this.options=e;var t=this.options.className;h(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),c(this,null!==this.options.glyphMarginClassName),d(this,this.options.stickiness),g(this,this.options.collapseOnReplaceEdit)}},{key:"setCachedOffsets",value:function(e,t,n){this.cachedVersionId!==n&&(this.range=null),this.cachedVersionId=n,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}},{key:"detach",value:function(){this.parent=null,this.left=null,this.right=null}}]),e}(),m=new v(null,0,0);m.parent=m,m.left=m,m.right=m,o(m,0);var k=function(){function e(){(0,i.Z)(this,e),this.root=m,this.requestNormalizeDelta=!1}return(0,r.Z)(e,[{key:"intervalSearch",value:function(e,t,n,i,r,a){return this.root===m?[]:function(e,t,n,i,r,a,o){var h=e.root,c=0,d=0,g=0,v=[],k=0;for(;h!==m;)if(s(h))u(h.left,!1),u(h.right,!1),h===h.parent.right&&(c-=h.parent.delta),h=h.parent;else{if(!s(h.left)){if(c+h.maxEnd<t){u(h,!0);continue}if(h.left!==m){h=h.left;continue}}if((d=c+h.start)>n)u(h,!0);else{if((g=c+h.end)>=t){h.setCachedOffsets(d,g,a);var p=!0;i&&h.ownerId&&h.ownerId!==i&&(p=!1),r&&l(h)&&(p=!1),o&&!f(h)&&(p=!1),p&&(v[k++]=h)}u(h,!0),h.right===m||s(h.right)||(c+=h.delta,h=h.right)}}return u(e.root,!1),v}(this,e,t,n,i,r,a)}},{key:"search",value:function(e,t,n,i){return this.root===m?[]:function(e,t,n,i,r){var a=e.root,o=0,h=0,c=0,d=[],g=0;for(;a!==m;)if(s(a))u(a.left,!1),u(a.right,!1),a===a.parent.right&&(o-=a.parent.delta),a=a.parent;else if(a.left===m||s(a.left)){h=o+a.start,c=o+a.end,a.setCachedOffsets(h,c,i);var v=!0;t&&a.ownerId&&a.ownerId!==t&&(v=!1),n&&l(a)&&(v=!1),r&&!f(a)&&(v=!1),v&&(d[g++]=a),u(a,!0),a.right===m||s(a.right)||(o+=a.delta,a=a.right)}else a=a.left;return u(e.root,!1),d}(this,e,t,n,i)}},{key:"collectNodesFromOwner",value:function(e){return function(e,t){var n=e.root,i=[],r=0;for(;n!==m;)s(n)?(u(n.left,!1),u(n.right,!1),n=n.parent):n.left===m||s(n.left)?(n.ownerId===t&&(i[r++]=n),u(n,!0),n.right===m||s(n.right)||(n=n.right)):n=n.left;return u(e.root,!1),i}(this,e)}},{key:"collectNodesPostOrder",value:function(){return function(e){var t=e.root,n=[],i=0;for(;t!==m;)s(t)?(u(t.left,!1),u(t.right,!1),t=t.parent):t.left===m||s(t.left)?t.right===m||s(t.right)?(n[i++]=t,u(t,!0)):t=t.right:t=t.left;return u(e.root,!1),n}(this)}},{key:"insert",value:function(e){y(this,e),this._normalizeDeltaIfNecessary()}},{key:"delete",value:function(e){b(this,e),this._normalizeDeltaIfNecessary()}},{key:"resolveNode",value:function(e,t){for(var n=e,i=0;e!==this.root;)e===e.parent.right&&(i+=e.parent.delta),e=e.parent;var r=n.start+i,a=n.end+i;n.setCachedOffsets(r,a,t)}},{key:"acceptReplace",value:function(e,t,n,i){for(var r=function(e,t,n){var i=e.root,r=0,a=0,o=0,l=[],h=0;for(;i!==m;)if(s(i))u(i.left,!1),u(i.right,!1),i===i.parent.right&&(r-=i.parent.delta),i=i.parent;else{if(!s(i.left)){if(r+i.maxEnd<t){u(i,!0);continue}if(i.left!==m){i=i.left;continue}}(a=r+i.start)>n?u(i,!0):((o=r+i.end)>=t&&(i.setCachedOffsets(a,o,0),l[h++]=i),u(i,!0),i.right===m||s(i.right)||(r+=i.delta,i=i.right))}return u(e.root,!1),l}(this,e,e+t),a=0,o=r.length;a<o;a++){b(this,r[a])}this._normalizeDeltaIfNecessary(),function(e,t,n,i){var r=e.root,a=0,o=i-(n-t);for(;r!==m;)if(s(r))u(r.left,!1),u(r.right,!1),r===r.parent.right&&(a-=r.parent.delta),L(r),r=r.parent;else{if(!s(r.left)){if(a+r.maxEnd<t){u(r,!0);continue}if(r.left!==m){r=r.left;continue}}a+r.start>n?(r.start+=o,r.end+=o,r.delta+=o,(r.delta<-1073741824||r.delta>1073741824)&&(e.requestNormalizeDelta=!0),u(r,!0)):(u(r,!0),r.right===m||s(r.right)||(a+=r.delta,r=r.right))}u(e.root,!1)}(this,e,e+t,n),this._normalizeDeltaIfNecessary();for(var l=0,h=r.length;l<h;l++){var f=r[l];f.start=f.cachedAbsoluteStart,f.end=f.cachedAbsoluteEnd,C(f,e,e+t,n,i),f.maxEnd=f.end,y(this,f)}this._normalizeDeltaIfNecessary()}},{key:"_normalizeDeltaIfNecessary",value:function(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(e){var t=e.root,n=0;for(;t!==m;)t.left===m||s(t.left)?t.right===m||s(t.right)?(t.start=n+t.start,t.end=n+t.end,t.delta=0,L(t),u(t,!0),u(t.left,!1),u(t.right,!1),t===t.parent.right&&(n-=t.parent.delta),t=t.parent):(n+=t.delta,t=t.right):t=t.left;u(e.root,!1)}(this))}}]),e}();function p(e,t,n,i){return e<n||!(e>n)&&(1!==i&&(2===i||t))}function C(e,t,n,i,r){var a=function(e){return(24&e.metadata)>>>3}(e),o=0===a||2===a,s=1===a||2===a,u=n-t,l=i,h=Math.min(u,l),f=e.start,c=!1,d=e.end,g=!1;t<=f&&d<=n&&function(e){return(32&e.metadata)>>>5===1}(e)&&(e.start=t,c=!0,e.end=t,g=!0);var v=r?1:u>0?2:0;if(!c&&p(f,o,t,v)&&(c=!0),!g&&p(d,s,t,v)&&(g=!0),h>0&&!r){var m=u>l?2:0;!c&&p(f,o,t+h,m)&&(c=!0),!g&&p(d,s,t+h,m)&&(g=!0)}var k=r?1:0;!c&&p(f,o,n,k)&&(e.start=t+l,c=!0),!g&&p(d,s,n,k)&&(e.end=t+l,g=!0);var C=l-u;c||(e.start=Math.max(0,f+C)),g||(e.end=Math.max(0,d+C)),e.start>e.end&&(e.end=e.start)}function y(e,t){if(e.root===m)return t.parent=m,t.left=m,t.right=m,o(t,0),e.root=t,e.root;!function(e,t){var n=0,i=e.root,r=t.start,a=t.end;for(;;){if(E(r,a,i.start+n,i.end+n)<0){if(i.left===m){t.start-=n,t.end-=n,t.maxEnd-=n,i.left=t;break}i=i.left}else{if(i.right===m){t.start-=n+i.delta,t.end-=n+i.delta,t.maxEnd-=n+i.delta,i.right=t;break}n+=i.delta,i=i.right}}t.parent=i,t.left=m,t.right=m,o(t,1)}(e,t),S(t.parent);for(var n=t;n!==e.root&&1===a(n.parent);)if(n.parent===n.parent.parent.left){var i=n.parent.parent.right;1===a(i)?(o(n.parent,0),o(i,0),o(n.parent.parent,1),n=n.parent.parent):(n===n.parent.right&&I(e,n=n.parent),o(n.parent,0),o(n.parent.parent,1),w(e,n.parent.parent))}else{var r=n.parent.parent.left;1===a(r)?(o(n.parent,0),o(r,0),o(n.parent.parent,1),n=n.parent.parent):(n===n.parent.left&&w(e,n=n.parent),o(n.parent,0),o(n.parent.parent,1),I(e,n.parent.parent))}return o(e.root,0),t}function b(e,t){var n,i;if(t.left===m?(i=t,(n=t.right).delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta):t.right===m?(n=t.left,i=t):((n=(i=function(e){for(;e.left!==m;)e=e.left;return e}(t.right)).right).start+=i.delta,n.end+=i.delta,n.delta+=i.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta,i.delta=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0)),i===e.root)return e.root=n,o(n,0),t.detach(),_(),L(n),void(e.root.parent=m);var r,s=1===a(i);if(i===i.parent.left?i.parent.left=n:i.parent.right=n,i===t?n.parent=i.parent:(i.parent===t?n.parent=i:n.parent=i.parent,i.left=t.left,i.right=t.right,i.parent=t.parent,o(i,a(t)),t===e.root?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left!==m&&(i.left.parent=i),i.right!==m&&(i.right.parent=i)),t.detach(),s)return S(n.parent),i!==t&&(S(i),S(i.parent)),void _();for(S(n),S(n.parent),i!==t&&(S(i),S(i.parent));n!==e.root&&0===a(n);)n===n.parent.left?(1===a(r=n.parent.right)&&(o(r,0),o(n.parent,1),I(e,n.parent),r=n.parent.right),0===a(r.left)&&0===a(r.right)?(o(r,1),n=n.parent):(0===a(r.right)&&(o(r.left,0),o(r,1),w(e,r),r=n.parent.right),o(r,a(n.parent)),o(n.parent,0),o(r.right,0),I(e,n.parent),n=e.root)):(1===a(r=n.parent.left)&&(o(r,0),o(n.parent,1),w(e,n.parent),r=n.parent.left),0===a(r.left)&&0===a(r.right)?(o(r,1),n=n.parent):(0===a(r.left)&&(o(r.right,0),o(r,1),I(e,r),r=n.parent.left),o(r,a(n.parent)),o(n.parent,0),o(r.left,0),w(e,n.parent),n=e.root));o(n,0),_()}function _(){m.parent=m,m.delta=0,m.start=0,m.end=0}function I(e,t){var n=t.right;n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,t.right=n.left,n.left!==m&&(n.left.parent=t),n.parent=t.parent,t.parent===m?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n,L(t),L(n)}function w(e,t){var n=t.left;t.delta-=n.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=n.delta,t.end-=n.delta,t.left=n.right,n.right!==m&&(n.right.parent=t),n.parent=t.parent,t.parent===m?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n,L(t),L(n)}function x(e){var t=e.end;if(e.left!==m){var n=e.left.maxEnd;n>t&&(t=n)}if(e.right!==m){var i=e.right.maxEnd+e.delta;i>t&&(t=i)}return t}function L(e){e.maxEnd=x(e)}function S(e){for(;e!==m;){var t=x(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function E(e,t,n,i){return e===n?t-i:e-n}},31613:function(e,t,n){n.d(t,{gD:function(){return u}});var i=n(22951),r=n(91976),a=n(26728),o=n(99924),s=n(43232),u=function(){function e(t,n,r,a,o){(0,i.Z)(this,e),this.injectionOffsets=t,this.injectionOptions=n,this.breakOffsets=r,this.breakOffsetsVisibleColumn=a,this.wrappedTextIndentLength=o}return(0,r.Z)(e,[{key:"getOutputLineCount",value:function(){return this.breakOffsets.length}},{key:"getMinOutputOffset",value:function(e){return e>0?this.wrappedTextIndentLength:0}},{key:"getLineLength",value:function(e){var t=e>0?this.breakOffsets[e-1]:0,n=this.breakOffsets[e]-t;return e>0&&(n+=this.wrappedTextIndentLength),n}},{key:"getMaxOutputOffset",value:function(e){return this.getLineLength(e)}},{key:"translateToInputOffset",value:function(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));var n=0===e?t:this.breakOffsets[e-1]+t;if(null!==this.injectionOffsets)for(var i=0;i<this.injectionOffsets.length&&n>this.injectionOffsets[i];i++)n<this.injectionOffsets[i]+this.injectionOptions[i].content.length?n=this.injectionOffsets[i]:n-=this.injectionOptions[i].content.length;return n}},{key:"translateToOutputPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e;if(null!==this.injectionOffsets)for(var i=0;i<this.injectionOffsets.length&&!(e<this.injectionOffsets[i])&&(1===t||e!==this.injectionOffsets[i]);i++)n+=this.injectionOptions[i].content.length;return this.offsetInInputWithInjectionsToOutputPosition(n,t)}},{key:"offsetInInputWithInjectionsToOutputPosition",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=0,i=this.breakOffsets.length-1,r=0,a=0;n<=i;){r=n+(i-n)/2|0;var o=this.breakOffsets[r];if(a=r>0?this.breakOffsets[r-1]:0,0===t)if(e<=a)i=r-1;else{if(!(e>o))break;n=r+1}else if(e<a)i=r-1;else{if(!(e>=o))break;n=r+1}}var s=e-a;return r>0&&(s+=this.wrappedTextIndentLength),new f(r,s)}},{key:"normalizeOutputPosition",value:function(e,t,n){if(null!==this.injectionOffsets){var i=this.outputPositionToOffsetInInputWithInjections(e,t),r=this.normalizeOffsetInInputWithInjectionsAroundInjections(i,n);if(r!==i)return this.offsetInInputWithInjectionsToOutputPosition(r,n)}if(0===n){if(e>0&&t===this.getMinOutputOffset(e))return new f(e-1,this.getMaxOutputOffset(e-1))}else if(1===n){if(e<this.getOutputLineCount()-1&&t===this.getMaxOutputOffset(e))return new f(e+1,this.getMinOutputOffset(e+1))}return new f(e,t)}},{key:"outputPositionToOffsetInInputWithInjections",value:function(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}},{key:"normalizeOffsetInInputWithInjectionsAroundInjections",value:function(e,t){var n=this.getInjectedTextAtOffset(e);if(!n)return e;if(2===t){if(e===n.offsetInInputWithInjections+n.length&&l(this.injectionOptions[n.injectedTextIndex].cursorStops))return n.offsetInInputWithInjections+n.length;var i=n.offsetInInputWithInjections;if(h(this.injectionOptions[n.injectedTextIndex].cursorStops))return i;for(var r=n.injectedTextIndex-1;r>=0&&this.injectionOffsets[r]===this.injectionOffsets[n.injectedTextIndex]&&!l(this.injectionOptions[r].cursorStops)&&(i-=this.injectionOptions[r].content.length,!h(this.injectionOptions[r].cursorStops));)r--;return i}if(1===t||4===t){for(var o=n.offsetInInputWithInjections+n.length,s=n.injectedTextIndex;s+1<this.injectionOffsets.length&&this.injectionOffsets[s+1]===this.injectionOffsets[s];)o+=this.injectionOptions[s+1].content.length,s++;return o}if(0===t||3===t){for(var u=n.offsetInInputWithInjections,f=n.injectedTextIndex;f-1>=0&&this.injectionOffsets[f-1]===this.injectionOffsets[f];)u-=this.injectionOptions[f-1].content.length,f--;return u}(0,a.vE)(t)}},{key:"getInjectedText",value:function(e,t){var n=this.outputPositionToOffsetInInputWithInjections(e,t),i=this.getInjectedTextAtOffset(n);return i?{options:this.injectionOptions[i.injectedTextIndex]}:null}},{key:"getInjectedTextAtOffset",value:function(e){var t=this.injectionOffsets,n=this.injectionOptions;if(null!==t)for(var i=0,r=0;r<t.length;r++){var a=n[r].content.length,o=t[r]+i,s=t[r]+i+a;if(o>e)break;if(e<=s)return{injectedTextIndex:r,offsetInInputWithInjections:o,length:a};i+=a}}}]),e}();function l(e){return null===e||void 0===e||(e===s.RM.Right||e===s.RM.Both)}function h(e){return null===e||void 0===e||(e===s.RM.Left||e===s.RM.Both)}var f=function(){function e(t,n){(0,i.Z)(this,e),this.outputLineIndex=t,this.outputOffset=n}return(0,r.Z)(e,[{key:"toString",value:function(){return"".concat(this.outputLineIndex,":").concat(this.outputOffset)}},{key:"toPosition",value:function(e){return new o.L(e+this.outputLineIndex,this.outputOffset+1)}}]),e}()}}]);
//# sourceMappingURL=monaco-editor-vendor.afb535f1.e9406636.js.map